var Af=e=>{throw TypeError(e)};var fu=(e,t,n)=>t.has(e)||Af("Cannot "+n);var E=(e,t,n)=>(fu(e,t,"read from private field"),n?n.call(e):t.get(e)),X=(e,t,n)=>t.has(e)?Af("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$=(e,t,n,r)=>(fu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),se=(e,t,n)=>(fu(e,t,"access private method"),n);var fa=(e,t,n,r)=>({set _(i){$(e,t,i,n)},get _(){return E(e,t,r)}});function sg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var og={exports:{}},Dl={},ag={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),Av=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),jv=Symbol.for("react.provider"),Fv=Symbol.for("react.context"),zv=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),Bv=Symbol.for("react.memo"),Hv=Symbol.for("react.lazy"),Lf=Symbol.iterator;function Wv(e){return e===null||typeof e!="object"?null:(e=Lf&&e[Lf]||e["@@iterator"],typeof e=="function"?e:null)}var lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ug=Object.assign,cg={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||lg}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dg(){}dg.prototype=Ps.prototype;function wd(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||lg}var _d=wd.prototype=new dg;_d.constructor=wd;ug(_d,Ps.prototype);_d.isPureReactComponent=!0;var Uf=Array.isArray,fg=Object.prototype.hasOwnProperty,Sd={current:null},hg={key:!0,ref:!0,__self:!0,__source:!0};function pg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)fg.call(t,r)&&!hg.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vo,type:e,key:s,ref:o,props:i,_owner:Sd.current}}function qv(e,t){return{$$typeof:Vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vo}function Vv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jf=/\/+/g;function hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vv(""+e.key):t.toString(36)}function Aa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vo:case Mv:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+hu(o,0):r,Uf(i)?(n="",e!=null&&(n=e.replace(jf,"$&/")+"/"),Aa(i,t,n,"",function(u){return u})):i!=null&&(Ed(i)&&(i=qv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Uf(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+hu(s,a);o+=Aa(s,t,n,l,i)}else if(l=Wv(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+hu(s,a++),o+=Aa(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ha(e,t,n){if(e==null)return e;var r=[],i=0;return Aa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Qv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},La={transition:null},Kv={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:La,ReactCurrentOwner:Sd};function gg(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:ha,forEach:function(e,t,n){ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ha(e,function(){t++}),t},toArray:function(e){return ha(e,function(t){return t})||[]},only:function(e){if(!Ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Ps;ue.Fragment=Av;ue.Profiler=Uv;ue.PureComponent=wd;ue.StrictMode=Lv;ue.Suspense=$v;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kv;ue.act=gg;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ug({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)fg.call(t,l)&&!hg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vo,type:e.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(e){return e={$$typeof:Fv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jv,_context:e},e.Consumer=e};ue.createElement=pg;ue.createFactory=function(e){var t=pg.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:zv,render:e}};ue.isValidElement=Ed;ue.lazy=function(e){return{$$typeof:Hv,_payload:{_status:-1,_result:e},_init:Qv}};ue.memo=function(e,t){return{$$typeof:Bv,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=La.transition;La.transition={};try{e()}finally{La.transition=t}};ue.unstable_act=gg;ue.useCallback=function(e,t){return St.current.useCallback(e,t)};ue.useContext=function(e){return St.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return St.current.useDeferredValue(e)};ue.useEffect=function(e,t){return St.current.useEffect(e,t)};ue.useId=function(){return St.current.useId()};ue.useImperativeHandle=function(e,t,n){return St.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return St.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return St.current.useReducer(e,t,n)};ue.useRef=function(e){return St.current.useRef(e)};ue.useState=function(e){return St.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return St.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return St.current.useTransition()};ue.version="18.3.1";ag.exports=ue;var I=ag.exports;const F=Ts(I),Jv=sg({__proto__:null,default:F},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=I,Xv=Symbol.for("react.element"),Gv=Symbol.for("react.fragment"),Zv=Object.prototype.hasOwnProperty,ew=Yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tw={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Zv.call(t,r)&&!tw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Xv,type:e,key:s,ref:o,props:i,_owner:ew.current}}Dl.Fragment=Gv;Dl.jsx=mg;Dl.jsxs=mg;og.exports=Dl;var A=og.exports,Yu={},yg={exports:{}},$t={},vg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,j){var V=U.length;U.push(j);e:for(;0<V;){var ge=V-1>>>1,K=U[ge];if(0<i(K,j))U[ge]=j,U[V]=K,V=ge;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],V=U.pop();if(V!==j){U[0]=V;e:for(var ge=0,K=U.length,oe=K>>>1;ge<oe;){var ae=2*(ge+1)-1,we=U[ae],Ue=ae+1,de=U[Ue];if(0>i(we,V))Ue<K&&0>i(de,we)?(U[ge]=de,U[Ue]=V,ge=Ue):(U[ge]=we,U[ae]=V,ge=ae);else if(Ue<K&&0>i(de,V))U[ge]=de,U[Ue]=V,ge=Ue;else break e}}return j}function i(U,j){var V=U.sortIndex-j.sortIndex;return V!==0?V:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,p=3,h=!1,w=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function k(U){if(y=!1,g(U),!w)if(n(l)!==null)w=!0,qe(C);else{var j=n(u);j!==null&&Oe(k,j.startTime-U)}}function C(U,j){w=!1,y&&(y=!1,m(b),b=-1),h=!0;var V=p;try{for(g(j),c=n(l);c!==null&&(!(c.expirationTime>j)||U&&!J());){var ge=c.callback;if(typeof ge=="function"){c.callback=null,p=c.priorityLevel;var K=ge(c.expirationTime<=j);j=e.unstable_now(),typeof K=="function"?c.callback=K:c===n(l)&&r(l),g(j)}else r(l);c=n(l)}if(c!==null)var oe=!0;else{var ae=n(u);ae!==null&&Oe(k,ae.startTime-j),oe=!1}return oe}finally{c=null,p=V,h=!1}}var T=!1,_=null,b=-1,D=5,O=-1;function J(){return!(e.unstable_now()-O<D)}function G(){if(_!==null){var U=e.unstable_now();O=U;var j=!0;try{j=_(!0,U)}finally{j?ce():(T=!1,_=null)}}else T=!1}var ce;if(typeof f=="function")ce=function(){f(G)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,We=xe.port2;xe.port1.onmessage=G,ce=function(){We.postMessage(null)}}else ce=function(){v(G,0)};function qe(U){_=U,T||(T=!0,ce())}function Oe(U,j){b=v(function(){U(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,qe(C))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var V=p;p=j;try{return U()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=p;p=U;try{return j()}finally{p=V}},e.unstable_scheduleCallback=function(U,j,V){var ge=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ge+V:ge):V=ge,U){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,U={id:d++,callback:j,priorityLevel:U,startTime:V,expirationTime:K,sortIndex:-1},V>ge?(U.sortIndex=V,t(u,U),n(l)===null&&U===n(u)&&(y?(m(b),b=-1):y=!0,Oe(k,V-ge))):(U.sortIndex=K,t(l,U),w||h||(w=!0,qe(C))),U},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(U){var j=p;return function(){var V=p;p=j;try{return U.apply(this,arguments)}finally{p=V}}}})(wg);vg.exports=wg;var nw=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw=I,zt=nw;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _g=new Set,vo={};function Ii(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(vo[e]=t,e=0;e<t.length;e++)_g.add(t[e])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,iw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ff={},zf={};function sw(e){return Xu.call(zf,e)?!0:Xu.call(Ff,e)?!1:iw.test(e)?zf[e]=!0:(Ff[e]=!0,!1)}function ow(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aw(e,t,n,r){if(t===null||typeof t>"u"||ow(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var kd=/[\-:]([a-z])/g;function xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kd,xd);ot[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kd,xd);ot[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kd,xd);ot[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cd(e,t,n,r){var i=ot.hasOwnProperty(t)?ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aw(t,n,i,r)&&(n=null),r||i===null?sw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var er=rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),bd=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),Rd=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),ec=Symbol.for("react.suspense_list"),Td=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),kg=Symbol.for("react.offscreen"),$f=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=$f&&e[$f]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,pu;function no(e){if(pu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pu=t&&t[1]||""}return`
`+pu+e}var gu=!1;function mu(e,t){if(!e||gu)return"";gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{gu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?no(e):""}function lw(e){switch(e.tag){case 5:return no(e.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return e=mu(e.type,!1),e;case 11:return e=mu(e.type.render,!1),e;case 1:return e=mu(e.type,!0),e;default:return""}}function tc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case Bi:return"Portal";case Gu:return"Profiler";case bd:return"StrictMode";case Zu:return"Suspense";case ec:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eg:return(e.displayName||"Context")+".Consumer";case Sg:return(e._context.displayName||"Context")+".Provider";case Rd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Td:return t=e.displayName||null,t!==null?t:tc(e.type)||"Memo";case or:t=e._payload,e=e._init;try{return tc(e(t))}catch{}}return null}function uw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tc(t);case 8:return t===bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cw(e){var t=xg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ga(e){e._valueTracker||(e._valueTracker=cw(e))}function Cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nc(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bg(e,t){t=t.checked,t!=null&&Cd(e,"checked",t,!1)}function rc(e,t){bg(e,t);var n=Dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ic(e,t.type,n):t.hasOwnProperty("defaultValue")&&ic(e,t.type,Dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ic(e,t,n){(t!=="number"||Za(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ro=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(ro(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dr(n)}}function Rg(e,t){var n=Dr(t.value),r=Dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ma,Pg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dw=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(e){dw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lo[t]=lo[e]})});function Ig(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lo.hasOwnProperty(e)&&lo[e]?(""+t).trim():t+"px"}function Ng(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ig(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fw=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ac(e,t){if(t){if(fw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function lc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=null;function Pd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cc=null,ts=null,ns=null;function Vf(e){if(e=Jo(e)){if(typeof cc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=jl(t),cc(e.stateNode,e.type,t))}}function Og(e){ts?ns?ns.push(e):ns=[e]:ts=e}function Dg(){if(ts){var e=ts,t=ns;if(ns=ts=null,Vf(e),t)for(e=0;e<t.length;e++)Vf(t[e])}}function Mg(e,t){return e(t)}function Ag(){}var yu=!1;function Lg(e,t,n){if(yu)return e(t,n);yu=!0;try{return Mg(e,t,n)}finally{yu=!1,(ts!==null||ns!==null)&&(Ag(),Dg())}}function _o(e,t){var n=e.stateNode;if(n===null)return null;var r=jl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var dc=!1;if(Yn)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){dc=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{dc=!1}function hw(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var uo=!1,el=null,tl=!1,fc=null,pw={onError:function(e){uo=!0,el=e}};function gw(e,t,n,r,i,s,o,a,l){uo=!1,el=null,hw.apply(pw,arguments)}function mw(e,t,n,r,i,s,o,a,l){if(gw.apply(this,arguments),uo){if(uo){var u=el;uo=!1,el=null}else throw Error(L(198));tl||(tl=!0,fc=u)}}function Ni(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ug(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qf(e){if(Ni(e)!==e)throw Error(L(188))}function yw(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qf(i),e;if(s===r)return Qf(i),t;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function jg(e){return e=yw(e),e!==null?Fg(e):null}function Fg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fg(e);if(t!==null)return t;e=e.sibling}return null}var zg=zt.unstable_scheduleCallback,Kf=zt.unstable_cancelCallback,vw=zt.unstable_shouldYield,ww=zt.unstable_requestPaint,Be=zt.unstable_now,_w=zt.unstable_getCurrentPriorityLevel,Id=zt.unstable_ImmediatePriority,$g=zt.unstable_UserBlockingPriority,nl=zt.unstable_NormalPriority,Sw=zt.unstable_LowPriority,Bg=zt.unstable_IdlePriority,Ml=null,Nn=null;function Ew(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Ml,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Cw,kw=Math.log,xw=Math.LN2;function Cw(e){return e>>>=0,e===0?32:31-(kw(e)/xw|0)|0}var ya=64,va=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=io(a):(s&=o,s!==0&&(r=io(s)))}else o=n&~i,o!==0?r=io(o):s!==0&&(r=io(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cn(t),i=1<<n,r|=e[n],t&=~i;return r}function bw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bw(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function hc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hg(){var e=ya;return ya<<=1,!(ya&4194240)&&(ya=64),e}function vu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function Tw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Nd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ke=0;function Wg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qg,Od,Vg,Qg,Kg,pc=!1,wa=[],xr=null,Cr=null,br=null,So=new Map,Eo=new Map,ur=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(t.pointerId)}}function Vs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Jo(t),t!==null&&Od(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Iw(e,t,n,r,i){switch(t){case"focusin":return xr=Vs(xr,e,t,n,r,i),!0;case"dragenter":return Cr=Vs(Cr,e,t,n,r,i),!0;case"mouseover":return br=Vs(br,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return So.set(s,Vs(So.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eo.set(s,Vs(Eo.get(s)||null,e,t,n,r,i)),!0}return!1}function Jg(e){var t=ei(e.target);if(t!==null){var n=Ni(t);if(n!==null){if(t=n.tag,t===13){if(t=Ug(n),t!==null){e.blockedOn=t,Kg(e.priority,function(){Vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uc=r,n.target.dispatchEvent(r),uc=null}else return t=Jo(n),t!==null&&Od(t),e.blockedOn=n,!1;t.shift()}return!0}function Yf(e,t,n){Ua(e)&&n.delete(t)}function Nw(){pc=!1,xr!==null&&Ua(xr)&&(xr=null),Cr!==null&&Ua(Cr)&&(Cr=null),br!==null&&Ua(br)&&(br=null),So.forEach(Yf),Eo.forEach(Yf)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,pc||(pc=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,Nw)))}function ko(e){function t(i){return Qs(i,e)}if(0<wa.length){Qs(wa[0],e);for(var n=1;n<wa.length;n++){var r=wa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xr!==null&&Qs(xr,e),Cr!==null&&Qs(Cr,e),br!==null&&Qs(br,e),So.forEach(t),Eo.forEach(t),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)Jg(n),n.blockedOn===null&&ur.shift()}var rs=er.ReactCurrentBatchConfig,il=!0;function Ow(e,t,n,r){var i=ke,s=rs.transition;rs.transition=null;try{ke=1,Dd(e,t,n,r)}finally{ke=i,rs.transition=s}}function Dw(e,t,n,r){var i=ke,s=rs.transition;rs.transition=null;try{ke=4,Dd(e,t,n,r)}finally{ke=i,rs.transition=s}}function Dd(e,t,n,r){if(il){var i=gc(e,t,n,r);if(i===null)Tu(e,t,r,sl,n),Jf(e,r);else if(Iw(i,e,t,n,r))r.stopPropagation();else if(Jf(e,r),t&4&&-1<Pw.indexOf(e)){for(;i!==null;){var s=Jo(i);if(s!==null&&qg(s),s=gc(e,t,n,r),s===null&&Tu(e,t,r,sl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tu(e,t,r,null,n)}}var sl=null;function gc(e,t,n,r){if(sl=null,e=Pd(r),e=ei(e),e!==null)if(t=Ni(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ug(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function Yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_w()){case Id:return 1;case $g:return 4;case nl:case Sw:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var Sr=null,Md=null,ja=null;function Xg(){if(ja)return ja;var e,t=Md,n=t.length,r,i="value"in Sr?Sr.value:Sr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ja=i.slice(e,1<r?1-r:void 0)}function Fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function Xf(){return!1}function Bt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_a:Xf,this.isPropagationStopped=Xf,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ad=Bt(Is),Ko=Le({},Is,{view:0,detail:0}),Mw=Bt(Ko),wu,_u,Ks,Al=Le({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(wu=e.screenX-Ks.screenX,_u=e.screenY-Ks.screenY):_u=wu=0,Ks=e),wu)},movementY:function(e){return"movementY"in e?e.movementY:_u}}),Gf=Bt(Al),Aw=Le({},Al,{dataTransfer:0}),Lw=Bt(Aw),Uw=Le({},Ko,{relatedTarget:0}),Su=Bt(Uw),jw=Le({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Fw=Bt(jw),zw=Le({},Is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$w=Bt(zw),Bw=Le({},Is,{data:0}),Zf=Bt(Bw),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qw[e])?!!t[e]:!1}function Ld(){return Vw}var Qw=Le({},Ko,{key:function(e){if(e.key){var t=Hw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ww[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kw=Bt(Qw),Jw=Le({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=Bt(Jw),Yw=Le({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),Xw=Bt(Yw),Gw=Le({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zw=Bt(Gw),e_=Le({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t_=Bt(e_),n_=[9,13,27,32],Ud=Yn&&"CompositionEvent"in window,co=null;Yn&&"documentMode"in document&&(co=document.documentMode);var r_=Yn&&"TextEvent"in window&&!co,Gg=Yn&&(!Ud||co&&8<co&&11>=co),th=" ",nh=!1;function Zg(e,t){switch(e){case"keyup":return n_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function i_(e,t){switch(e){case"compositionend":return em(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return e=t.data,e===th&&nh?null:e;default:return null}}function s_(e,t){if(Wi)return e==="compositionend"||!Ud&&Zg(e,t)?(e=Xg(),ja=Md=Sr=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gg&&t.locale!=="ko"?null:t.data;default:return null}}var o_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o_[e.type]:t==="textarea"}function tm(e,t,n,r){Og(r),t=ol(t,"onChange"),0<t.length&&(n=new Ad("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fo=null,xo=null;function a_(e){fm(e,0)}function Ll(e){var t=Qi(e);if(Cg(t))return e}function l_(e,t){if(e==="change")return t}var nm=!1;if(Yn){var Eu;if(Yn){var ku="oninput"in document;if(!ku){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),ku=typeof ih.oninput=="function"}Eu=ku}else Eu=!1;nm=Eu&&(!document.documentMode||9<document.documentMode)}function sh(){fo&&(fo.detachEvent("onpropertychange",rm),xo=fo=null)}function rm(e){if(e.propertyName==="value"&&Ll(xo)){var t=[];tm(t,xo,e,Pd(e)),Lg(a_,t)}}function u_(e,t,n){e==="focusin"?(sh(),fo=t,xo=n,fo.attachEvent("onpropertychange",rm)):e==="focusout"&&sh()}function c_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ll(xo)}function d_(e,t){if(e==="click")return Ll(t)}function f_(e,t){if(e==="input"||e==="change")return Ll(t)}function h_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:h_;function Co(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xu.call(t,i)||!fn(e[i],t[i]))return!1}return!0}function oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var n=oh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oh(n)}}function im(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?im(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sm(){for(var e=window,t=Za();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Za(e.document)}return t}function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p_(e){var t=sm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&im(n.ownerDocument.documentElement,n)){if(r!==null&&jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ah(n,s);var o=ah(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g_=Yn&&"documentMode"in document&&11>=document.documentMode,qi=null,mc=null,ho=null,yc=!1;function lh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yc||qi==null||qi!==Za(r)||(r=qi,"selectionStart"in r&&jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&Co(ho,r)||(ho=r,r=ol(mc,"onSelect"),0<r.length&&(t=new Ad("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qi)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vi={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},xu={},om={};Yn&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Ul(e){if(xu[e])return xu[e];if(!Vi[e])return e;var t=Vi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in om)return xu[e]=t[n];return e}var am=Ul("animationend"),lm=Ul("animationiteration"),um=Ul("animationstart"),cm=Ul("transitionend"),dm=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){dm.set(e,t),Ii(t,[e])}for(var Cu=0;Cu<uh.length;Cu++){var bu=uh[Cu],m_=bu.toLowerCase(),y_=bu[0].toUpperCase()+bu.slice(1);Ar(m_,"on"+y_)}Ar(am,"onAnimationEnd");Ar(lm,"onAnimationIteration");Ar(um,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(cm,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function ch(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mw(r,t,void 0,e),e.currentTarget=null}function fm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ch(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ch(i,a,u),s=l}}}if(tl)throw e=fc,tl=!1,fc=null,e}function Re(e,t){var n=t[Ec];n===void 0&&(n=t[Ec]=new Set);var r=e+"__bubble";n.has(r)||(hm(t,e,2,!1),n.add(r))}function Ru(e,t,n){var r=0;t&&(r|=4),hm(n,e,r,t)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[Ea]){e[Ea]=!0,_g.forEach(function(n){n!=="selectionchange"&&(v_.has(n)||Ru(n,!1,e),Ru(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ea]||(t[Ea]=!0,Ru("selectionchange",!1,t))}}function hm(e,t,n,r){switch(Yg(t)){case 1:var i=Ow;break;case 4:i=Dw;break;default:i=Dd}n=i.bind(null,t,n,e),i=void 0,!dc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Lg(function(){var u=s,d=Pd(n),c=[];e:{var p=dm.get(e);if(p!==void 0){var h=Ad,w=e;switch(e){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":h=Kw;break;case"focusin":w="focus",h=Su;break;case"focusout":w="blur",h=Su;break;case"beforeblur":case"afterblur":h=Su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Xw;break;case am:case lm:case um:h=Fw;break;case cm:h=Zw;break;case"scroll":h=Mw;break;case"wheel":h=t_;break;case"copy":case"cut":case"paste":h=$w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=eh}var y=(t&4)!==0,v=!y&&e==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var f=u,g;f!==null;){g=f;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=_o(f,m),k!=null&&y.push(Ro(f,k,g)))),v)break;f=f.return}0<y.length&&(p=new h(p,w,null,n,d),c.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==uc&&(w=n.relatedTarget||n.fromElement)&&(ei(w)||w[Xn]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?ei(w):null,w!==null&&(v=Ni(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(y=Gf,k="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=eh,k="onPointerLeave",m="onPointerEnter",f="pointer"),v=h==null?p:Qi(h),g=w==null?p:Qi(w),p=new y(k,f+"leave",h,n,d),p.target=v,p.relatedTarget=g,k=null,ei(d)===u&&(y=new y(m,f+"enter",w,n,d),y.target=g,y.relatedTarget=v,k=y),v=k,h&&w)t:{for(y=h,m=w,f=0,g=y;g;g=ji(g))f++;for(g=0,k=m;k;k=ji(k))g++;for(;0<f-g;)y=ji(y),f--;for(;0<g-f;)m=ji(m),g--;for(;f--;){if(y===m||m!==null&&y===m.alternate)break t;y=ji(y),m=ji(m)}y=null}else y=null;h!==null&&dh(c,p,h,y,!1),w!==null&&v!==null&&dh(c,v,w,y,!0)}}e:{if(p=u?Qi(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var C=l_;else if(rh(p))if(nm)C=f_;else{C=c_;var T=u_}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=d_);if(C&&(C=C(e,u))){tm(c,C,n,d);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&ic(p,"number",p.value)}switch(T=u?Qi(u):window,e){case"focusin":(rh(T)||T.contentEditable==="true")&&(qi=T,mc=u,ho=null);break;case"focusout":ho=mc=qi=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,lh(c,n,d);break;case"selectionchange":if(g_)break;case"keydown":case"keyup":lh(c,n,d)}var _;if(Ud)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wi?Zg(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Gg&&n.locale!=="ko"&&(Wi||b!=="onCompositionStart"?b==="onCompositionEnd"&&Wi&&(_=Xg()):(Sr=d,Md="value"in Sr?Sr.value:Sr.textContent,Wi=!0)),T=ol(u,b),0<T.length&&(b=new Zf(b,e,null,n,d),c.push({event:b,listeners:T}),_?b.data=_:(_=em(n),_!==null&&(b.data=_)))),(_=r_?i_(e,n):s_(e,n))&&(u=ol(u,"onBeforeInput"),0<u.length&&(d=new Zf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=_))}fm(c,t)})}function Ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ol(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_o(e,n),s!=null&&r.unshift(Ro(e,s,i)),s=_o(e,t),s!=null&&r.push(Ro(e,s,i))),e=e.return}return r}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dh(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_o(n,s),l!=null&&o.unshift(Ro(n,l,a))):i||(l=_o(n,s),l!=null&&o.push(Ro(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var w_=/\r\n?/g,__=/\u0000|\uFFFD/g;function fh(e){return(typeof e=="string"?e:""+e).replace(w_,`
`).replace(__,"")}function ka(e,t,n){if(t=fh(t),fh(e)!==t&&n)throw Error(L(425))}function al(){}var vc=null,wc=null;function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,S_=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,E_=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(k_)}:Sc;function k_(e){setTimeout(function(){throw e})}function Pu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ko(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Ns,To="__reactProps$"+Ns,Xn="__reactContainer$"+Ns,Ec="__reactEvents$"+Ns,x_="__reactListeners$"+Ns,C_="__reactHandles$"+Ns;function ei(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ph(e);e!==null;){if(n=e[Pn])return n;e=ph(e)}return t}e=n,n=e.parentNode}return null}function Jo(e){return e=e[Pn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function jl(e){return e[To]||null}var kc=[],Ki=-1;function Lr(e){return{current:e}}function Te(e){0>Ki||(e.current=kc[Ki],kc[Ki]=null,Ki--)}function be(e,t){Ki++,kc[Ki]=e.current,e.current=t}var Mr={},pt=Lr(Mr),Pt=Lr(!1),wi=Mr;function ws(e,t){var n=e.type.contextTypes;if(!n)return Mr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function It(e){return e=e.childContextTypes,e!=null}function ll(){Te(Pt),Te(pt)}function gh(e,t,n){if(pt.current!==Mr)throw Error(L(168));be(pt,t),be(Pt,n)}function pm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,uw(e)||"Unknown",i));return Le({},n,r)}function ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,wi=pt.current,be(pt,e),be(Pt,Pt.current),!0}function mh(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=pm(e,t,wi),r.__reactInternalMemoizedMergedChildContext=e,Te(Pt),Te(pt),be(pt,e)):Te(Pt),be(Pt,n)}var Bn=null,Fl=!1,Iu=!1;function gm(e){Bn===null?Bn=[e]:Bn.push(e)}function b_(e){Fl=!0,gm(e)}function Ur(){if(!Iu&&Bn!==null){Iu=!0;var e=0,t=ke;try{var n=Bn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,Fl=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(e+1)),zg(Id,Ur),i}finally{ke=t,Iu=!1}}return null}var Ji=[],Yi=0,cl=null,dl=0,Vt=[],Qt=0,_i=null,qn=1,Vn="";function Kr(e,t){Ji[Yi++]=dl,Ji[Yi++]=cl,cl=e,dl=t}function mm(e,t,n){Vt[Qt++]=qn,Vt[Qt++]=Vn,Vt[Qt++]=_i,_i=e;var r=qn;e=Vn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qn=1<<32-cn(t)+i|n<<i|r,Vn=s+e}else qn=1<<s|n<<i|r,Vn=e}function Fd(e){e.return!==null&&(Kr(e,1),mm(e,1,0))}function zd(e){for(;e===cl;)cl=Ji[--Yi],Ji[Yi]=null,dl=Ji[--Yi],Ji[Yi]=null;for(;e===_i;)_i=Vt[--Qt],Vt[Qt]=null,Vn=Vt[--Qt],Vt[Qt]=null,qn=Vt[--Qt],Vt[Qt]=null}var Ft=null,Ut=null,Ne=!1,ln=null;function ym(e,t){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Ut=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_i!==null?{id:qn,overflow:Vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ft=e,Ut=null,!0):!1;default:return!1}}function xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cc(e){if(Ne){var t=Ut;if(t){var n=t;if(!yh(e,t)){if(xc(e))throw Error(L(418));t=Rr(n.nextSibling);var r=Ft;t&&yh(e,t)?ym(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Ft=e)}}else{if(xc(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ne=!1,Ft=e}}}function vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function xa(e){if(e!==Ft)return!1;if(!Ne)return vh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_c(e.type,e.memoizedProps)),t&&(t=Ut)){if(xc(e))throw vm(),Error(L(418));for(;t;)ym(e,t),t=Rr(t.nextSibling)}if(vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Ft?Rr(e.stateNode.nextSibling):null;return!0}function vm(){for(var e=Ut;e;)e=Rr(e.nextSibling)}function _s(){Ut=Ft=null,Ne=!1}function $d(e){ln===null?ln=[e]:ln.push(e)}var R_=er.ReactCurrentBatchConfig;function Js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wh(e){var t=e._init;return t(e._payload)}function wm(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Nr(m,f),m.index=0,m.sibling=null,m}function s(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,k){return f===null||f.tag!==6?(f=Uu(g,m.mode,k),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,k){var C=g.type;return C===Hi?d(m,f,g.props.children,k,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===or&&wh(C)===f.type)?(k=i(f,g.props),k.ref=Js(m,f,g),k.return=m,k):(k=Va(g.type,g.key,g.props,null,m.mode,k),k.ref=Js(m,f,g),k.return=m,k)}function u(m,f,g,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=ju(g,m.mode,k),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function d(m,f,g,k,C){return f===null||f.tag!==7?(f=gi(g,m.mode,k,C),f.return=m,f):(f=i(f,g),f.return=m,f)}function c(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Uu(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case pa:return g=Va(f.type,f.key,f.props,null,m.mode,g),g.ref=Js(m,null,f),g.return=m,g;case Bi:return f=ju(f,m.mode,g),f.return=m,f;case or:var k=f._init;return c(m,k(f._payload),g)}if(ro(f)||Ws(f))return f=gi(f,m.mode,g,null),f.return=m,f;Ca(m,f)}return null}function p(m,f,g,k){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(m,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:return g.key===C?l(m,f,g,k):null;case Bi:return g.key===C?u(m,f,g,k):null;case or:return C=g._init,p(m,f,C(g._payload),k)}if(ro(g)||Ws(g))return C!==null?null:d(m,f,g,k,null);Ca(m,g)}return null}function h(m,f,g,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,a(f,m,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pa:return m=m.get(k.key===null?g:k.key)||null,l(f,m,k,C);case Bi:return m=m.get(k.key===null?g:k.key)||null,u(f,m,k,C);case or:var T=k._init;return h(m,f,g,T(k._payload),C)}if(ro(k)||Ws(k))return m=m.get(g)||null,d(f,m,k,C,null);Ca(f,k)}return null}function w(m,f,g,k){for(var C=null,T=null,_=f,b=f=0,D=null;_!==null&&b<g.length;b++){_.index>b?(D=_,_=null):D=_.sibling;var O=p(m,_,g[b],k);if(O===null){_===null&&(_=D);break}e&&_&&O.alternate===null&&t(m,_),f=s(O,f,b),T===null?C=O:T.sibling=O,T=O,_=D}if(b===g.length)return n(m,_),Ne&&Kr(m,b),C;if(_===null){for(;b<g.length;b++)_=c(m,g[b],k),_!==null&&(f=s(_,f,b),T===null?C=_:T.sibling=_,T=_);return Ne&&Kr(m,b),C}for(_=r(m,_);b<g.length;b++)D=h(_,m,b,g[b],k),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?b:D.key),f=s(D,f,b),T===null?C=D:T.sibling=D,T=D);return e&&_.forEach(function(J){return t(m,J)}),Ne&&Kr(m,b),C}function y(m,f,g,k){var C=Ws(g);if(typeof C!="function")throw Error(L(150));if(g=C.call(g),g==null)throw Error(L(151));for(var T=C=null,_=f,b=f=0,D=null,O=g.next();_!==null&&!O.done;b++,O=g.next()){_.index>b?(D=_,_=null):D=_.sibling;var J=p(m,_,O.value,k);if(J===null){_===null&&(_=D);break}e&&_&&J.alternate===null&&t(m,_),f=s(J,f,b),T===null?C=J:T.sibling=J,T=J,_=D}if(O.done)return n(m,_),Ne&&Kr(m,b),C;if(_===null){for(;!O.done;b++,O=g.next())O=c(m,O.value,k),O!==null&&(f=s(O,f,b),T===null?C=O:T.sibling=O,T=O);return Ne&&Kr(m,b),C}for(_=r(m,_);!O.done;b++,O=g.next())O=h(_,m,b,O.value,k),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?b:O.key),f=s(O,f,b),T===null?C=O:T.sibling=O,T=O);return e&&_.forEach(function(G){return t(m,G)}),Ne&&Kr(m,b),C}function v(m,f,g,k){if(typeof g=="object"&&g!==null&&g.type===Hi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:e:{for(var C=g.key,T=f;T!==null;){if(T.key===C){if(C=g.type,C===Hi){if(T.tag===7){n(m,T.sibling),f=i(T,g.props.children),f.return=m,m=f;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===or&&wh(C)===T.type){n(m,T.sibling),f=i(T,g.props),f.ref=Js(m,T,g),f.return=m,m=f;break e}n(m,T);break}else t(m,T);T=T.sibling}g.type===Hi?(f=gi(g.props.children,m.mode,k,g.key),f.return=m,m=f):(k=Va(g.type,g.key,g.props,null,m.mode,k),k.ref=Js(m,f,g),k.return=m,m=k)}return o(m);case Bi:e:{for(T=g.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=ju(g,m.mode,k),f.return=m,m=f}return o(m);case or:return T=g._init,v(m,f,T(g._payload),k)}if(ro(g))return w(m,f,g,k);if(Ws(g))return y(m,f,g,k);Ca(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=Uu(g,m.mode,k),f.return=m,m=f),o(m)):n(m,f)}return v}var Ss=wm(!0),_m=wm(!1),fl=Lr(null),hl=null,Xi=null,Bd=null;function Hd(){Bd=Xi=hl=null}function Wd(e){var t=fl.current;Te(fl),e._currentValue=t}function bc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function is(e,t){hl=e,Bd=Xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(Bd!==e)if(e={context:e,memoizedValue:t,next:null},Xi===null){if(hl===null)throw Error(L(308));Xi=e,hl.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var ti=null;function qd(e){ti===null?ti=[e]:ti.push(e)}function Sm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function Vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,qd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nd(e,n)}}function _h(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pl(e,t,n,r){var i=e.updateQueue;ar=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,h=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,h=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){c=w.call(h,c,p);break e}c=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(h,c,p):w,p==null)break e;c=Le({},c,p);break e;case 2:ar=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=c):d=d.next=h,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ei|=o,e.lanes=o,e.memoizedState=c}}function Sh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var Yo={},On=Lr(Yo),Po=Lr(Yo),Io=Lr(Yo);function ni(e){if(e===Yo)throw Error(L(174));return e}function Qd(e,t){switch(be(Io,t),be(Po,e),be(On,Yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oc(t,e)}Te(On),be(On,t)}function Es(){Te(On),Te(Po),Te(Io)}function km(e){ni(Io.current);var t=ni(On.current),n=oc(t,e.type);t!==n&&(be(Po,e),be(On,n))}function Kd(e){Po.current===e&&(Te(On),Te(Po))}var De=Lr(0);function gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nu=[];function Jd(){for(var e=0;e<Nu.length;e++)Nu[e]._workInProgressVersionPrimary=null;Nu.length=0}var $a=er.ReactCurrentDispatcher,Ou=er.ReactCurrentBatchConfig,Si=0,Ae=null,Ge=null,tt=null,ml=!1,po=!1,No=0,T_=0;function lt(){throw Error(L(321))}function Yd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function Xd(e,t,n,r,i,s){if(Si=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=e===null||e.memoizedState===null?O_:D_,e=n(r,i),po){s=0;do{if(po=!1,No=0,25<=s)throw Error(L(301));s+=1,tt=Ge=null,t.updateQueue=null,$a.current=M_,e=n(r,i)}while(po)}if($a.current=yl,t=Ge!==null&&Ge.next!==null,Si=0,tt=Ge=Ae=null,ml=!1,t)throw Error(L(300));return e}function Gd(){var e=No!==0;return No=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ae.memoizedState=tt=e:tt=tt.next=e,tt}function Gt(){if(Ge===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=tt===null?Ae.memoizedState:tt.next;if(t!==null)tt=t,Ge=e;else{if(e===null)throw Error(L(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?Ae.memoizedState=tt=e:tt=tt.next=e}return tt}function Oo(e,t){return typeof t=="function"?t(e):t}function Du(e){var t=Gt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Si&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,Ae.lanes|=d,Ei|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,fn(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ae.lanes|=s,Ei|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mu(e){var t=Gt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);fn(s,t.memoizedState)||(Tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xm(){}function Cm(e,t){var n=Ae,r=Gt(),i=t(),s=!fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,Zd(Tm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Do(9,Rm.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(L(349));Si&30||bm(n,t,i)}return i}function bm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rm(e,t,n,r){t.value=n,t.getSnapshot=r,Pm(t)&&Im(e)}function Tm(e,t,n){return n(function(){Pm(t)&&Im(e)})}function Pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function Im(e){var t=Gn(e,1);t!==null&&dn(t,e,1,-1)}function Eh(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=N_.bind(null,Ae,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nm(){return Gt().memoizedState}function Ba(e,t,n,r){var i=En();Ae.flags|=e,i.memoizedState=Do(1|t,n,void 0,r===void 0?null:r)}function zl(e,t,n,r){var i=Gt();r=r===void 0?null:r;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,r!==null&&Yd(r,o.deps)){i.memoizedState=Do(t,n,s,r);return}}Ae.flags|=e,i.memoizedState=Do(1|t,n,s,r)}function kh(e,t){return Ba(8390656,8,e,t)}function Zd(e,t){return zl(2048,8,e,t)}function Om(e,t){return zl(4,2,e,t)}function Dm(e,t){return zl(4,4,e,t)}function Mm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Am(e,t,n){return n=n!=null?n.concat([e]):null,zl(4,4,Mm.bind(null,t,e),n)}function ef(){}function Lm(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Um(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jm(e,t,n){return Si&21?(fn(n,t)||(n=Hg(),Ae.lanes|=n,Ei|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function P_(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=Ou.transition;Ou.transition={};try{e(!1),t()}finally{ke=n,Ou.transition=r}}function Fm(){return Gt().memoizedState}function I_(e,t,n){var r=Ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zm(e))$m(t,n);else if(n=Sm(e,t,n,r),n!==null){var i=_t();dn(n,e,r,i),Bm(n,t,r)}}function N_(e,t,n){var r=Ir(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zm(e))$m(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fn(a,o)){var l=t.interleaved;l===null?(i.next=i,qd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Sm(e,t,i,r),n!==null&&(i=_t(),dn(n,e,r,i),Bm(n,t,r))}}function zm(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function $m(e,t){po=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nd(e,n)}}var yl={readContext:Xt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},O_={readContext:Xt,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:kh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ba(4194308,4,Mm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=I_.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:Eh,useDebugValue:ef,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=Eh(!1),t=e[0];return e=P_.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=En();if(Ne){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),nt===null)throw Error(L(349));Si&30||bm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,kh(Tm.bind(null,r,s,e),[e]),r.flags|=2048,Do(9,Rm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=En(),t=nt.identifierPrefix;if(Ne){var n=Vn,r=qn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=T_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D_={readContext:Xt,useCallback:Lm,useContext:Xt,useEffect:Zd,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:Um,useReducer:Du,useRef:Nm,useState:function(){return Du(Oo)},useDebugValue:ef,useDeferredValue:function(e){var t=Gt();return jm(t,Ge.memoizedState,e)},useTransition:function(){var e=Du(Oo)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:Cm,useId:Fm,unstable_isNewReconciler:!1},M_={readContext:Xt,useCallback:Lm,useContext:Xt,useEffect:Zd,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:Um,useReducer:Mu,useRef:Nm,useState:function(){return Mu(Oo)},useDebugValue:ef,useDeferredValue:function(e){var t=Gt();return Ge===null?t.memoizedState=e:jm(t,Ge.memoizedState,e)},useTransition:function(){var e=Mu(Oo)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:Cm,useId:Fm,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_t(),i=Ir(e),s=Qn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Tr(e,s,i),t!==null&&(dn(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_t(),i=Ir(e),s=Qn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Tr(e,s,i),t!==null&&(dn(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),r=Ir(e),i=Qn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Tr(e,i,r),t!==null&&(dn(t,e,r,n),za(t,e,r))}};function xh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Co(n,r)||!Co(i,s):!0}function Hm(e,t,n){var r=!1,i=Mr,s=t.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(i=It(t)?wi:pt.current,r=t.contextTypes,s=(r=r!=null)?ws(e,i):Mr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ch(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function Tc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Vd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xt(s):(s=It(t)?wi:pt.current,i.context=ws(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$l.enqueueReplaceState(i,i.state,null),pl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var n="",r=t;do n+=lw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Au(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A_=typeof WeakMap=="function"?WeakMap:Map;function Wm(e,t,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wl||(wl=!0,Fc=r),Pc(e,t)},n}function qm(e,t,n){n=Qn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Pc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pc(e,t),typeof r!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new A_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=J_.bind(null,e,t,n),t.then(e,e))}function Rh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Th(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qn(-1,1),t.tag=2,Tr(n,t,1))),n.lanes|=1),e)}var L_=er.ReactCurrentOwner,Tt=!1;function vt(e,t,n,r){t.child=e===null?_m(t,null,n,r):Ss(t,e.child,n,r)}function Ph(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=Xd(e,t,n,r,s,i),n=Gd(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zn(e,t,i)):(Ne&&n&&Fd(t),t.flags|=1,vt(e,t,r,i),t.child)}function Ih(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!uf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Vm(e,t,s,r,i)):(e=Va(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Co,n(o,r)&&e.ref===t.ref)return Zn(e,t,i)}return t.flags|=1,e=Nr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Vm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Co(s,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,Zn(e,t,i)}return Ic(e,t,n,r,i)}function Qm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Zi,At),At|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Zi,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(Zi,At),At|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,be(Zi,At),At|=r;return vt(e,t,i,n),t.child}function Km(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ic(e,t,n,r,i){var s=It(n)?wi:pt.current;return s=ws(t,s),is(t,i),n=Xd(e,t,n,r,s,i),r=Gd(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zn(e,t,i)):(Ne&&r&&Fd(t),t.flags|=1,vt(e,t,n,i),t.child)}function Nh(e,t,n,r,i){if(It(n)){var s=!0;ul(t)}else s=!1;if(is(t,i),t.stateNode===null)Ha(e,t),Hm(t,n,r),Tc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=It(n)?wi:pt.current,u=ws(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ch(t,o,r,u),ar=!1;var p=t.memoizedState;o.state=p,pl(t,r,o,i),l=t.memoizedState,a!==r||p!==l||Pt.current||ar?(typeof d=="function"&&(Rc(t,n,d,r),l=t.memoizedState),(a=ar||xh(t,n,a,r,p,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Em(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nn(t.type,a),o.props=u,c=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=It(n)?wi:pt.current,l=ws(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||p!==l)&&Ch(t,o,r,l),ar=!1,p=t.memoizedState,o.state=p,pl(t,r,o,i);var w=t.memoizedState;a!==c||p!==w||Pt.current||ar?(typeof h=="function"&&(Rc(t,n,h,r),w=t.memoizedState),(u=ar||xh(t,n,u,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Nc(e,t,n,r,s,i)}function Nc(e,t,n,r,i,s){Km(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&mh(t,n,!1),Zn(e,t,s);r=t.stateNode,L_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,a,s)):vt(e,t,a,s),t.memoizedState=r.state,i&&mh(t,n,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gh(e,t.context,!1),Qd(e,t.containerInfo)}function Oh(e,t,n,r,i){return _s(),$d(i),t.flags|=256,vt(e,t,n,r),t.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ym(e,t,n){var r=t.pendingProps,i=De.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),be(De,i&1),e===null)return Cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wl(o,r,0,null),e=gi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Dc(n),t.memoizedState=Oc,e):tf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return U_(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Nr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nr(a,s):(s=gi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Dc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Oc,r}return s=e.child,e=s.sibling,r=Nr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tf(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ba(e,t,n,r){return r!==null&&$d(r),Ss(t,e.child,null,n),e=tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U_(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Au(Error(L(422))),ba(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Wl({mode:"visible",children:r.children},i,0,null),s=gi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ss(t,e.child,null,o),t.child.memoizedState=Dc(o),t.memoizedState=Oc,s);if(!(t.mode&1))return ba(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=Au(s,r,void 0),ba(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),dn(r,e,i,-1))}return lf(),r=Au(Error(L(421))),ba(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ut=Rr(i.nextSibling),Ft=t,Ne=!0,ln=null,e!==null&&(Vt[Qt++]=qn,Vt[Qt++]=Vn,Vt[Qt++]=_i,qn=e.id,Vn=e.overflow,_i=t),t=tf(t,r.children),t.flags|=4096,t)}function Dh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bc(e.return,t,n)}function Lu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dh(e,n,t);else if(e.tag===19)Dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lu(t,!0,n,null,s);break;case"together":Lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ei|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Nr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function j_(e,t,n){switch(t.tag){case 3:Jm(t),_s();break;case 5:km(t);break;case 1:It(t.type)&&ul(t);break;case 4:Qd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;be(fl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?Ym(e,t,n):(be(De,De.current&1),e=Zn(e,t,n),e!==null?e.sibling:null);be(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,Qm(e,t,n)}return Zn(e,t,n)}var Gm,Mc,Zm,ey;Gm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mc=function(){};Zm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ni(On.current);var s=null;switch(n){case"input":i=nc(e,i),r=nc(e,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=sc(e,i),r=sc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}ac(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ey=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ys(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function F_(e,t,n){var r=t.pendingProps;switch(zd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return It(t.type)&&ll(),ut(t),null;case 3:return r=t.stateNode,Es(),Te(Pt),Te(pt),Jd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(Bc(ln),ln=null))),Mc(e,t),ut(t),null;case 5:Kd(t);var i=ni(Io.current);if(n=t.type,e!==null&&t.stateNode!=null)Zm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return ut(t),null}if(e=ni(On.current),xa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pn]=t,r[To]=s,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<so.length;i++)Re(so[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Bf(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":Wf(r,s),Re("invalid",r)}ac(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ka(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ka(r.textContent,a,e),i=["children",""+a]):vo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":ga(r),Hf(r,s,!0);break;case"textarea":ga(r),qf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=al)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pn]=t,e[To]=r,Gm(e,t,!1,!1),t.stateNode=e;e:{switch(o=lc(n,r),n){case"dialog":Re("cancel",e),Re("close",e),i=r;break;case"iframe":case"object":case"embed":Re("load",e),i=r;break;case"video":case"audio":for(i=0;i<so.length;i++)Re(so[i],e);i=r;break;case"source":Re("error",e),i=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),i=r;break;case"details":Re("toggle",e),i=r;break;case"input":Bf(e,r),i=nc(e,r),Re("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Re("invalid",e);break;case"textarea":Wf(e,r),i=sc(e,r),Re("invalid",e);break;default:i=r}ac(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ng(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pg(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wo(e,l):typeof l=="number"&&wo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",e):l!=null&&Cd(e,s,l,o))}switch(n){case"input":ga(e),Hf(e,r,!1);break;case"textarea":ga(e),qf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?es(e,!!r.multiple,s,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)ey(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=ni(Io.current),ni(On.current),xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pn]=t,(s=r.nodeValue!==n)&&(e=Ft,e!==null))switch(e.tag){case 3:ka(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r}return ut(t),null;case 13:if(Te(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Ut!==null&&t.mode&1&&!(t.flags&128))vm(),_s(),t.flags|=98560,s=!1;else if(s=xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Pn]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else ln!==null&&(Bc(ln),ln=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?et===0&&(et=3):lf())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Es(),Mc(e,t),e===null&&bo(t.stateNode.containerInfo),ut(t),null;case 10:return Wd(t.type._context),ut(t),null;case 17:return It(t.type)&&ll(),ut(t),null;case 19:if(Te(De),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ys(s,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gl(e),o!==null){for(t.flags|=128,Ys(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(De,De.current&1|2),t.child}e=e.sibling}s.tail!==null&&Be()>xs&&(t.flags|=128,r=!0,Ys(s,!1),t.lanes=4194304)}else{if(!r)if(e=gl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ys(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return ut(t),null}else 2*Be()-s.renderingStartTime>xs&&n!==1073741824&&(t.flags|=128,r=!0,Ys(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Be(),t.sibling=null,n=De.current,be(De,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return af(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function z_(e,t){switch(zd(t),t.tag){case 1:return It(t.type)&&ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),Te(Pt),Te(pt),Jd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kd(t),null;case 13:if(Te(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(De),null;case 4:return Es(),null;case 10:return Wd(t.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var Ra=!1,dt=!1,$_=typeof WeakSet=="function"?WeakSet:Set,B=null;function Gi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Ac(e,t,n){try{n()}catch(r){$e(e,t,r)}}var Mh=!1;function B_(e,t){if(vc=il,e=sm(),jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=e,p=null;t:for(;;){for(var h;c!==n||i!==0&&c.nodeType!==3||(a=o+i),c!==s||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(h=c.firstChild)!==null;)p=c,c=h;for(;;){if(c===e)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(h=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wc={focusedElem:e,selectionRange:n},il=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,v=w.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:nn(t.type,y),v);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){$e(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return w=Mh,Mh=!1,w}function go(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ac(t,n,s)}i=i.next}while(i!==r)}}function Bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ty(e){var t=e.alternate;t!==null&&(e.alternate=null,ty(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[To],delete t[Ec],delete t[x_],delete t[C_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ny(e){return e.tag===5||e.tag===3||e.tag===4}function Ah(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}function jc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jc(e,t,n),e=e.sibling;e!==null;)jc(e,t,n),e=e.sibling}var it=null,on=!1;function rr(e,t,n){for(n=n.child;n!==null;)ry(e,t,n),n=n.sibling}function ry(e,t,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:dt||Gi(n,t);case 6:var r=it,i=on;it=null,rr(e,t,n),it=r,on=i,it!==null&&(on?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(on?(e=it,n=n.stateNode,e.nodeType===8?Pu(e.parentNode,n):e.nodeType===1&&Pu(e,n),ko(e)):Pu(it,n.stateNode));break;case 4:r=it,i=on,it=n.stateNode.containerInfo,on=!0,rr(e,t,n),it=r,on=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ac(n,t,o),i=i.next}while(i!==r)}rr(e,t,n);break;case 1:if(!dt&&(Gi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,t,a)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,rr(e,t,n),dt=r):rr(e,t,n);break;default:rr(e,t,n)}}function Lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $_),t.forEach(function(r){var i=X_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,on=!1;break e;case 3:it=a.stateNode.containerInfo,on=!0;break e;case 4:it=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(it===null)throw Error(L(160));ry(s,o,i),it=null,on=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iy(t,e),t=t.sibling}function iy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),_n(e),r&4){try{go(3,e,e.return),Bl(3,e)}catch(y){$e(e,e.return,y)}try{go(5,e,e.return)}catch(y){$e(e,e.return,y)}}break;case 1:en(t,e),_n(e),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(en(t,e),_n(e),r&512&&n!==null&&Gi(n,n.return),e.flags&32){var i=e.stateNode;try{wo(i,"")}catch(y){$e(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bg(i,s),lc(a,o);var u=lc(a,s);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?Ng(i,c):d==="dangerouslySetInnerHTML"?Pg(i,c):d==="children"?wo(i,c):Cd(i,d,c,u)}switch(a){case"input":rc(i,s);break;case"textarea":Rg(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?es(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[To]=s}catch(y){$e(e,e.return,y)}}break;case 6:if(en(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){$e(e,e.return,y)}}break;case 3:if(en(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(y){$e(e,e.return,y)}break;case 4:en(t,e),_n(e);break;case 13:en(t,e),_n(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sf=Be())),r&4&&Lh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||d,en(t,e),dt=u):en(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(c=B=d;B!==null;){switch(p=B,h=p.child,p.tag){case 0:case 11:case 14:case 15:go(4,p,p.return);break;case 1:Gi(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){$e(r,n,y)}}break;case 5:Gi(p,p.return);break;case 22:if(p.memoizedState!==null){jh(c);continue}}h!==null?(h.return=p,B=h):jh(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ig("display",o))}catch(y){$e(e,e.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){$e(e,e.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:en(t,e),_n(e),r&4&&Lh(e);break;case 21:break;default:en(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ny(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wo(i,""),r.flags&=-33);var s=Ah(e);jc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ah(e);Uc(e,a,o);break;default:throw Error(L(161))}}catch(l){$e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H_(e,t,n){B=e,sy(e)}function sy(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ra;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dt;a=Ra;var u=dt;if(Ra=o,(dt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Fh(i):l!==null?(l.return=o,B=l):Fh(i);for(;s!==null;)B=s,sy(s),s=s.sibling;B=i,Ra=a,dt=u}Uh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):Uh(e)}}function Uh(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&ko(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}dt||t.flags&512&&Lc(t)}catch(p){$e(t,t.return,p)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function jh(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Fh(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bl(4,t)}catch(l){$e(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){$e(t,i,l)}}var s=t.return;try{Lc(t)}catch(l){$e(t,s,l)}break;case 5:var o=t.return;try{Lc(t)}catch(l){$e(t,o,l)}}}catch(l){$e(t,t.return,l)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var W_=Math.ceil,vl=er.ReactCurrentDispatcher,nf=er.ReactCurrentOwner,Jt=er.ReactCurrentBatchConfig,pe=0,nt=null,Je=null,st=0,At=0,Zi=Lr(0),et=0,Mo=null,Ei=0,Hl=0,rf=0,mo=null,Rt=null,sf=0,xs=1/0,$n=null,wl=!1,Fc=null,Pr=null,Ta=!1,Er=null,_l=0,yo=0,zc=null,Wa=-1,qa=0;function _t(){return pe&6?Be():Wa!==-1?Wa:Wa=Be()}function Ir(e){return e.mode&1?pe&2&&st!==0?st&-st:R_.transition!==null?(qa===0&&(qa=Hg()),qa):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Yg(e.type)),e):1}function dn(e,t,n,r){if(50<yo)throw yo=0,zc=null,Error(L(185));Qo(e,n,r),(!(pe&2)||e!==nt)&&(e===nt&&(!(pe&2)&&(Hl|=n),et===4&&cr(e,st)),Nt(e,r),n===1&&pe===0&&!(t.mode&1)&&(xs=Be()+500,Fl&&Ur()))}function Nt(e,t){var n=e.callbackNode;Rw(e,t);var r=rl(e,e===nt?st:0);if(r===0)n!==null&&Kf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kf(n),t===1)e.tag===0?b_(zh.bind(null,e)):gm(zh.bind(null,e)),E_(function(){!(pe&6)&&Ur()}),n=null;else{switch(Wg(r)){case 1:n=Id;break;case 4:n=$g;break;case 16:n=nl;break;case 536870912:n=Bg;break;default:n=nl}n=hy(n,oy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oy(e,t){if(Wa=-1,qa=0,pe&6)throw Error(L(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=rl(e,e===nt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Sl(e,r);else{t=r;var i=pe;pe|=2;var s=ly();(nt!==e||st!==t)&&($n=null,xs=Be()+500,pi(e,t));do try{Q_();break}catch(a){ay(e,a)}while(!0);Hd(),vl.current=s,pe=i,Je!==null?t=0:(nt=null,st=0,t=et)}if(t!==0){if(t===2&&(i=hc(e),i!==0&&(r=i,t=$c(e,i))),t===1)throw n=Mo,pi(e,0),cr(e,r),Nt(e,Be()),n;if(t===6)cr(e,r);else{if(i=e.current.alternate,!(r&30)&&!q_(i)&&(t=Sl(e,r),t===2&&(s=hc(e),s!==0&&(r=s,t=$c(e,s))),t===1))throw n=Mo,pi(e,0),cr(e,r),Nt(e,Be()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Jr(e,Rt,$n);break;case 3:if(cr(e,r),(r&130023424)===r&&(t=sf+500-Be(),10<t)){if(rl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sc(Jr.bind(null,e,Rt,$n),t);break}Jr(e,Rt,$n);break;case 4:if(cr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W_(r/1960))-r,10<r){e.timeoutHandle=Sc(Jr.bind(null,e,Rt,$n),r);break}Jr(e,Rt,$n);break;case 5:Jr(e,Rt,$n);break;default:throw Error(L(329))}}}return Nt(e,Be()),e.callbackNode===n?oy.bind(null,e):null}function $c(e,t){var n=mo;return e.current.memoizedState.isDehydrated&&(pi(e,t).flags|=256),e=Sl(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&Bc(t)),e}function Bc(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function q_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~rf,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),r=1<<n;e[n]=-1,t&=~r}}function zh(e){if(pe&6)throw Error(L(327));ss();var t=rl(e,0);if(!(t&1))return Nt(e,Be()),null;var n=Sl(e,t);if(e.tag!==0&&n===2){var r=hc(e);r!==0&&(t=r,n=$c(e,r))}if(n===1)throw n=Mo,pi(e,0),cr(e,t),Nt(e,Be()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,Rt,$n),Nt(e,Be()),null}function of(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(xs=Be()+500,Fl&&Ur())}}function ki(e){Er!==null&&Er.tag===0&&!(pe&6)&&ss();var t=pe;pe|=1;var n=Jt.transition,r=ke;try{if(Jt.transition=null,ke=1,e)return e()}finally{ke=r,Jt.transition=n,pe=t,!(pe&6)&&Ur()}}function af(){At=Zi.current,Te(Zi)}function pi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,S_(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(zd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ll();break;case 3:Es(),Te(Pt),Te(pt),Jd();break;case 5:Kd(r);break;case 4:Es();break;case 13:Te(De);break;case 19:Te(De);break;case 10:Wd(r.type._context);break;case 22:case 23:af()}n=n.return}if(nt=e,Je=e=Nr(e.current,null),st=At=t,et=0,Mo=null,rf=Hl=Ei=0,Rt=mo=null,ti!==null){for(t=0;t<ti.length;t++)if(n=ti[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ti=null}return e}function ay(e,t){do{var n=Je;try{if(Hd(),$a.current=yl,ml){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ml=!1}if(Si=0,tt=Ge=Ae=null,po=!1,No=0,nf.current=null,n===null||n.return===null){et=1,Mo=t,Je=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Rh(o);if(h!==null){h.flags&=-257,Th(h,o,a,s,t),h.mode&1&&bh(s,u,t),t=h,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){bh(s,u,t),lf();break e}l=Error(L(426))}}else if(Ne&&a.mode&1){var v=Rh(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Th(v,o,a,s,t),$d(ks(l,a));break e}}s=l=ks(l,a),et!==4&&(et=2),mo===null?mo=[s]:mo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Wm(s,l,t);_h(s,m);break e;case 1:a=l;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pr===null||!Pr.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=qm(s,a,t);_h(s,k);break e}}s=s.return}while(s!==null)}cy(n)}catch(C){t=C,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function ly(){var e=vl.current;return vl.current=yl,e===null?yl:e}function lf(){(et===0||et===3||et===2)&&(et=4),nt===null||!(Ei&268435455)&&!(Hl&268435455)||cr(nt,st)}function Sl(e,t){var n=pe;pe|=2;var r=ly();(nt!==e||st!==t)&&($n=null,pi(e,t));do try{V_();break}catch(i){ay(e,i)}while(!0);if(Hd(),pe=n,vl.current=r,Je!==null)throw Error(L(261));return nt=null,st=0,et}function V_(){for(;Je!==null;)uy(Je)}function Q_(){for(;Je!==null&&!vw();)uy(Je)}function uy(e){var t=fy(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?cy(e):Je=t,nf.current=null}function cy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=z_(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Je=null;return}}else if(n=F_(n,t,At),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);et===0&&(et=5)}function Jr(e,t,n){var r=ke,i=Jt.transition;try{Jt.transition=null,ke=1,K_(e,t,n,r)}finally{Jt.transition=i,ke=r}return null}function K_(e,t,n,r){do ss();while(Er!==null);if(pe&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Tw(e,s),e===nt&&(Je=nt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ta||(Ta=!0,hy(nl,function(){return ss(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=ke;ke=1;var a=pe;pe|=4,nf.current=null,B_(e,n),iy(n,e),p_(wc),il=!!vc,wc=vc=null,e.current=n,H_(n),ww(),pe=a,ke=o,Jt.transition=s}else e.current=n;if(Ta&&(Ta=!1,Er=e,_l=i),s=e.pendingLanes,s===0&&(Pr=null),Ew(n.stateNode),Nt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wl)throw wl=!1,e=Fc,Fc=null,e;return _l&1&&e.tag!==0&&ss(),s=e.pendingLanes,s&1?e===zc?yo++:(yo=0,zc=e):yo=0,Ur(),null}function ss(){if(Er!==null){var e=Wg(_l),t=Jt.transition,n=ke;try{if(Jt.transition=null,ke=16>e?16:e,Er===null)var r=!1;else{if(e=Er,Er=null,_l=0,pe&6)throw Error(L(331));var i=pe;for(pe|=4,B=e.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:go(8,d,s)}var c=d.child;if(c!==null)c.return=d,B=c;else for(;B!==null;){d=B;var p=d.sibling,h=d.return;if(ty(d),d===u){B=null;break}if(p!==null){p.return=h,B=p;break}B=h}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:go(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,B=m;break e}B=s.return}}var f=e.current;for(B=f;B!==null;){o=B;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,B=g;else e:for(o=f;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bl(9,a)}}catch(C){$e(a,a.return,C)}if(a===o){B=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,B=k;break e}B=a.return}}if(pe=i,Ur(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Ml,e)}catch{}r=!0}return r}finally{ke=n,Jt.transition=t}}return!1}function $h(e,t,n){t=ks(n,t),t=Wm(e,t,1),e=Tr(e,t,1),t=_t(),e!==null&&(Qo(e,1,t),Nt(e,t))}function $e(e,t,n){if(e.tag===3)$h(e,e,n);else for(;t!==null;){if(t.tag===3){$h(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pr===null||!Pr.has(r))){e=ks(n,e),e=qm(t,e,1),t=Tr(t,e,1),e=_t(),t!==null&&(Qo(t,1,e),Nt(t,e));break}}t=t.return}}function J_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(st&n)===n&&(et===4||et===3&&(st&130023424)===st&&500>Be()-sf?pi(e,0):rf|=n),Nt(e,t)}function dy(e,t){t===0&&(e.mode&1?(t=va,va<<=1,!(va&130023424)&&(va=4194304)):t=1);var n=_t();e=Gn(e,t),e!==null&&(Qo(e,t,n),Nt(e,n))}function Y_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dy(e,n)}function X_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),dy(e,n)}var fy;fy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,j_(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,Ne&&t.flags&1048576&&mm(t,dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=ws(t,pt.current);is(t,n),i=Xd(null,t,r,e,i,n);var s=Gd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(r)?(s=!0,ul(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vd(t),i.updater=$l,t.stateNode=i,i._reactInternals=t,Tc(t,r,e,n),t=Nc(null,t,r,!0,s,n)):(t.tag=0,Ne&&s&&Fd(t),vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Z_(r),e=nn(r,e),i){case 0:t=Ic(null,t,r,e,n);break e;case 1:t=Nh(null,t,r,e,n);break e;case 11:t=Ph(null,t,r,e,n);break e;case 14:t=Ih(null,t,r,nn(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),Ic(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),Nh(e,t,r,i,n);case 3:e:{if(Jm(t),e===null)throw Error(L(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Em(e,t),pl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ks(Error(L(423)),t),t=Oh(e,t,r,n,i);break e}else if(r!==i){i=ks(Error(L(424)),t),t=Oh(e,t,r,n,i);break e}else for(Ut=Rr(t.stateNode.containerInfo.firstChild),Ft=t,Ne=!0,ln=null,n=_m(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),r===i){t=Zn(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return km(t),e===null&&Cc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,_c(r,i)?o=null:s!==null&&_c(r,s)&&(t.flags|=32),Km(e,t),vt(e,t,o,n),t.child;case 6:return e===null&&Cc(t),null;case 13:return Ym(e,t,n);case 4:return Qd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ss(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),Ph(e,t,r,i,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,be(fl,r._currentValue),r._currentValue=o,s!==null)if(fn(s.value,o)){if(s.children===i.children&&!Pt.current){t=Zn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Qn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,is(t,n),i=Xt(i),r=r(i),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,i=nn(r,t.pendingProps),i=nn(r.type,i),Ih(e,t,r,i,n);case 15:return Vm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),Ha(e,t),t.tag=1,It(r)?(e=!0,ul(t)):e=!1,is(t,n),Hm(t,r,i),Tc(t,r,i,n),Nc(null,t,r,!0,e,n);case 19:return Xm(e,t,n);case 22:return Qm(e,t,n)}throw Error(L(156,t.tag))};function hy(e,t){return zg(e,t)}function G_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,n,r){return new G_(e,t,n,r)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z_(e){if(typeof e=="function")return uf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rd)return 11;if(e===Td)return 14}return 2}function Nr(e,t){var n=e.alternate;return n===null?(n=Kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Va(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")uf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hi:return gi(n.children,i,s,t);case bd:o=8,i|=8;break;case Gu:return e=Kt(12,n,t,i|2),e.elementType=Gu,e.lanes=s,e;case Zu:return e=Kt(13,n,t,i),e.elementType=Zu,e.lanes=s,e;case ec:return e=Kt(19,n,t,i),e.elementType=ec,e.lanes=s,e;case kg:return Wl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sg:o=10;break e;case Eg:o=9;break e;case Rd:o=11;break e;case Td:o=14;break e;case or:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Kt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function gi(e,t,n,r){return e=Kt(7,e,r,t),e.lanes=n,e}function Wl(e,t,n,r){return e=Kt(22,e,r,t),e.elementType=kg,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return e=Kt(6,e,null,t),e.lanes=n,e}function ju(e,t,n){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cf(e,t,n,r,i,s,o,a,l){return e=new e0(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Kt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vd(s),e}function t0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function py(e){if(!e)return Mr;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(It(n))return pm(e,n,t)}return t}function gy(e,t,n,r,i,s,o,a,l){return e=cf(n,r,!0,e,i,s,o,a,l),e.context=py(null),n=e.current,r=_t(),i=Ir(n),s=Qn(r,i),s.callback=t??null,Tr(n,s,i),e.current.lanes=i,Qo(e,i,r),Nt(e,r),e}function ql(e,t,n,r){var i=t.current,s=_t(),o=Ir(i);return n=py(n),t.context===null?t.context=n:t.pendingContext=n,t=Qn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tr(i,t,o),e!==null&&(dn(e,i,o,s),za(e,i,o)),o}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function n0(){return null}var my=typeof reportError=="function"?reportError:function(e){console.error(e)};function ff(e){this._internalRoot=e}Vl.prototype.render=ff.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));ql(e,t,null,null)};Vl.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ki(function(){ql(null,e,null,null)}),t[Xn]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ur.length&&t!==0&&t<ur[n].priority;n++);ur.splice(n,0,e),n===0&&Jg(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function r0(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=El(o);s.call(u)}}var o=gy(t,r,e,0,null,!1,!1,"",Hh);return e._reactRootContainer=o,e[Xn]=o.current,bo(e.nodeType===8?e.parentNode:e),ki(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=El(l);a.call(u)}}var l=cf(e,0,!1,null,null,!1,!1,"",Hh);return e._reactRootContainer=l,e[Xn]=l.current,bo(e.nodeType===8?e.parentNode:e),ki(function(){ql(t,l,n,r)}),l}function Kl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=El(o);a.call(l)}}ql(t,o,e,i)}else o=r0(n,t,e,i,r);return El(o)}qg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=io(t.pendingLanes);n!==0&&(Nd(t,n|1),Nt(t,Be()),!(pe&6)&&(xs=Be()+500,Ur()))}break;case 13:ki(function(){var r=Gn(e,1);if(r!==null){var i=_t();dn(r,e,1,i)}}),df(e,1)}};Od=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=_t();dn(t,e,134217728,n)}df(e,134217728)}};Vg=function(e){if(e.tag===13){var t=Ir(e),n=Gn(e,t);if(n!==null){var r=_t();dn(n,e,t,r)}df(e,t)}};Qg=function(){return ke};Kg=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};cc=function(e,t,n){switch(t){case"input":if(rc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jl(r);if(!i)throw Error(L(90));Cg(r),rc(r,i)}}}break;case"textarea":Rg(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};Mg=of;Ag=ki;var i0={usingClientEntryPoint:!1,Events:[Jo,Qi,jl,Og,Dg,of]},Xs={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s0={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jg(e),e===null?null:e.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Ml=Pa.inject(s0),Nn=Pa}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i0;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(t))throw Error(L(200));return t0(e,t,null,n)};$t.createRoot=function(e,t){if(!hf(e))throw Error(L(299));var n=!1,r="",i=my;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cf(e,1,!1,null,null,n,!1,r,i),e[Xn]=t.current,bo(e.nodeType===8?e.parentNode:e),new ff(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=jg(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return ki(e)};$t.hydrate=function(e,t,n){if(!Ql(t))throw Error(L(200));return Kl(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!hf(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=my;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gy(t,null,e,1,n??null,i,!1,s,o),e[Xn]=t.current,bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)};$t.render=function(e,t,n){if(!Ql(t))throw Error(L(200));return Kl(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(L(40));return e._reactRootContainer?(ki(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};$t.unstable_batchedUpdates=of;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Kl(e,t,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function yy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yy)}catch(e){console.error(e)}}yy(),yg.exports=$t;var pf=yg.exports;const vy=Ts(pf),o0=sg({__proto__:null,default:vy},[pf]);var Wh=pf;Yu.createRoot=Wh.createRoot,Yu.hydrateRoot=Wh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}var Qe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qe||(Qe={}));const qh="popstate";function a0(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ao("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xi(i)}return u0(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l0(){return Math.random().toString(36).substr(2,8)}function Vh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ao(e,t,n,r){return n===void 0&&(n=null),Ie({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jr(t):t,{state:n,key:t&&t.key||r||l0()})}function xi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function u0(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qe.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ie({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){a=Qe.Pop;let v=d(),m=v==null?null:v-u;u=v,l&&l({action:a,location:y.location,delta:m})}function p(v,m){a=Qe.Push;let f=Ao(y.location,v,m);u=d()+1;let g=Vh(f,u),k=y.createHref(f);try{o.pushState(g,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(k)}s&&l&&l({action:a,location:y.location,delta:1})}function h(v,m){a=Qe.Replace;let f=Ao(y.location,v,m);u=d();let g=Vh(f,u),k=y.createHref(f);o.replaceState(g,"",k),s&&l&&l({action:a,location:y.location,delta:0})}function w(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof v=="string"?v:xi(v);return f=f.replace(/ $/,"%20"),le(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let y={get action(){return a},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qh,c),l=v,()=>{i.removeEventListener(qh,c),l=null}},createHref(v){return t(i,v)},createURL:w,encodeLocation(v){let m=w(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:h,go(v){return o.go(v)}};return y}var Ee;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ee||(Ee={}));const c0=new Set(["lazy","caseSensitive","path","id","index","children"]);function d0(e){return e.index===!0}function kl(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(le(i.index!==!0||!i.children,"Cannot specify children on an index route"),le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),d0(i)){let l=Ie({},i,t(i),{id:a});return r[a]=l,l}else{let l=Ie({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=kl(i.children,t,o,r)),l}})}function Yr(e,t,n){return n===void 0&&(n="/"),Qa(e,t,n,!1)}function Qa(e,t,n,r){let i=typeof t=="string"?jr(t):t,s=Os(i.pathname||"/",n);if(s==null)return null;let o=wy(e);h0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=x0(s);a=E0(o[l],u,r)}return a}function f0(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function wy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Kn([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wy(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:_0(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _y(s.path))i(s,o,l)}),t}function _y(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_y(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function h0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:S0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p0=/^:[\w-]+$/,g0=3,m0=2,y0=1,v0=10,w0=-2,Qh=e=>e==="*";function _0(e,t){let n=e.split("/"),r=n.length;return n.some(Qh)&&(r+=w0),t&&(r+=m0),n.filter(i=>!Qh(i)).reduce((i,s)=>i+(p0.test(s)?g0:s===""?y0:v0),r)}function S0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function E0(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",c=Kh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=Kh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Kn([s,c.pathname]),pathnameBase:R0(Kn([s,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(s=Kn([s,c.pathnameBase]))}return o}function Kh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k0(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let y=a[c]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[c];return h&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function k0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function x0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function C0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jr(e):e;return{pathname:n?n.startsWith("/")?n:b0(n,t):t,search:T0(r),hash:P0(i)}}function b0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jl(e,t){let n=Sy(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yl(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=jr(e):(i=Ie({},e),le(!i.pathname||!i.pathname.includes("?"),Fu("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),Fu("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),Fu("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let c=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),c-=1;i.pathname=p.join("/")}a=c>=0?t[c]:"/"}let l=C0(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Kn=e=>e.join("/").replace(/\/\/+/g,"/"),R0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class xl{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Lo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ey=["post","put","patch","delete"],I0=new Set(Ey),N0=["get",...Ey],O0=new Set(N0),D0=new Set([301,302,303,307,308]),M0=new Set([307,308]),zu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},A0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L0=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ky="remix-router-transitions";function U0(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;le(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let S=e.detectErrorBoundary;i=x=>({hasErrorBoundary:S(x)})}else i=L0;let s={},o=kl(e.routes,i,void 0,s),a,l=e.basename||"/",u=e.dataStrategy||$0,d=e.patchRoutesOnNavigation,c=Ie({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),p=null,h=new Set,w=null,y=null,v=null,m=e.hydrationData!=null,f=Yr(o,e.history.location,l),g=!1,k=null;if(f==null&&!d){let S=Ct(404,{pathname:e.history.location.pathname}),{matches:x,route:R}=sp(o);f=x,k={[R.id]:S}}f&&!e.hydrationData&&Se(f,o,e.history.location.pathname).active&&(f=null);let C;if(f)if(f.some(S=>S.route.lazy))C=!1;else if(!f.some(S=>S.route.loader))C=!0;else if(c.v7_partialHydration){let S=e.hydrationData?e.hydrationData.loaderData:null,x=e.hydrationData?e.hydrationData.errors:null;if(x){let R=f.findIndex(M=>x[M.route.id]!==void 0);C=f.slice(0,R+1).every(M=>!Wc(M.route,S,x))}else C=f.every(R=>!Wc(R.route,S,x))}else C=e.hydrationData!=null;else if(C=!1,f=[],c.v7_partialHydration){let S=Se(null,o,e.history.location.pathname);S.active&&S.matches&&(g=!0,f=S.matches)}let T,_={historyAction:e.history.action,location:e.history.location,matches:f,initialized:C,navigation:zu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},b=Qe.Pop,D=!1,O,J=!1,G=new Map,ce=null,xe=!1,We=!1,qe=[],Oe=new Set,U=new Map,j=0,V=-1,ge=new Map,K=new Set,oe=new Map,ae=new Map,we=new Set,Ue=new Map,de=new Map,nr;function zr(){if(p=e.history.listen(S=>{let{action:x,location:R,delta:M}=S;if(nr){nr(),nr=void 0;return}Cs(de.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Fs({currentLocation:_.location,nextLocation:R,historyAction:x});if(z&&M!=null){let Y=new Promise(Z=>{nr=Z});e.history.go(M*-1),qr(z,{state:"blocked",location:R,proceed(){qr(z,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),Y.then(()=>e.history.go(M))},reset(){let Z=new Map(_.blockers);Z.set(z,Gs),Ye({blockers:Z})}});return}return pn(x,R)}),n){tS(t,G);let S=()=>nS(t,G);t.addEventListener("pagehide",S),ce=()=>t.removeEventListener("pagehide",S)}return _.initialized||pn(Qe.Pop,_.location,{initialHydration:!0}),T}function Di(){p&&p(),ce&&ce(),h.clear(),O&&O.abort(),_.fetchers.forEach((S,x)=>Mi(x)),_.blockers.forEach((S,x)=>la(x))}function $r(S){return h.add(S),()=>h.delete(S)}function Ye(S,x){x===void 0&&(x={}),_=Ie({},_,S);let R=[],M=[];c.v7_fetcherPersist&&_.fetchers.forEach((z,Y)=>{z.state==="idle"&&(we.has(Y)?M.push(Y):R.push(Y))}),we.forEach(z=>{!_.fetchers.has(z)&&!U.has(z)&&M.push(z)}),[...h].forEach(z=>z(_,{deletedFetchers:M,viewTransitionOpts:x.viewTransitionOpts,flushSync:x.flushSync===!0})),c.v7_fetcherPersist?(R.forEach(z=>_.fetchers.delete(z)),M.forEach(z=>Mi(z))):M.forEach(z=>we.delete(z))}function Dn(S,x,R){var M,z;let{flushSync:Y}=R===void 0?{}:R,Z=_.actionData!=null&&_.navigation.formMethod!=null&&an(_.navigation.formMethod)&&_.navigation.state==="loading"&&((M=S.state)==null?void 0:M._isRedirect)!==!0,W;x.actionData?Object.keys(x.actionData).length>0?W=x.actionData:W=null:Z?W=_.actionData:W=null;let q=x.loaderData?rp(_.loaderData,x.loaderData,x.matches||[],x.errors):_.loaderData,H=_.blockers;H.size>0&&(H=new Map(H),H.forEach((he,rt)=>H.set(rt,Gs)));let Q=D===!0||_.navigation.formMethod!=null&&an(_.navigation.formMethod)&&((z=S.state)==null?void 0:z._isRedirect)!==!0;a&&(o=a,a=void 0),xe||b===Qe.Pop||(b===Qe.Push?e.history.push(S,S.state):b===Qe.Replace&&e.history.replace(S,S.state));let ie;if(b===Qe.Pop){let he=G.get(_.location.pathname);he&&he.has(S.pathname)?ie={currentLocation:_.location,nextLocation:S}:G.has(S.pathname)&&(ie={currentLocation:S,nextLocation:_.location})}else if(J){let he=G.get(_.location.pathname);he?he.add(S.pathname):(he=new Set([S.pathname]),G.set(_.location.pathname,he)),ie={currentLocation:_.location,nextLocation:S}}Ye(Ie({},x,{actionData:W,loaderData:q,historyAction:b,location:S,initialized:!0,navigation:zu,revalidation:"idle",restoreScrollPosition:ye(S,x.matches||_.matches),preventScrollReset:Q,blockers:H}),{viewTransitionOpts:ie,flushSync:Y===!0}),b=Qe.Pop,D=!1,J=!1,xe=!1,We=!1,qe=[]}async function ra(S,x){if(typeof S=="number"){e.history.go(S);return}let R=Hc(_.location,_.matches,l,c.v7_prependBasename,S,c.v7_relativeSplatPath,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:M,submission:z,error:Y}=Jh(c.v7_normalizeFormMethod,!1,R,x),Z=_.location,W=Ao(_.location,M,x&&x.state);W=Ie({},W,e.history.encodeLocation(W));let q=x&&x.replace!=null?x.replace:void 0,H=Qe.Push;q===!0?H=Qe.Replace:q===!1||z!=null&&an(z.formMethod)&&z.formAction===_.location.pathname+_.location.search&&(H=Qe.Replace);let Q=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,ie=(x&&x.flushSync)===!0,he=Fs({currentLocation:Z,nextLocation:W,historyAction:H});if(he){qr(he,{state:"blocked",location:W,proceed(){qr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ra(S,x)},reset(){let rt=new Map(_.blockers);rt.set(he,Gs),Ye({blockers:rt})}});return}return await pn(H,W,{submission:z,pendingError:Y,preventScrollReset:Q,replace:x&&x.replace,enableViewTransition:x&&x.viewTransition,flushSync:ie})}function lu(){if(gn(),Ye({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){pn(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}pn(b||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:J===!0})}}async function pn(S,x,R){O&&O.abort(),O=null,b=S,xe=(R&&R.startUninterruptedRevalidation)===!0,ee(_.location,_.matches),D=(R&&R.preventScrollReset)===!0,J=(R&&R.enableViewTransition)===!0;let M=a||o,z=R&&R.overrideNavigation,Y=R!=null&&R.initialHydration&&_.matches&&_.matches.length>0&&!g?_.matches:Yr(M,x,l),Z=(R&&R.flushSync)===!0;if(Y&&_.initialized&&!We&&Q0(_.location,x)&&!(R&&R.submission&&an(R.submission.formMethod))){Dn(x,{matches:Y},{flushSync:Z});return}let W=Se(Y,M,x.pathname);if(W.active&&W.matches&&(Y=W.matches),!Y){let{error:Ce,notFoundMatches:ve,route:je}=zs(x.pathname);Dn(x,{matches:ve,loaderData:{},errors:{[je.id]:Ce}},{flushSync:Z});return}O=new AbortController;let q=Fi(e.history,x,O.signal,R&&R.submission),H;if(R&&R.pendingError)H=[Xr(Y).route.id,{type:Ee.error,error:R.pendingError}];else if(R&&R.submission&&an(R.submission.formMethod)){let Ce=await uu(q,x,R.submission,Y,W.active,{replace:R.replace,flushSync:Z});if(Ce.shortCircuited)return;if(Ce.pendingActionResult){let[ve,je]=Ce.pendingActionResult;if(Lt(je)&&Lo(je.error)&&je.error.status===404){O=null,Dn(x,{matches:Ce.matches,loaderData:{},errors:{[ve]:je.error}});return}}Y=Ce.matches||Y,H=Ce.pendingActionResult,z=$u(x,R.submission),Z=!1,W.active=!1,q=Fi(e.history,q.url,q.signal)}let{shortCircuited:Q,matches:ie,loaderData:he,errors:rt}=await Us(q,x,Y,W.active,z,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,Z,H);Q||(O=null,Dn(x,Ie({matches:ie||Y},ip(H),{loaderData:he,errors:rt})))}async function uu(S,x,R,M,z,Y){Y===void 0&&(Y={}),gn();let Z=Z0(x,R);if(Ye({navigation:Z},{flushSync:Y.flushSync===!0}),z){let H=await at(M,x.pathname,S.signal);if(H.type==="aborted")return{shortCircuited:!0};if(H.type==="error"){let Q=Xr(H.partialMatches).route.id;return{matches:H.partialMatches,pendingActionResult:[Q,{type:Ee.error,error:H.error}]}}else if(H.matches)M=H.matches;else{let{notFoundMatches:Q,error:ie,route:he}=zs(x.pathname);return{matches:Q,pendingActionResult:[he.id,{type:Ee.error,error:ie}]}}}let W,q=oo(M,x);if(!q.route.action&&!q.route.lazy)W={type:Ee.error,error:Ct(405,{method:S.method,pathname:x.pathname,routeId:q.route.id})};else if(W=(await Hr("action",_,S,[q],M,null))[q.route.id],S.signal.aborted)return{shortCircuited:!0};if(ri(W)){let H;return Y&&Y.replace!=null?H=Y.replace:H=ep(W.response.headers.get("Location"),new URL(S.url),l)===_.location.pathname+_.location.search,await An(S,W,!0,{submission:R,replace:H}),{shortCircuited:!0}}if(kr(W))throw Ct(400,{type:"defer-action"});if(Lt(W)){let H=Xr(M,q.route.id);return(Y&&Y.replace)!==!0&&(b=Qe.Push),{matches:M,pendingActionResult:[H.route.id,W]}}return{matches:M,pendingActionResult:[q.route.id,W]}}async function Us(S,x,R,M,z,Y,Z,W,q,H,Q){let ie=z||$u(x,Y),he=Y||Z||ap(ie),rt=!xe&&(!c.v7_partialHydration||!q);if(M){if(rt){let Fe=ia(Q);Ye(Ie({navigation:ie},Fe!==void 0?{actionData:Fe}:{}),{flushSync:H})}let me=await at(R,x.pathname,S.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let Fe=Xr(me.partialMatches).route.id;return{matches:me.partialMatches,loaderData:{},errors:{[Fe]:me.error}}}else if(me.matches)R=me.matches;else{let{error:Fe,notFoundMatches:Li,route:Hs}=zs(x.pathname);return{matches:Li,loaderData:{},errors:{[Hs.id]:Fe}}}}let Ce=a||o,[ve,je]=Xh(e.history,_,R,he,x,c.v7_partialHydration&&q===!0,c.v7_skipActionErrorRevalidation,We,qe,Oe,we,oe,K,Ce,l,Q);if(Vr(me=>!(R&&R.some(Fe=>Fe.route.id===me))||ve&&ve.some(Fe=>Fe.route.id===me)),V=++j,ve.length===0&&je.length===0){let me=js();return Dn(x,Ie({matches:R,loaderData:{},errors:Q&&Lt(Q[1])?{[Q[0]]:Q[1].error}:null},ip(Q),me?{fetchers:new Map(_.fetchers)}:{}),{flushSync:H}),{shortCircuited:!0}}if(rt){let me={};if(!M){me.navigation=ie;let Fe=ia(Q);Fe!==void 0&&(me.actionData=Fe)}je.length>0&&(me.fetchers=sa(je)),Ye(me,{flushSync:H})}je.forEach(me=>{Ht(me.key),me.controller&&U.set(me.key,me.controller)});let Ai=()=>je.forEach(me=>Ht(me.key));O&&O.signal.addEventListener("abort",Ai);let{loaderResults:$s,fetcherResults:jn}=await gt(_,R,ve,je,S);if(S.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Ai),je.forEach(me=>U.delete(me.key));let wn=Ia($s);if(wn)return await An(S,wn.result,!0,{replace:W}),{shortCircuited:!0};if(wn=Ia(jn),wn)return K.add(wn.key),await An(S,wn.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:du,errors:Bs}=np(_,R,$s,Q,je,jn,Ue);Ue.forEach((me,Fe)=>{me.subscribe(Li=>{(Li||me.done)&&Ue.delete(Fe)})}),c.v7_partialHydration&&q&&_.errors&&(Bs=Ie({},_.errors,Bs));let Qr=js(),ca=Un(V),da=Qr||ca||je.length>0;return Ie({matches:R,loaderData:du,errors:Bs},da?{fetchers:new Map(_.fetchers)}:{})}function ia(S){if(S&&!Lt(S[1]))return{[S[0]]:S[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function sa(S){return S.forEach(x=>{let R=_.fetchers.get(x.key),M=Zs(void 0,R?R.data:void 0);_.fetchers.set(x.key,M)}),new Map(_.fetchers)}function Br(S,x,R,M){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ht(S);let z=(M&&M.flushSync)===!0,Y=a||o,Z=Hc(_.location,_.matches,l,c.v7_prependBasename,R,c.v7_relativeSplatPath,x,M==null?void 0:M.relative),W=Yr(Y,Z,l),q=Se(W,Y,Z);if(q.active&&q.matches&&(W=q.matches),!W){Zt(S,x,Ct(404,{pathname:Z}),{flushSync:z});return}let{path:H,submission:Q,error:ie}=Jh(c.v7_normalizeFormMethod,!0,Z,M);if(ie){Zt(S,x,ie,{flushSync:z});return}let he=oo(W,H),rt=(M&&M.preventScrollReset)===!0;if(Q&&an(Q.formMethod)){oa(S,x,H,he,W,q.active,z,rt,Q);return}oe.set(S,{routeId:x,path:H}),Mn(S,x,H,he,W,q.active,z,rt,Q)}async function oa(S,x,R,M,z,Y,Z,W,q){gn(),oe.delete(S);function H(Ve){if(!Ve.route.action&&!Ve.route.lazy){let Ui=Ct(405,{method:q.formMethod,pathname:R,routeId:x});return Zt(S,x,Ui,{flushSync:Z}),!0}return!1}if(!Y&&H(M))return;let Q=_.fetchers.get(S);mn(S,eS(q,Q),{flushSync:Z});let ie=new AbortController,he=Fi(e.history,R,ie.signal,q);if(Y){let Ve=await at(z,new URL(he.url).pathname,he.signal,S);if(Ve.type==="aborted")return;if(Ve.type==="error"){Zt(S,x,Ve.error,{flushSync:Z});return}else if(Ve.matches){if(z=Ve.matches,M=oo(z,R),H(M))return}else{Zt(S,x,Ct(404,{pathname:R}),{flushSync:Z});return}}U.set(S,ie);let rt=j,ve=(await Hr("action",_,he,[M],z,S))[M.route.id];if(he.signal.aborted){U.get(S)===ie&&U.delete(S);return}if(c.v7_fetcherPersist&&we.has(S)){if(ri(ve)||Lt(ve)){mn(S,ir(void 0));return}}else{if(ri(ve))if(U.delete(S),V>rt){mn(S,ir(void 0));return}else return K.add(S),mn(S,Zs(q)),An(he,ve,!1,{fetcherSubmission:q,preventScrollReset:W});if(Lt(ve)){Zt(S,x,ve.error);return}}if(kr(ve))throw Ct(400,{type:"defer-action"});let je=_.navigation.location||_.location,Ai=Fi(e.history,je,ie.signal),$s=a||o,jn=_.navigation.state!=="idle"?Yr($s,_.navigation.location,l):_.matches;le(jn,"Didn't find any matches after fetcher action");let wn=++j;ge.set(S,wn);let du=Zs(q,ve.data);_.fetchers.set(S,du);let[Bs,Qr]=Xh(e.history,_,jn,q,je,!1,c.v7_skipActionErrorRevalidation,We,qe,Oe,we,oe,K,$s,l,[M.route.id,ve]);Qr.filter(Ve=>Ve.key!==S).forEach(Ve=>{let Ui=Ve.key,Mf=_.fetchers.get(Ui),Ov=Zs(void 0,Mf?Mf.data:void 0);_.fetchers.set(Ui,Ov),Ht(Ui),Ve.controller&&U.set(Ui,Ve.controller)}),Ye({fetchers:new Map(_.fetchers)});let ca=()=>Qr.forEach(Ve=>Ht(Ve.key));ie.signal.addEventListener("abort",ca);let{loaderResults:da,fetcherResults:me}=await gt(_,jn,Bs,Qr,Ai);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",ca),ge.delete(S),U.delete(S),Qr.forEach(Ve=>U.delete(Ve.key));let Fe=Ia(da);if(Fe)return An(Ai,Fe.result,!1,{preventScrollReset:W});if(Fe=Ia(me),Fe)return K.add(Fe.key),An(Ai,Fe.result,!1,{preventScrollReset:W});let{loaderData:Li,errors:Hs}=np(_,jn,da,void 0,Qr,me,Ue);if(_.fetchers.has(S)){let Ve=ir(ve.data);_.fetchers.set(S,Ve)}Un(wn),_.navigation.state==="loading"&&wn>V?(le(b,"Expected pending action"),O&&O.abort(),Dn(_.navigation.location,{matches:jn,loaderData:Li,errors:Hs,fetchers:new Map(_.fetchers)})):(Ye({errors:Hs,loaderData:rp(_.loaderData,Li,jn,Hs),fetchers:new Map(_.fetchers)}),We=!1)}async function Mn(S,x,R,M,z,Y,Z,W,q){let H=_.fetchers.get(S);mn(S,Zs(q,H?H.data:void 0),{flushSync:Z});let Q=new AbortController,ie=Fi(e.history,R,Q.signal);if(Y){let ve=await at(z,new URL(ie.url).pathname,ie.signal,S);if(ve.type==="aborted")return;if(ve.type==="error"){Zt(S,x,ve.error,{flushSync:Z});return}else if(ve.matches)z=ve.matches,M=oo(z,R);else{Zt(S,x,Ct(404,{pathname:R}),{flushSync:Z});return}}U.set(S,Q);let he=j,Ce=(await Hr("loader",_,ie,[M],z,S))[M.route.id];if(kr(Ce)&&(Ce=await mf(Ce,ie.signal,!0)||Ce),U.get(S)===Q&&U.delete(S),!ie.signal.aborted){if(we.has(S)){mn(S,ir(void 0));return}if(ri(Ce))if(V>he){mn(S,ir(void 0));return}else{K.add(S),await An(ie,Ce,!1,{preventScrollReset:W});return}if(Lt(Ce)){Zt(S,x,Ce.error);return}le(!kr(Ce),"Unhandled fetcher deferred data"),mn(S,ir(Ce.data))}}async function An(S,x,R,M){let{submission:z,fetcherSubmission:Y,preventScrollReset:Z,replace:W}=M===void 0?{}:M;x.response.headers.has("X-Remix-Revalidate")&&(We=!0);let q=x.response.headers.get("Location");le(q,"Expected a Location header on the redirect Response"),q=ep(q,new URL(S.url),l);let H=Ao(_.location,q,{_isRedirect:!0});if(n){let ve=!1;if(x.response.headers.has("X-Remix-Reload-Document"))ve=!0;else if(gf.test(q)){const je=e.history.createURL(q);ve=je.origin!==t.location.origin||Os(je.pathname,l)==null}if(ve){W?t.location.replace(q):t.location.assign(q);return}}O=null;let Q=W===!0||x.response.headers.has("X-Remix-Replace")?Qe.Replace:Qe.Push,{formMethod:ie,formAction:he,formEncType:rt}=_.navigation;!z&&!Y&&ie&&he&&rt&&(z=ap(_.navigation));let Ce=z||Y;if(M0.has(x.response.status)&&Ce&&an(Ce.formMethod))await pn(Q,H,{submission:Ie({},Ce,{formAction:q}),preventScrollReset:Z||D,enableViewTransition:R?J:void 0});else{let ve=$u(H,z);await pn(Q,H,{overrideNavigation:ve,fetcherSubmission:Y,preventScrollReset:Z||D,enableViewTransition:R?J:void 0})}}async function Hr(S,x,R,M,z,Y){let Z,W={};try{Z=await B0(u,S,x,R,M,z,Y,s,i)}catch(q){return M.forEach(H=>{W[H.route.id]={type:Ee.error,error:q}}),W}for(let[q,H]of Object.entries(Z))if(K0(H)){let Q=H.result;W[q]={type:Ee.redirect,response:q0(Q,R,q,z,l,c.v7_relativeSplatPath)}}else W[q]=await W0(H);return W}async function gt(S,x,R,M,z){let Y=S.matches,Z=Hr("loader",S,z,R,x,null),W=Promise.all(M.map(async Q=>{if(Q.matches&&Q.match&&Q.controller){let he=(await Hr("loader",S,Fi(e.history,Q.path,Q.controller.signal),[Q.match],Q.matches,Q.key))[Q.match.route.id];return{[Q.key]:he}}else return Promise.resolve({[Q.key]:{type:Ee.error,error:Ct(404,{pathname:Q.path})}})})),q=await Z,H=(await W).reduce((Q,ie)=>Object.assign(Q,ie),{});return await Promise.all([X0(x,q,z.signal,Y,S.loaderData),G0(x,H,M)]),{loaderResults:q,fetcherResults:H}}function gn(){We=!0,qe.push(...Vr()),oe.forEach((S,x)=>{U.has(x)&&Oe.add(x),Ht(x)})}function mn(S,x,R){R===void 0&&(R={}),_.fetchers.set(S,x),Ye({fetchers:new Map(_.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function Zt(S,x,R,M){M===void 0&&(M={});let z=Xr(_.matches,x);Mi(S),Ye({errors:{[z.route.id]:R},fetchers:new Map(_.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Wr(S){return ae.set(S,(ae.get(S)||0)+1),we.has(S)&&we.delete(S),_.fetchers.get(S)||A0}function Mi(S){let x=_.fetchers.get(S);U.has(S)&&!(x&&x.state==="loading"&&ge.has(S))&&Ht(S),oe.delete(S),ge.delete(S),K.delete(S),c.v7_fetcherPersist&&we.delete(S),Oe.delete(S),_.fetchers.delete(S)}function aa(S){let x=(ae.get(S)||0)-1;x<=0?(ae.delete(S),we.add(S),c.v7_fetcherPersist||Mi(S)):ae.set(S,x),Ye({fetchers:new Map(_.fetchers)})}function Ht(S){let x=U.get(S);x&&(x.abort(),U.delete(S))}function Ln(S){for(let x of S){let R=Wr(x),M=ir(R.data);_.fetchers.set(x,M)}}function js(){let S=[],x=!1;for(let R of K){let M=_.fetchers.get(R);le(M,"Expected fetcher: "+R),M.state==="loading"&&(K.delete(R),S.push(R),x=!0)}return Ln(S),x}function Un(S){let x=[];for(let[R,M]of ge)if(M<S){let z=_.fetchers.get(R);le(z,"Expected fetcher: "+R),z.state==="loading"&&(Ht(R),ge.delete(R),x.push(R))}return Ln(x),x.length>0}function cu(S,x){let R=_.blockers.get(S)||Gs;return de.get(S)!==x&&de.set(S,x),R}function la(S){_.blockers.delete(S),de.delete(S)}function qr(S,x){let R=_.blockers.get(S)||Gs;le(R.state==="unblocked"&&x.state==="blocked"||R.state==="blocked"&&x.state==="blocked"||R.state==="blocked"&&x.state==="proceeding"||R.state==="blocked"&&x.state==="unblocked"||R.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+x.state);let M=new Map(_.blockers);M.set(S,x),Ye({blockers:M})}function Fs(S){let{currentLocation:x,nextLocation:R,historyAction:M}=S;if(de.size===0)return;de.size>1&&Cs(!1,"A router only supports one blocker at a time");let z=Array.from(de.entries()),[Y,Z]=z[z.length-1],W=_.blockers.get(Y);if(!(W&&W.state==="proceeding")&&Z({currentLocation:x,nextLocation:R,historyAction:M}))return Y}function zs(S){let x=Ct(404,{pathname:S}),R=a||o,{matches:M,route:z}=sp(R);return Vr(),{notFoundMatches:M,route:z,error:x}}function Vr(S){let x=[];return Ue.forEach((R,M)=>{(!S||S(M))&&(R.cancel(),x.push(M),Ue.delete(M))}),x}function yn(S,x,R){if(w=S,v=x,y=R||null,!m&&_.navigation===zu){m=!0;let M=ye(_.location,_.matches);M!=null&&Ye({restoreScrollPosition:M})}return()=>{w=null,v=null,y=null}}function ua(S,x){return y&&y(S,x.map(M=>f0(M,_.loaderData)))||S.key}function ee(S,x){if(w&&v){let R=ua(S,x);w[R]=v()}}function ye(S,x){if(w){let R=ua(S,x),M=w[R];if(typeof M=="number")return M}return null}function Se(S,x,R){if(d)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Qa(x,R,l,!0)}}else return{active:!0,matches:Qa(x,R,l,!0)||[]};return{active:!1,matches:null}}async function at(S,x,R,M){if(!d)return{type:"success",matches:S};let z=S;for(;;){let Y=a==null,Z=a||o,W=s;try{await d({signal:R,path:x,matches:z,fetcherKey:M,patch:(Q,ie)=>{R.aborted||Zh(Q,ie,Z,W,i)}})}catch(Q){return{type:"error",error:Q,partialMatches:z}}finally{Y&&!R.aborted&&(o=[...o])}if(R.aborted)return{type:"aborted"};let q=Yr(Z,x,l);if(q)return{type:"success",matches:q};let H=Qa(Z,x,l,!0);if(!H||z.length===H.length&&z.every((Q,ie)=>Q.route.id===H[ie].route.id))return{type:"success",matches:null};z=H}}function Mt(S){s={},a=kl(S,i,void 0,s)}function vn(S,x){let R=a==null;Zh(S,x,a||o,s,i),R&&(o=[...o],Ye({}))}return T={get basename(){return l},get future(){return c},get state(){return _},get routes(){return o},get window(){return t},initialize:zr,subscribe:$r,enableScrollRestoration:yn,navigate:ra,fetch:Br,revalidate:lu,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:Wr,deleteFetcher:aa,dispose:Di,getBlocker:cu,deleteBlocker:la,patchRoutes:vn,_internalFetchControllers:U,_internalActiveDeferreds:Ue,_internalSetRoutes:Mt},T}function j0(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Hc(e,t,n,r,i,s,o,a){let l,u;if(o){l=[];for(let c of t)if(l.push(c),c.route.id===o){u=c;break}}else l=t,u=t[t.length-1];let d=Yl(i||".",Jl(l,s),Os(e.pathname,n)||e.pathname,a==="path");if(i==null&&(d.search=e.search,d.hash=e.hash),(i==null||i===""||i===".")&&u){let c=yf(d.search);if(u.route.index&&!c)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&c){let p=new URLSearchParams(d.search),h=p.getAll("index");p.delete("index"),h.filter(y=>y).forEach(y=>p.append("index",y));let w=p.toString();d.search=w?"?"+w:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Kn([n,d.pathname])),xi(d)}function Jh(e,t,n,r){if(!r||!j0(r))return{path:n};if(r.formMethod&&!Y0(r.formMethod))return{path:n,error:Ct(405,{method:r.formMethod})};let i=()=>({path:n,error:Ct(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=by(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!an(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,w)=>{let[y,v]=w;return""+h+y+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!an(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}le(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=qc(r.formData),u=r.formData;else if(r.body instanceof FormData)l=qc(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=tp(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=tp(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(an(d.formMethod))return{path:n,submission:d};let c=jr(n);return t&&c.search&&yf(c.search)&&l.append("index",""),c.search="?"+l,{path:xi(c),submission:d}}function Yh(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Xh(e,t,n,r,i,s,o,a,l,u,d,c,p,h,w,y){let v=y?Lt(y[1])?y[1].error:y[1].data:void 0,m=e.createURL(t.location),f=e.createURL(i),g=n;s&&t.errors?g=Yh(n,Object.keys(t.errors)[0],!0):y&&Lt(y[1])&&(g=Yh(n,y[0]));let k=y?y[1].statusCode:void 0,C=o&&k&&k>=400,T=g.filter((b,D)=>{let{route:O}=b;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return Wc(O,t.loaderData,t.errors);if(F0(t.loaderData,t.matches[D],b)||l.some(ce=>ce===b.route.id))return!0;let J=t.matches[D],G=b;return Gh(b,Ie({currentUrl:m,currentParams:J.params,nextUrl:f,nextParams:G.params},r,{actionResult:v,actionStatus:k,defaultShouldRevalidate:C?!1:a||m.pathname+m.search===f.pathname+f.search||m.search!==f.search||xy(J,G)}))}),_=[];return c.forEach((b,D)=>{if(s||!n.some(xe=>xe.route.id===b.routeId)||d.has(D))return;let O=Yr(h,b.path,w);if(!O){_.push({key:D,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let J=t.fetchers.get(D),G=oo(O,b.path),ce=!1;p.has(D)?ce=!1:u.has(D)?(u.delete(D),ce=!0):J&&J.state!=="idle"&&J.data===void 0?ce=a:ce=Gh(G,Ie({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:f,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:k,defaultShouldRevalidate:C?!1:a})),ce&&_.push({key:D,routeId:b.routeId,path:b.path,matches:O,match:G,controller:new AbortController})}),[T,_]}function Wc(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function F0(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function xy(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Gh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Zh(e,t,n,r,i){var s;let o;if(e){let u=r[e];le(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let a=t.filter(u=>!o.some(d=>Cy(u,d))),l=kl(a,i,[e||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function Cy(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(s=>Cy(n,s))}):!1}async function z0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Cs(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!c0.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ie({},t(i),{lazy:void 0}))}async function $0(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function B0(e,t,n,r,i,s,o,a,l,u){let d=s.map(h=>h.route.lazy?z0(h.route,l,a):void 0),c=s.map((h,w)=>{let y=d[w],v=i.some(f=>f.route.id===h.route.id);return Ie({},h,{shouldLoad:v,resolve:async f=>(f&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(v=!0),v?H0(t,r,h,y,f,u):Promise.resolve({type:Ee.data,result:void 0}))})}),p=await e({matches:c,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return p}async function H0(e,t,n,r,i,s){let o,a,l=u=>{let d,c=new Promise((w,y)=>d=y);a=()=>d(),t.signal.addEventListener("abort",a);let p=w=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:s},...w!==void 0?[w]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(y=>p(y)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([h,c])};try{let u=n.route[e];if(r)if(u){let d,[c]=await Promise.all([l(u).catch(p=>{d=p}),r]);if(d!==void 0)throw d;o=c}else if(await r,u=n.route[e],u)o=await l(u);else if(e==="action"){let d=new URL(t.url),c=d.pathname+d.search;throw Ct(405,{method:t.method,pathname:c,routeId:n.route.id})}else return{type:Ee.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(t.url),c=d.pathname+d.search;throw Ct(404,{pathname:c})}le(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ee.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function W0(e){let{result:t,type:n}=e;if(Ry(t)){let c;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?c=null:c=await t.json():c=await t.text()}catch(p){return{type:Ee.error,error:p}}return n===Ee.error?{type:Ee.error,error:new xl(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:Ee.data,data:c,statusCode:t.status,headers:t.headers}}if(n===Ee.error){if(op(t)){var r,i;if(t.data instanceof Error){var s,o;return{type:Ee.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Ee.error,error:new xl(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Lo(t)?t.status:void 0,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:Ee.error,error:t,statusCode:Lo(t)?t.status:void 0}}if(J0(t)){var a,l;return{type:Ee.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(op(t)){var u,d;return{type:Ee.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Ee.data,data:t}}function q0(e,t,n,r,i,s){let o=e.headers.get("Location");if(le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Hc(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function ep(e,t,n){if(gf.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Os(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Fi(e,t,n,r){let i=e.createURL(by(t)).toString(),s={signal:n};if(r&&an(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=qc(r.formData):s.body=r.formData}return new Request(i,s)}function qc(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function tp(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function V0(e,t,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&Lt(n[1])?n[1].error:void 0;return e.forEach(c=>{if(!(c.route.id in t))return;let p=c.route.id,h=t[p];if(le(!ri(h),"Cannot handle redirect results in processLoaderData"),Lt(h)){let w=h.error;d!==void 0&&(w=d,d=void 0),o=o||{};{let y=Xr(e,p);o[y.route.id]==null&&(o[y.route.id]=w)}s[p]=void 0,l||(l=!0,a=Lo(h.error)?h.error.status:500),h.headers&&(u[p]=h.headers)}else kr(h)?(r.set(p,h.deferredData),s[p]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(u[p]=h.headers)):(s[p]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(u[p]=h.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function np(e,t,n,r,i,s,o){let{loaderData:a,errors:l}=V0(t,n,r,o);return i.forEach(u=>{let{key:d,match:c,controller:p}=u,h=s[d];if(le(h,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Lt(h)){let w=Xr(e.matches,c==null?void 0:c.route.id);l&&l[w.route.id]||(l=Ie({},l,{[w.route.id]:h.error})),e.fetchers.delete(d)}else if(ri(h))le(!1,"Unhandled fetcher revalidation redirect");else if(kr(h))le(!1,"Unhandled fetcher deferred data");else{let w=ir(h.data);e.fetchers.set(d,w)}}),{loaderData:a,errors:l}}function rp(e,t,n,r){let i=Ie({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function ip(e){return e?Lt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Xr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function sp(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ct(e,t){let{pathname:n,routeId:r,method:i,type:s,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new xl(e||500,a,new Error(l),!0)}function Ia(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(ri(i))return{key:r,result:i}}}function by(e){let t=typeof e=="string"?jr(e):e;return xi(Ie({},t,{hash:""}))}function Q0(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function K0(e){return Ry(e.result)&&D0.has(e.result.status)}function kr(e){return e.type===Ee.deferred}function Lt(e){return e.type===Ee.error}function ri(e){return(e&&e.type)===Ee.redirect}function op(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function J0(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Ry(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Y0(e){return O0.has(e.toLowerCase())}function an(e){return I0.has(e.toLowerCase())}async function X0(e,t,n,r,i){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=e.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let d=r.find(p=>p.route.id===u.route.id),c=d!=null&&!xy(d,u)&&(i&&i[u.route.id])!==void 0;kr(l)&&c&&await mf(l,n,!1).then(p=>{p&&(t[a]=p)})}}async function G0(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=t[i];e.find(u=>(u==null?void 0:u.route.id)===s)&&kr(a)&&(le(o,"Expected an AbortController for revalidating fetcher deferred result"),await mf(a,o.signal,!0).then(u=>{u&&(t[i]=u)}))}}async function mf(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ee.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ee.error,error:i}}return{type:Ee.data,data:e.deferredData.data}}}function yf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function oo(e,t){let n=typeof t=="string"?jr(t).search:t.search;if(e[e.length-1].route.index&&yf(n||""))return e[e.length-1];let r=Sy(e);return r[r.length-1]}function ap(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $u(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Z0(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Zs(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ir(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tS(e,t){try{let n=e.sessionStorage.getItem(ky);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function nS(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(ky,JSON.stringify(n))}catch(r){Cs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}const Xl=I.createContext(null),Ty=I.createContext(null),Fr=I.createContext(null),vf=I.createContext(null),tr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Py=I.createContext(null);function rS(e,t){let{relative:n}=t===void 0?{}:t;Ds()||le(!1);let{basename:r,navigator:i}=I.useContext(Fr),{hash:s,pathname:o,search:a}=Ny(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ds(){return I.useContext(vf)!=null}function Xo(){return Ds()||le(!1),I.useContext(vf).location}function Iy(e){I.useContext(Fr).static||I.useLayoutEffect(e)}function Gl(){let{isDataRoute:e}=I.useContext(tr);return e?yS():iS()}function iS(){Ds()||le(!1);let e=I.useContext(Xl),{basename:t,future:n,navigator:r}=I.useContext(Fr),{matches:i}=I.useContext(tr),{pathname:s}=Xo(),o=JSON.stringify(Jl(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return Iy(()=>{a.current=!0}),I.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let c=Yl(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Kn([t,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[t,r,o,s,e])}const sS=I.createContext(null);function oS(e){let t=I.useContext(tr).outlet;return t&&I.createElement(sS.Provider,{value:e},t)}function Ny(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=I.useContext(Fr),{matches:i}=I.useContext(tr),{pathname:s}=Xo(),o=JSON.stringify(Jl(i,r.v7_relativeSplatPath));return I.useMemo(()=>Yl(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function aS(e,t,n,r){Ds()||le(!1);let{navigator:i}=I.useContext(Fr),{matches:s}=I.useContext(tr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xo(),d;d=u;let c=d.pathname||"/",p=c;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+c.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=Yr(e,{pathname:p});return fS(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Kn([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Kn([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r)}function lS(){let e=mS(),t=Lo(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,null)}const uS=I.createElement(lS,null);class cS extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?I.createElement(tr.Provider,{value:this.props.routeContext},I.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dS(e){let{routeContext:t,match:n,children:r}=e,i=I.useContext(Xl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(tr.Provider,{value:t},r)}function fS(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);d>=0||le(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:p,errors:h}=n,w=c.route.loader&&p[c.route.id]===void 0&&(!h||h[c.route.id]===void 0);if(c.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,p)=>{let h,w=!1,y=null,v=null;n&&(h=a&&c.route.id?a[c.route.id]:void 0,y=c.route.errorElement||uS,l&&(u<0&&p===0?(vS("route-fallback"),w=!0,v=null):u===p&&(w=!0,v=c.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),f=()=>{let g;return h?g=y:w?g=v:c.route.Component?g=I.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=d,I.createElement(dS,{match:c,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||p===0)?I.createElement(cS,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Oy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oy||{}),Dy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dy||{});function hS(e){let t=I.useContext(Xl);return t||le(!1),t}function pS(e){let t=I.useContext(Ty);return t||le(!1),t}function gS(e){let t=I.useContext(tr);return t||le(!1),t}function My(e){let t=gS(),n=t.matches[t.matches.length-1];return n.route.id||le(!1),n.route.id}function mS(){var e;let t=I.useContext(Py),n=pS(Dy.UseRouteError),r=My();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function yS(){let{router:e}=hS(Oy.UseNavigateStable),t=My(),n=I.useRef(!1);return Iy(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cl({fromRouteId:t},s)))},[e,t])}const lp={};function vS(e,t,n){lp[e]||(lp[e]=!0)}function wS(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _S(e){let{to:t,replace:n,state:r,relative:i}=e;Ds()||le(!1);let{future:s,static:o}=I.useContext(Fr),{matches:a}=I.useContext(tr),{pathname:l}=Xo(),u=Gl(),d=Yl(t,Jl(a,s.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(d);return I.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function SS(e){return oS(e.context)}function ES(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qe.Pop,navigator:s,static:o=!1,future:a}=e;Ds()&&le(!1);let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:o,future:Cl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=jr(r));let{pathname:d="/",search:c="",hash:p="",state:h=null,key:w="default"}=r,y=I.useMemo(()=>{let v=Os(d,l);return v==null?null:{location:{pathname:v,search:c,hash:p,state:h,key:w},navigationType:i}},[l,d,c,p,h,w,i]);return y==null?null:I.createElement(Fr.Provider,{value:u},I.createElement(vf.Provider,{children:n,value:y}))}new Promise(()=>{});function kS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:I.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(this,arguments)}function xS(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bS(e,t){return e.button===0&&(!t||t==="_self")&&!CS(e)}const RS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TS="6";try{window.__reactRouterVersion=TS}catch{}function PS(e,t){return U0({basename:void 0,future:Uo({},void 0,{v7_prependBasename:!0}),history:a0({window:void 0}),hydrationData:IS(),routes:e,mapRouteProperties:kS,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function IS(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Uo({},t,{errors:NS(t.errors)})),t}function NS(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new xl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const OS=I.createContext({isTransitioning:!1}),DS=I.createContext(new Map),MS="startTransition",up=Jv[MS],AS="flushSync",cp=o0[AS];function LS(e){up?up(e):e()}function eo(e){cp?cp(e):e()}class US{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function jS(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=I.useState(n.state),[o,a]=I.useState(),[l,u]=I.useState({isTransitioning:!1}),[d,c]=I.useState(),[p,h]=I.useState(),[w,y]=I.useState(),v=I.useRef(new Map),{v7_startTransition:m}=r||{},f=I.useCallback(b=>{m?LS(b):b()},[m]),g=I.useCallback((b,D)=>{let{deletedFetchers:O,flushSync:J,viewTransitionOpts:G}=D;b.fetchers.forEach((xe,We)=>{xe.data!==void 0&&v.current.set(We,xe.data)}),O.forEach(xe=>v.current.delete(xe));let ce=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!G||ce){J?eo(()=>s(b)):f(()=>s(b));return}if(J){eo(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let xe=n.window.document.startViewTransition(()=>{eo(()=>s(b))});xe.finished.finally(()=>{eo(()=>{c(void 0),h(void 0),a(void 0),u({isTransitioning:!1})})}),eo(()=>h(xe));return}p?(d&&d.resolve(),p.skipTransition(),y({state:b,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(a(b),u({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,p,d,v,f]);I.useLayoutEffect(()=>n.subscribe(g),[n,g]),I.useEffect(()=>{l.isTransitioning&&!l.flushSync&&c(new US)},[l]),I.useEffect(()=>{if(d&&o&&n.window){let b=o,D=d.promise,O=n.window.document.startViewTransition(async()=>{f(()=>s(b)),await D});O.finished.finally(()=>{c(void 0),h(void 0),a(void 0),u({isTransitioning:!1})}),h(O)}},[f,o,d,n.window]),I.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),I.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),u({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),y(void 0))},[l.isTransitioning,w]),I.useEffect(()=>{},[]);let k=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,D,O)=>n.navigate(b,{state:D,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(b,D,O)=>n.navigate(b,{replace:!0,state:D,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),C=n.basename||"/",T=I.useMemo(()=>({router:n,navigator:k,static:!1,basename:C}),[n,k,C]),_=I.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return I.useEffect(()=>wS(r,n.future),[r,n.future]),I.createElement(I.Fragment,null,I.createElement(Xl.Provider,{value:T},I.createElement(Ty.Provider,{value:i},I.createElement(DS.Provider,{value:v.current},I.createElement(OS.Provider,{value:l},I.createElement(ES,{basename:C,location:i.location,navigationType:i.historyAction,navigator:k,future:_},i.initialized||n.future.v7_partialHydration?I.createElement(FS,{routes:n.routes,future:n.future,state:i}):t))))),null)}const FS=I.memo(zS);function zS(e){let{routes:t,future:n,state:r}=e;return aS(t,void 0,r,n)}const $S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bu=I.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:c}=t,p=xS(t,RS),{basename:h}=I.useContext(Fr),w,y=!1;if(typeof u=="string"&&BS.test(u)&&(w=u,$S))try{let g=new URL(window.location.href),k=u.startsWith("//")?new URL(g.protocol+u):new URL(u),C=Os(k.pathname,h);k.origin===g.origin&&C!=null?u=C+k.search+k.hash:y=!0}catch{}let v=rS(u,{relative:i}),m=HS(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:c});function f(g){r&&r(g),g.defaultPrevented||m(g)}return I.createElement("a",Uo({},p,{href:w||v,onClick:y||s?r:f,ref:n,target:l}))});var dp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dp||(dp={}));var fp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fp||(fp={}));function HS(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=Gl(),u=Xo(),d=Ny(e,{relative:o});return I.useCallback(c=>{if(bS(c,n)){c.preventDefault();let p=r!==void 0?r:xi(u)===xi(d);l(e,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,e,s,o,a])}var Ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ci=typeof window>"u"||"Deno"in globalThis;function wt(){}function WS(e,t){return typeof e=="function"?e(t):e}function Vc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ay(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Or(e,t){return typeof e=="function"?e(t):e}function qt(e,t){return typeof e=="function"?e(t):e}function hp(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==wf(o,t.options))return!1}else if(!jo(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function pp(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(bi(t.options.mutationKey)!==bi(s))return!1}else if(!jo(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function wf(e,t){return((t==null?void 0:t.queryKeyHashFn)||bi)(e)}function bi(e){return JSON.stringify(e,(t,n)=>Qc(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function jo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>jo(e[n],t[n])):!1}function Ly(e,t){if(e===t)return e;const n=gp(e)&&gp(t);if(n||Qc(e)&&Qc(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const c=n?d:s[d];(!n&&l.has(c)||n)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,u++):(a[c]=Ly(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&u++)}return i===o&&u===i?e:a}return t}function bl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function gp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qc(e){if(!mp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!mp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mp(e){return Object.prototype.toString.call(e)==="[object Object]"}function qS(e){return new Promise(t=>{setTimeout(t,e)})}function Kc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ly(e,t):t}function VS(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function QS(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var _f=Symbol();function Uy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===_f?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jy(e,t){return typeof e=="function"?e(...t):!!e}var si,dr,os,Jp,KS=(Jp=class extends Ms{constructor(){super();X(this,si);X(this,dr);X(this,os);$(this,os,t=>{if(!Ci&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,dr)||this.setEventListener(E(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,dr))==null||t.call(this),$(this,dr,void 0))}setEventListener(t){var n;$(this,os,t),(n=E(this,dr))==null||n.call(this),$(this,dr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){E(this,si)!==t&&($(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof E(this,si)=="boolean"?E(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,dr=new WeakMap,os=new WeakMap,Jp),Sf=new KS,as,fr,ls,Yp,JS=(Yp=class extends Ms{constructor(){super();X(this,as,!0);X(this,fr);X(this,ls);$(this,ls,t=>{if(!Ci&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,fr)||this.setEventListener(E(this,ls))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,fr))==null||t.call(this),$(this,fr,void 0))}setEventListener(t){var n;$(this,ls,t),(n=E(this,fr))==null||n.call(this),$(this,fr,t(this.setOnline.bind(this)))}setOnline(t){E(this,as)!==t&&($(this,as,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return E(this,as)}},as=new WeakMap,fr=new WeakMap,ls=new WeakMap,Yp),Rl=new JS;function Jc(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function YS(e){return Math.min(1e3*2**e,3e4)}function Fy(e){return(e??"online")==="online"?Rl.isOnline():!0}var zy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Hu(e){return e instanceof zy}function $y(e){let t=!1,n=0,r=!1,i;const s=Jc(),o=y=>{var v;r||(p(new zy(y)),(v=e.abort)==null||v.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>Sf.isFocused()&&(e.networkMode==="always"||Rl.isOnline())&&e.canRun(),d=()=>Fy(e.networkMode)&&e.canRun(),c=y=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,y),i==null||i(),s.resolve(y))},p=y=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,y),i==null||i(),s.reject(y))},h=()=>new Promise(y=>{var v;i=m=>{(r||u())&&y(m)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(r)return;let y;const v=n===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(m){y=Promise.reject(m)}Promise.resolve(y).then(c).catch(m=>{var T;if(r)return;const f=e.retry??(Ci?0:3),g=e.retryDelay??YS,k=typeof g=="function"?g(n,m):g,C=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,m);if(t||!C){p(m);return}n++,(T=e.onFail)==null||T.call(e,n,m),qS(k).then(()=>u()?void 0:h()).then(()=>{t?p(m):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():h().then(w),s)}}var XS=e=>setTimeout(e,0);function GS(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=XS;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ze=GS(),oi,Xp,By=(Xp=class{constructor(){X(this,oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vc(this.gcTime)&&$(this,oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ci?1/0:5*60*1e3))}clearGcTimeout(){E(this,oi)&&(clearTimeout(E(this,oi)),$(this,oi,void 0))}},oi=new WeakMap,Xp),us,ai,Wt,li,ct,Bo,ui,rn,zn,Gp,ZS=(Gp=class extends By{constructor(t){super();X(this,rn);X(this,us);X(this,ai);X(this,Wt);X(this,li);X(this,ct);X(this,Bo);X(this,ui);$(this,ui,!1),$(this,Bo,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,li,t.client),$(this,Wt,E(this,li).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,us,eE(this.options)),this.state=t.state??E(this,us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,ct))==null?void 0:t.promise}setOptions(t){this.options={...E(this,Bo),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Wt).remove(this)}setData(t,n){const r=Kc(this.state.data,t,this.options);return se(this,rn,zn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){se(this,rn,zn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=E(this,ct))==null?void 0:r.promise;return(i=E(this,ct))==null||i.cancel(t),n?n.then(wt).catch(wt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,us))}isActive(){return this.observers.some(t=>qt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_f||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Or(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ay(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,ct))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,ct))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(E(this,ct)&&(E(this,ui)?E(this,ct).cancel({revert:!0}):E(this,ct).cancelRetry()),this.scheduleGc()),E(this,Wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||se(this,rn,zn).call(this,{type:"invalidate"})}fetch(t,n){var u,d,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,ct))return E(this,ct).continueRetry(),E(this,ct).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>($(this,ui,!0),r.signal)})},s=()=>{const p=Uy(this.options,n),w=(()=>{const y={client:E(this,li),queryKey:this.queryKey,meta:this.meta};return i(y),y})();return $(this,ui,!1),this.options.persister?this.options.persister(p,w,this):p(w)},a=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,li),state:this.state,fetchFn:s};return i(p),p})();(u=this.options.behavior)==null||u.onFetch(a,this),$(this,ai,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&se(this,rn,zn).call(this,{type:"fetch",meta:(c=a.fetchOptions)==null?void 0:c.meta});const l=p=>{var h,w,y,v;Hu(p)&&p.silent||se(this,rn,zn).call(this,{type:"error",error:p}),Hu(p)||((w=(h=E(this,Wt).config).onError)==null||w.call(h,p,this),(v=(y=E(this,Wt).config).onSettled)==null||v.call(y,this.state.data,p,this)),this.scheduleGc()};return $(this,ct,$y({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var h,w,y,v;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(m){l(m);return}(w=(h=E(this,Wt).config).onSuccess)==null||w.call(h,p,this),(v=(y=E(this,Wt).config).onSettled)==null||v.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,h)=>{se(this,rn,zn).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{se(this,rn,zn).call(this,{type:"pause"})},onContinue:()=>{se(this,rn,zn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),E(this,ct).start()}},us=new WeakMap,ai=new WeakMap,Wt=new WeakMap,li=new WeakMap,ct=new WeakMap,Bo=new WeakMap,ui=new WeakMap,rn=new WeakSet,zn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Hy(r.data,this.options),fetchMeta:t.meta??null};case"success":return $(this,ai,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Hu(i)&&i.revert&&E(this,ai)?{...E(this,ai),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Wt).notify({query:this,type:"updated",action:t})})},Gp);function Hy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function eE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bn,Zp,tE=(Zp=class extends Ms{constructor(t={}){super();X(this,bn);this.config=t,$(this,bn,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??wf(i,n);let o=this.get(s);return o||(o=new ZS({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){E(this,bn).has(t.queryHash)||(E(this,bn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=E(this,bn).get(t.queryHash);n&&(t.destroy(),n===t&&E(this,bn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,bn).get(t)}getAll(){return[...E(this,bn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>hp(t,r)):n}notify(t){Ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bn=new WeakMap,Zp),Rn,mt,ci,Tn,sr,eg,nE=(eg=class extends By{constructor(t){super();X(this,Tn);X(this,Rn);X(this,mt);X(this,ci);this.mutationId=t.mutationId,$(this,mt,t.mutationCache),$(this,Rn,[]),this.state=t.state||Wy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Rn).includes(t)||(E(this,Rn).push(t),this.clearGcTimeout(),E(this,mt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,Rn,E(this,Rn).filter(n=>n!==t)),this.scheduleGc(),E(this,mt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Rn).length||(this.state.status==="pending"?this.scheduleGc():E(this,mt).remove(this))}continue(){var t;return((t=E(this,ci))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,u,d,c,p,h,w,y,v,m,f,g,k,C,T,_,b;const n=()=>{se(this,Tn,sr).call(this,{type:"continue"})};$(this,ci,$y({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,O)=>{se(this,Tn,sr).call(this,{type:"failed",failureCount:D,error:O})},onPause:()=>{se(this,Tn,sr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,mt).canRun(this)}));const r=this.state.status==="pending",i=!E(this,ci).canStart();try{if(r)n();else{se(this,Tn,sr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=E(this,mt).config).onMutate)==null?void 0:o.call(s,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&se(this,Tn,sr).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const D=await E(this,ci).start();return await((d=(u=E(this,mt).config).onSuccess)==null?void 0:d.call(u,D,t,this.state.context,this)),await((p=(c=this.options).onSuccess)==null?void 0:p.call(c,D,t,this.state.context)),await((w=(h=E(this,mt).config).onSettled)==null?void 0:w.call(h,D,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,D,null,t,this.state.context)),se(this,Tn,sr).call(this,{type:"success",data:D}),D}catch(D){try{throw await((f=(m=E(this,mt).config).onError)==null?void 0:f.call(m,D,t,this.state.context,this)),await((k=(g=this.options).onError)==null?void 0:k.call(g,D,t,this.state.context)),await((T=(C=E(this,mt).config).onSettled)==null?void 0:T.call(C,void 0,D,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,void 0,D,t,this.state.context)),D}finally{se(this,Tn,sr).call(this,{type:"error",error:D})}}finally{E(this,mt).runNext(this)}}},Rn=new WeakMap,mt=new WeakMap,ci=new WeakMap,Tn=new WeakSet,sr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{E(this,Rn).forEach(r=>{r.onMutationUpdate(t)}),E(this,mt).notify({mutation:this,type:"updated",action:t})})},eg);function Wy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,sn,Ho,tg,rE=(tg=class extends Ms{constructor(t={}){super();X(this,Hn);X(this,sn);X(this,Ho);this.config=t,$(this,Hn,new Set),$(this,sn,new Map),$(this,Ho,0)}build(t,n,r){const i=new nE({mutationCache:this,mutationId:++fa(this,Ho)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){E(this,Hn).add(t);const n=Na(t);if(typeof n=="string"){const r=E(this,sn).get(n);r?r.push(t):E(this,sn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,Hn).delete(t)){const n=Na(t);if(typeof n=="string"){const r=E(this,sn).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&E(this,sn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Na(t);if(typeof n=="string"){const r=E(this,sn).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Na(t);if(typeof n=="string"){const i=(r=E(this,sn).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{E(this,Hn).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,Hn).clear(),E(this,sn).clear()})}getAll(){return Array.from(E(this,Hn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>pp(n,r))}findAll(t={}){return this.getAll().filter(n=>pp(t,n))}notify(t){Ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(t.map(n=>n.continue().catch(wt))))}},Hn=new WeakMap,sn=new WeakMap,Ho=new WeakMap,tg);function Na(e){var t;return(t=e.options.scope)==null?void 0:t.id}function yp(e){return{onFetch:(t,n)=>{var d,c,p,h,w;const r=t.options,i=(p=(c=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:p.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const v=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},m=Uy(t.options,t.fetchOptions),f=async(g,k,C)=>{if(y)return Promise.reject();if(k==null&&g.pages.length)return Promise.resolve(g);const _=(()=>{const J={client:t.client,queryKey:t.queryKey,pageParam:k,direction:C?"backward":"forward",meta:t.options.meta};return v(J),J})(),b=await m(_),{maxPages:D}=t.options,O=C?QS:VS;return{pages:O(g.pages,b,D),pageParams:O(g.pageParams,k,D)}};if(i&&s.length){const g=i==="backward",k=g?iE:vp,C={pages:s,pageParams:o},T=k(r,C);a=await f(C,T,g)}else{const g=e??s.length;do{const k=l===0?o[0]??r.initialPageParam:vp(r,a);if(l>0&&k==null)break;a=await f(a,k),l++}while(l<g)}return a};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function vp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function iE(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ze,hr,pr,cs,ds,gr,fs,hs,ng,sE=(ng=class{constructor(e={}){X(this,ze);X(this,hr);X(this,pr);X(this,cs);X(this,ds);X(this,gr);X(this,fs);X(this,hs);$(this,ze,e.queryCache||new tE),$(this,hr,e.mutationCache||new rE),$(this,pr,e.defaultOptions||{}),$(this,cs,new Map),$(this,ds,new Map),$(this,gr,0)}mount(){fa(this,gr)._++,E(this,gr)===1&&($(this,fs,Sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ze).onFocus())})),$(this,hs,Rl.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ze).onOnline())})))}unmount(){var e,t;fa(this,gr)._--,E(this,gr)===0&&((e=E(this,fs))==null||e.call(this),$(this,fs,void 0),(t=E(this,hs))==null||t.call(this),$(this,hs,void 0))}isFetching(e){return E(this,ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,hr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,ze).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=E(this,ze).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Or(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return E(this,ze).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=E(this,ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=WS(t,s);if(o!==void 0)return E(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ze.batch(()=>E(this,ze).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,ze).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=E(this,ze);Ze.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=E(this,ze);return Ze.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ze.batch(()=>E(this,ze).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(wt).catch(wt)}invalidateQueries(e,t={}){return Ze.batch(()=>(E(this,ze).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ze.batch(()=>E(this,ze).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=E(this,ze).build(this,t);return n.isStaleByTime(Or(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wt).catch(wt)}fetchInfiniteQuery(e){return e.behavior=yp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wt).catch(wt)}ensureInfiniteQueryData(e){return e.behavior=yp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rl.isOnline()?E(this,hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,ze)}getMutationCache(){return E(this,hr)}getDefaultOptions(){return E(this,pr)}setDefaultOptions(e){$(this,pr,e)}setQueryDefaults(e,t){E(this,cs).set(bi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,cs).values()],n={};return t.forEach(r=>{jo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){E(this,ds).set(bi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,ds).values()],n={};return t.forEach(r=>{jo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,pr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_f&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,pr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,ze).clear(),E(this,hr).clear()}},ze=new WeakMap,hr=new WeakMap,pr=new WeakMap,cs=new WeakMap,ds=new WeakMap,gr=new WeakMap,fs=new WeakMap,hs=new WeakMap,ng),kt,fe,Wo,yt,di,ps,mr,yr,qo,gs,ms,fi,hi,vr,ys,_e,ao,Yc,Xc,Gc,Zc,ed,td,nd,qy,rg,oE=(rg=class extends Ms{constructor(t,n){super();X(this,_e);X(this,kt);X(this,fe);X(this,Wo);X(this,yt);X(this,di);X(this,ps);X(this,mr);X(this,yr);X(this,qo);X(this,gs);X(this,ms);X(this,fi);X(this,hi);X(this,vr);X(this,ys,new Set);this.options=n,$(this,kt,t),$(this,yr,null),$(this,mr,Jc()),this.options.experimental_prefetchInRender||E(this,mr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,fe).addObserver(this),wp(E(this,fe),this.options)?se(this,_e,ao).call(this):this.updateResult(),se(this,_e,Zc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rd(E(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rd(E(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,se(this,_e,ed).call(this),se(this,_e,td).call(this),E(this,fe).removeObserver(this)}setOptions(t){const n=this.options,r=E(this,fe);if(this.options=E(this,kt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qt(this.options.enabled,E(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");se(this,_e,nd).call(this),E(this,fe).setOptions(this.options),n._defaulted&&!bl(this.options,n)&&E(this,kt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,fe),observer:this});const i=this.hasListeners();i&&_p(E(this,fe),r,this.options,n)&&se(this,_e,ao).call(this),this.updateResult(),i&&(E(this,fe)!==r||qt(this.options.enabled,E(this,fe))!==qt(n.enabled,E(this,fe))||Or(this.options.staleTime,E(this,fe))!==Or(n.staleTime,E(this,fe)))&&se(this,_e,Yc).call(this);const s=se(this,_e,Xc).call(this);i&&(E(this,fe)!==r||qt(this.options.enabled,E(this,fe))!==qt(n.enabled,E(this,fe))||s!==E(this,vr))&&se(this,_e,Gc).call(this,s)}getOptimisticResult(t){const n=E(this,kt).getQueryCache().build(E(this,kt),t),r=this.createResult(n,t);return lE(this,r)&&($(this,yt,r),$(this,ps,this.options),$(this,di,E(this,fe).state)),r}getCurrentResult(){return E(this,yt)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){E(this,ys).add(t)}getCurrentQuery(){return E(this,fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=E(this,kt).defaultQueryOptions(t),r=E(this,kt).getQueryCache().build(E(this,kt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return se(this,_e,ao).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,yt)))}createResult(t,n){var D;const r=E(this,fe),i=this.options,s=E(this,yt),o=E(this,di),a=E(this,ps),u=t!==r?t.state:E(this,Wo),{state:d}=t;let c={...d},p=!1,h;if(n._optimisticResults){const O=this.hasListeners(),J=!O&&wp(t,n),G=O&&_p(t,r,n,i);(J||G)&&(c={...c,...Hy(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:v}=c;h=c.data;let m=!1;if(n.placeholderData!==void 0&&h===void 0&&v==="pending"){let O;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(O=s.data,m=!0):O=typeof n.placeholderData=="function"?n.placeholderData((D=E(this,ms))==null?void 0:D.state.data,E(this,ms)):n.placeholderData,O!==void 0&&(v="success",h=Kc(s==null?void 0:s.data,O,n),p=!0)}if(n.select&&h!==void 0&&!m)if(s&&h===(o==null?void 0:o.data)&&n.select===E(this,qo))h=E(this,gs);else try{$(this,qo,n.select),h=n.select(h),h=Kc(s==null?void 0:s.data,h,n),$(this,gs,h),$(this,yr,null)}catch(O){$(this,yr,O)}E(this,yr)&&(w=E(this,yr),h=E(this,gs),y=Date.now(),v="error");const f=c.fetchStatus==="fetching",g=v==="pending",k=v==="error",C=g&&f,T=h!==void 0,b={status:v,fetchStatus:c.fetchStatus,isPending:g,isSuccess:v==="success",isError:k,isInitialLoading:C,isLoading:C,data:h,dataUpdatedAt:c.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:f,isRefetching:f&&!g,isLoadingError:k&&!T,isPaused:c.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&T,isStale:Ef(t,n),refetch:this.refetch,promise:E(this,mr),isEnabled:qt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=ce=>{b.status==="error"?ce.reject(b.error):b.data!==void 0&&ce.resolve(b.data)},J=()=>{const ce=$(this,mr,b.promise=Jc());O(ce)},G=E(this,mr);switch(G.status){case"pending":t.queryHash===r.queryHash&&O(G);break;case"fulfilled":(b.status==="error"||b.data!==G.value)&&J();break;case"rejected":(b.status!=="error"||b.error!==G.reason)&&J();break}}return b}updateResult(){const t=E(this,yt),n=this.createResult(E(this,fe),this.options);if($(this,di,E(this,fe).state),$(this,ps,this.options),E(this,di).data!==void 0&&$(this,ms,E(this,fe)),bl(n,t))return;$(this,yt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!E(this,ys).size)return!0;const o=new Set(s??E(this,ys));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,yt)).some(a=>{const l=a;return E(this,yt)[l]!==t[l]&&o.has(l)})};se(this,_e,qy).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&se(this,_e,Zc).call(this)}},kt=new WeakMap,fe=new WeakMap,Wo=new WeakMap,yt=new WeakMap,di=new WeakMap,ps=new WeakMap,mr=new WeakMap,yr=new WeakMap,qo=new WeakMap,gs=new WeakMap,ms=new WeakMap,fi=new WeakMap,hi=new WeakMap,vr=new WeakMap,ys=new WeakMap,_e=new WeakSet,ao=function(t){se(this,_e,nd).call(this);let n=E(this,fe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(wt)),n},Yc=function(){se(this,_e,ed).call(this);const t=Or(this.options.staleTime,E(this,fe));if(Ci||E(this,yt).isStale||!Vc(t))return;const r=Ay(E(this,yt).dataUpdatedAt,t)+1;$(this,fi,setTimeout(()=>{E(this,yt).isStale||this.updateResult()},r))},Xc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,fe)):this.options.refetchInterval)??!1},Gc=function(t){se(this,_e,td).call(this),$(this,vr,t),!(Ci||qt(this.options.enabled,E(this,fe))===!1||!Vc(E(this,vr))||E(this,vr)===0)&&$(this,hi,setInterval(()=>{(this.options.refetchIntervalInBackground||Sf.isFocused())&&se(this,_e,ao).call(this)},E(this,vr)))},Zc=function(){se(this,_e,Yc).call(this),se(this,_e,Gc).call(this,se(this,_e,Xc).call(this))},ed=function(){E(this,fi)&&(clearTimeout(E(this,fi)),$(this,fi,void 0))},td=function(){E(this,hi)&&(clearInterval(E(this,hi)),$(this,hi,void 0))},nd=function(){const t=E(this,kt).getQueryCache().build(E(this,kt),this.options);if(t===E(this,fe))return;const n=E(this,fe);$(this,fe,t),$(this,Wo,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},qy=function(t){Ze.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(E(this,yt))}),E(this,kt).getQueryCache().notify({query:E(this,fe),type:"observerResultsUpdated"})})},rg);function aE(e,t){return qt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wp(e,t){return aE(e,t)||e.state.data!==void 0&&rd(e,t,t.refetchOnMount)}function rd(e,t,n){if(qt(t.enabled,e)!==!1&&Or(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ef(e,t)}return!1}function _p(e,t,n,r){return(e!==t||qt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ef(e,n)}function Ef(e,t){return qt(t.enabled,e)!==!1&&e.isStaleByTime(Or(t.staleTime,e))}function lE(e,t){return!bl(e.getCurrentResult(),t)}var wr,_r,xt,Wn,Jn,Ka,id,ig,uE=(ig=class extends Ms{constructor(n,r){super();X(this,Jn);X(this,wr);X(this,_r);X(this,xt);X(this,Wn);$(this,wr,n),this.setOptions(r),this.bindMethods(),se(this,Jn,Ka).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=E(this,wr).defaultMutationOptions(n),bl(this.options,r)||E(this,wr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,xt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&bi(r.mutationKey)!==bi(this.options.mutationKey)?this.reset():((i=E(this,xt))==null?void 0:i.state.status)==="pending"&&E(this,xt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,xt))==null||n.removeObserver(this)}onMutationUpdate(n){se(this,Jn,Ka).call(this),se(this,Jn,id).call(this,n)}getCurrentResult(){return E(this,_r)}reset(){var n;(n=E(this,xt))==null||n.removeObserver(this),$(this,xt,void 0),se(this,Jn,Ka).call(this),se(this,Jn,id).call(this)}mutate(n,r){var i;return $(this,Wn,r),(i=E(this,xt))==null||i.removeObserver(this),$(this,xt,E(this,wr).getMutationCache().build(E(this,wr),this.options)),E(this,xt).addObserver(this),E(this,xt).execute(n)}},wr=new WeakMap,_r=new WeakMap,xt=new WeakMap,Wn=new WeakMap,Jn=new WeakSet,Ka=function(){var r;const n=((r=E(this,xt))==null?void 0:r.state)??Wy();$(this,_r,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},id=function(n){Ze.batch(()=>{var r,i,s,o,a,l,u,d;if(E(this,Wn)&&this.hasListeners()){const c=E(this,_r).variables,p=E(this,_r).context;(n==null?void 0:n.type)==="success"?((i=(r=E(this,Wn)).onSuccess)==null||i.call(r,n.data,c,p),(o=(s=E(this,Wn)).onSettled)==null||o.call(s,n.data,null,c,p)):(n==null?void 0:n.type)==="error"&&((l=(a=E(this,Wn)).onError)==null||l.call(a,n.error,c,p),(d=(u=E(this,Wn)).onSettled)==null||d.call(u,void 0,n.error,c,p))}this.listeners.forEach(c=>{c(E(this,_r))})})},ig),Vy=I.createContext(void 0),Zl=e=>{const t=I.useContext(Vy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},cE=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),A.jsx(Vy.Provider,{value:e,children:t})),Qy=I.createContext(!1),dE=()=>I.useContext(Qy);Qy.Provider;function fE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hE=I.createContext(fE()),pE=()=>I.useContext(hE),gE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mE=e=>{I.useEffect(()=>{e.clearReset()},[e])},yE=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||jy(n,[e.error,r])),vE=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},wE=(e,t)=>e.isLoading&&e.isFetching&&!t,_E=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function SE(e,t,n){var c,p,h,w,y;const r=dE(),i=pE(),s=Zl(),o=s.defaultQueryOptions(e);(p=(c=s.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||p.call(c,o),o._optimisticResults=r?"isRestoring":"optimistic",vE(o),gE(o,i),mE(i);const a=!s.getQueryCache().get(o.queryHash),[l]=I.useState(()=>new t(s,o)),u=l.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(v=>{const m=d?l.subscribe(Ze.batchCalls(v)):wt;return l.updateResult(),m},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(o)},[o,l]),_E(o,u))throw Sp(o,l,i);if(yE({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||w.call(h,o,u),o.experimental_prefetchInRender&&!Ci&&wE(u,r)){const v=a?Sp(o,l,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;v==null||v.catch(wt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ky(e,t){return SE(e,oE)}function EE(e,t){const n=Zl(),[r]=I.useState(()=>new uE(n,e));I.useEffect(()=>{r.setOptions(e)},[r,e]);const i=I.useSyncExternalStore(I.useCallback(o=>r.subscribe(Ze.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=I.useCallback((o,a)=>{r.mutate(o,a).catch(wt)},[r]);if(i.error&&jy(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function kE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wu={exports:{}};const xE={},CE=Object.freeze(Object.defineProperty({__proto__:null,default:xE},Symbol.toStringTag,{value:"Module"})),bE=Dv(CE);var Ep;function eu(){return Ep||(Ep=1,function(e,t){(function(n,r){e.exports=r()})(Zr,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Zr<"u"&&Zr.crypto&&(s=Zr.crypto),!s&&typeof kE=="function")try{s=bE}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function f(){}return function(g){var k;return f.prototype=g,k=new f,f.prototype=null,k}}(),l={},u=l.lib={},d=u.Base=function(){return{extend:function(f){var g=a(this);return f&&g.mixIn(f),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var f=this.extend();return f.init.apply(f,arguments),f},init:function(){},mixIn:function(f){for(var g in f)f.hasOwnProperty(g)&&(this[g]=f[g]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=u.WordArray=d.extend({init:function(f,g){f=this.words=f||[],g!=i?this.sigBytes=g:this.sigBytes=f.length*4},toString:function(f){return(f||h).stringify(this)},concat:function(f){var g=this.words,k=f.words,C=this.sigBytes,T=f.sigBytes;if(this.clamp(),C%4)for(var _=0;_<T;_++){var b=k[_>>>2]>>>24-_%4*8&255;g[C+_>>>2]|=b<<24-(C+_)%4*8}else for(var D=0;D<T;D+=4)g[C+D>>>2]=k[D>>>2];return this.sigBytes+=T,this},clamp:function(){var f=this.words,g=this.sigBytes;f[g>>>2]&=4294967295<<32-g%4*8,f.length=r.ceil(g/4)},clone:function(){var f=d.clone.call(this);return f.words=this.words.slice(0),f},random:function(f){for(var g=[],k=0;k<f;k+=4)g.push(o());return new c.init(g,f)}}),p=l.enc={},h=p.Hex={stringify:function(f){for(var g=f.words,k=f.sigBytes,C=[],T=0;T<k;T++){var _=g[T>>>2]>>>24-T%4*8&255;C.push((_>>>4).toString(16)),C.push((_&15).toString(16))}return C.join("")},parse:function(f){for(var g=f.length,k=[],C=0;C<g;C+=2)k[C>>>3]|=parseInt(f.substr(C,2),16)<<24-C%8*4;return new c.init(k,g/2)}},w=p.Latin1={stringify:function(f){for(var g=f.words,k=f.sigBytes,C=[],T=0;T<k;T++){var _=g[T>>>2]>>>24-T%4*8&255;C.push(String.fromCharCode(_))}return C.join("")},parse:function(f){for(var g=f.length,k=[],C=0;C<g;C++)k[C>>>2]|=(f.charCodeAt(C)&255)<<24-C%4*8;return new c.init(k,g)}},y=p.Utf8={stringify:function(f){try{return decodeURIComponent(escape(w.stringify(f)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(f){return w.parse(unescape(encodeURIComponent(f)))}},v=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(f){typeof f=="string"&&(f=y.parse(f)),this._data.concat(f),this._nDataBytes+=f.sigBytes},_process:function(f){var g,k=this._data,C=k.words,T=k.sigBytes,_=this.blockSize,b=_*4,D=T/b;f?D=r.ceil(D):D=r.max((D|0)-this._minBufferSize,0);var O=D*_,J=r.min(O*4,T);if(O){for(var G=0;G<O;G+=_)this._doProcessBlock(C,G);g=C.splice(0,O),k.sigBytes-=J}return new c.init(g,J)},clone:function(){var f=d.clone.call(this);return f._data=this._data.clone(),f},_minBufferSize:0});u.Hasher=v.extend({cfg:d.extend(),init:function(f){this.cfg=this.cfg.extend(f),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(f){return this._append(f),this._process(),this},finalize:function(f){f&&this._append(f);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(f){return function(g,k){return new f.init(k).finalize(g)}},_createHmacHelper:function(f){return function(g,k){return new m.HMAC.init(f,k).finalize(g)}}});var m=l.algo={};return l}(Math);return n})}(Wu)),Wu.exports}var RE=eu();const TE=Ts(RE);var Jy={exports:{}};(function(e,t){(function(n,r){e.exports=r(eu())})(Zr,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[],d=[];(function(){function h(m){for(var f=r.sqrt(m),g=2;g<=f;g++)if(!(m%g))return!1;return!0}function w(m){return(m-(m|0))*4294967296|0}for(var y=2,v=0;v<64;)h(y)&&(v<8&&(u[v]=w(r.pow(y,1/2))),d[v]=w(r.pow(y,1/3)),v++),y++})();var c=[],p=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,w){for(var y=this._hash.words,v=y[0],m=y[1],f=y[2],g=y[3],k=y[4],C=y[5],T=y[6],_=y[7],b=0;b<64;b++){if(b<16)c[b]=h[w+b]|0;else{var D=c[b-15],O=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,J=c[b-2],G=(J<<15|J>>>17)^(J<<13|J>>>19)^J>>>10;c[b]=O+c[b-7]+G+c[b-16]}var ce=k&C^~k&T,xe=v&m^v&f^m&f,We=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),qe=(k<<26|k>>>6)^(k<<21|k>>>11)^(k<<7|k>>>25),Oe=_+qe+ce+d[b]+c[b],U=We+xe;_=T,T=C,C=k,k=g+Oe|0,g=f,f=m,m=v,v=Oe+U|0}y[0]=y[0]+v|0,y[1]=y[1]+m|0,y[2]=y[2]+f|0,y[3]=y[3]+g|0,y[4]=y[4]+k|0,y[5]=y[5]+C|0,y[6]=y[6]+T|0,y[7]=y[7]+_|0},_doFinalize:function(){var h=this._data,w=h.words,y=this._nDataBytes*8,v=h.sigBytes*8;return w[v>>>5]|=128<<24-v%32,w[(v+64>>>9<<4)+14]=r.floor(y/4294967296),w[(v+64>>>9<<4)+15]=y,h.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(p),i.HmacSHA256=a._createHmacHelper(p)}(Math),n.SHA256})})(Jy);var PE=Jy.exports;const IE=Ts(PE);var Yy={exports:{}};(function(e,t){(function(n,r){e.exports=r(eu())})(Zr,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var u=l.words,d=l.sigBytes,c=this._map;l.clamp();for(var p=[],h=0;h<d;h+=3)for(var w=u[h>>>2]>>>24-h%4*8&255,y=u[h+1>>>2]>>>24-(h+1)%4*8&255,v=u[h+2>>>2]>>>24-(h+2)%4*8&255,m=w<<16|y<<8|v,f=0;f<4&&h+f*.75<d;f++)p.push(c.charAt(m>>>6*(3-f)&63));var g=c.charAt(64);if(g)for(;p.length%4;)p.push(g);return p.join("")},parse:function(l){var u=l.length,d=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var p=0;p<d.length;p++)c[d.charCodeAt(p)]=p}var h=d.charAt(64);if(h){var w=l.indexOf(h);w!==-1&&(u=w)}return a(l,u,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,d){for(var c=[],p=0,h=0;h<u;h++)if(h%4){var w=d[l.charCodeAt(h-1)]<<h%4*2,y=d[l.charCodeAt(h)]>>>6-h%4*2,v=w|y;c[p>>>2]|=v<<24-p%4*8,p++}return s.create(c,p)}}(),n.enc.Base64})})(Yy);var NE=Yy.exports;const kp=Ts(NE);var Xy={exports:{}};(function(e,t){(function(n,r){e.exports=r(eu())})(Zr,function(n){return n.enc.Utf8})})(Xy);var OE=Xy.exports;const DE=Ts(OE);function sd(e){this.message=e}sd.prototype=new Error,sd.prototype.name="InvalidCharacterError";var xp=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new sd("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,s=0,o="";r=t.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function ME(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(xp(n).replace(/(.)/g,function(r,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(t)}catch{return xp(t)}}function Tl(e){this.message=e}function AE(e,t){if(typeof e!="string")throw new Tl("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(ME(e.split(".")[n]))}catch(r){throw new Tl("Invalid token specified: "+r.message)}}Tl.prototype=new Error,Tl.prototype.name="InvalidTokenError";var LE={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},kn,xn,Pl=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Pl||{});(e=>{function t(){kn=3,xn=LE}e.reset=t;function n(i){if(!(0<=i&&i<=4))throw new Error("Invalid log level");kn=i}e.setLevel=n;function r(i){xn=i}e.setLogger=r})(Pl||(Pl={}));var ne=class{constructor(e){this._name=e}debug(...e){kn>=4&&xn.debug(ne._format(this._name,this._method),...e)}info(...e){kn>=3&&xn.info(ne._format(this._name,this._method),...e)}warn(...e){kn>=2&&xn.warn(ne._format(this._name,this._method),...e)}error(...e){kn>=1&&xn.error(ne._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const n=new ne(`${e}.${t}`);return n.debug("begin"),n}static _format(e,t){const n=`[${e}]`;return t?`${n} ${t}:`:n}static debug(e,...t){kn>=4&&xn.debug(ne._format(e),...t)}static info(e,...t){kn>=3&&xn.info(ne._format(e),...t)}static warn(e,...t){kn>=2&&xn.warn(ne._format(e),...t)}static error(e,...t){kn>=1&&xn.error(ne._format(e),...t)}};Pl.reset();var UE="10000000-1000-4000-8000-100000000000",In=class{static _randomWord(){return TE.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return UE.replace(/[018]/g,t=>(+t^In._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return In.generateUUIDv4()+In.generateUUIDv4()+In.generateUUIDv4()}static generateCodeChallenge(e){try{const t=IE(e);return kp.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw ne.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const n=DE.parse([e,t].join(":"));return kp.stringify(n)}},lr=class{constructor(e){this._name=e,this._logger=new ne(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)t(...e)}},od=class{static decode(e){try{return AE(e)}catch(t){throw ne.error("JwtUtils.decode",t),t}}},Cp=class{static center({...e}){var t,n,r;return e.width==null&&(e.width=(t=[800,720,600,480].find(i=>i<=window.outerWidth/1.618))!=null?t:360),(n=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((r=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}=${typeof n!="boolean"?n:n?"yes":"no"}`).join(",")}},Yt=class extends lr{constructor(){super(...arguments),this._logger=new ne(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-Yt.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=Yt.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const n=Yt.getEpochTime()+e;if(this.expiration===n&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=n;const r=Math.min(e,5);this._timerHandle=setInterval(this._callback,r*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},ad=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const r=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(r.slice(1))}},ld=";",Ri=class extends Error{constructor(e,t){var n,r,i;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw ne.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(n=e.error_description)!=null?n:null,this.error_uri=(r=e.error_uri)!=null?r:null,this.state=e.userState,this.session_state=(i=e.session_state)!=null?i:null,this.url_state=e.url_state}},kf=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},jE=class{constructor(e){this._logger=new ne("AccessTokenEvents"),this._expiringTimer=new Yt("Access token expiring"),this._expiredTimer=new Yt("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let i=n-this._expiringNotificationTimeInSeconds;i<=0&&(i=1),t.debug("registering expiring timer, raising in",i,"seconds"),this._expiringTimer.init(i)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=n+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},FE=class{constructor(e,t,n,r,i){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=i,this._logger=new ne("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=o=>{o.origin===this._frame_origin&&o.source===this._frame.contentWindow&&(o.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):o.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(o.data+" message from check session op iframe"))};const s=new URL(n);this._frame_origin=s.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=s.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},Gy=class{constructor(){this._logger=new ne("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},xf=class{constructor(e=[],t=null,n={}){this._jwtHandler=t,this._extraHeaders=n,this._logger=new ne("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:n,...r}=t;if(!n)return await fetch(e,r);const i=new AbortController,s=setTimeout(()=>i.abort(),n*1e3);try{return await fetch(e,{...t,signal:i.signal})}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new kf("Network timed out"):o}finally{clearTimeout(s)}}async getJson(e,{token:t,credentials:n}={}){const r=this._logger.create("getJson"),i={Accept:this._contentTypes.join(", ")};t&&(r.debug("token passed, setting Authorization header"),i.Authorization="Bearer "+t),this.appendExtraHeaders(i);let s;try{r.debug("url:",e),s=await this.fetchWithTimeout(e,{method:"GET",headers:i,credentials:n})}catch(l){throw r.error("Network Error"),l}r.debug("HTTP response received, status",s.status);const o=s.headers.get("Content-Type");if(o&&!this._contentTypes.find(l=>o.startsWith(l))&&r.throw(new Error(`Invalid response Content-Type: ${o??"undefined"}, from URL: ${e}`)),s.ok&&this._jwtHandler&&(o!=null&&o.startsWith("application/jwt")))return await this._jwtHandler(await s.text());let a;try{a=await s.json()}catch(l){throw r.error("Error parsing JSON response",l),s.ok?l:new Error(`${s.statusText} (${s.status})`)}if(!s.ok)throw r.error("Error from server:",a),a.error?new Ri(a):new Error(`${s.statusText} (${s.status}): ${JSON.stringify(a)}`);return a}async postForm(e,{body:t,basicAuth:n,timeoutInSeconds:r,initCredentials:i}){const s=this._logger.create("postForm"),o={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};n!==void 0&&(o.Authorization="Basic "+n),this.appendExtraHeaders(o);let a;try{s.debug("url:",e),a=await this.fetchWithTimeout(e,{method:"POST",headers:o,body:t,timeoutInSeconds:r,credentials:i})}catch(c){throw s.error("Network error"),c}s.debug("HTTP response received, status",a.status);const l=a.headers.get("Content-Type");if(l&&!this._contentTypes.find(c=>l.startsWith(c)))throw new Error(`Invalid response Content-Type: ${l??"undefined"}, from URL: ${e}`);const u=await a.text();let d={};if(u)try{d=JSON.parse(u)}catch(c){throw s.error("Error parsing JSON response",c),a.ok?c:new Error(`${a.statusText} (${a.status})`)}if(!a.ok)throw s.error("Error from server:",d),d.error?new Ri(d,t):new Error(`${a.statusText} (${a.status}): ${JSON.stringify(d)}`);return d}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),r=["authorization","accept","content-type"];n.length!==0&&n.forEach(i=>{if(r.includes(i.toLocaleLowerCase())){t.warn("Protected header could not be overridden",i,r);return}const s=typeof this._extraHeaders[i]=="function"?this._extraHeaders[i]():this._extraHeaders[i];s&&s!==""&&(e[i]=s)})}},zE=class{constructor(e){this._settings=e,this._logger=new ne("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new xf(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const n=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(n.debug("resolved"),r[e]===void 0){if(t===!0){n.warn("Metadata does not contain optional property");return}n.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t);if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},Cf=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new ne("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const r=await this._store.key(n);r&&r.indexOf(this._prefix)===0&&t.push(r.substr(this._prefix.length))}return t}},$E="code",BE="openid",HE="client_secret_post",WE="query",qE=60*15,VE=60*5,ud=class{constructor({authority:e,metadataUrl:t,metadata:n,signingKeys:r,metadataSeed:i,client_id:s,client_secret:o,response_type:a=$E,scope:l=BE,redirect_uri:u,post_logout_redirect_uri:d,client_authentication:c=HE,prompt:p,display:h,max_age:w,ui_locales:y,acr_values:v,resource:m,response_mode:f=WE,filterProtocolClaims:g=!0,loadUserInfo:k=!1,staleStateAgeInSeconds:C=qE,clockSkewInSeconds:T=VE,userInfoJwtIssuer:_="OP",mergeClaims:b=!1,disablePKCE:D=!1,stateStore:O,refreshTokenCredentials:J,revokeTokenAdditionalContentTypes:G,fetchRequestCredentials:ce,refreshTokenAllowedScope:xe,extraQueryParams:We={},extraTokenParams:qe={},extraHeaders:Oe={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=n,this.metadataSeed=i,this.signingKeys=r,this.client_id=s,this.client_secret=o,this.response_type=a,this.scope=l,this.redirect_uri=u,this.post_logout_redirect_uri=d,this.client_authentication=c,this.prompt=p,this.display=h,this.max_age=w,this.ui_locales=y,this.acr_values=v,this.resource=m,this.response_mode=f,this.filterProtocolClaims=g??!0,this.loadUserInfo=!!k,this.staleStateAgeInSeconds=C,this.clockSkewInSeconds=T,this.userInfoJwtIssuer=_,this.mergeClaims=!!b,this.disablePKCE=!!D,this.revokeTokenAdditionalContentTypes=G,ce&&J&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=ce||J||"same-origin",O)this.stateStore=O;else{const U=typeof window<"u"?window.localStorage:new Gy;this.stateStore=new Cf({store:U})}this.refreshTokenAllowedScope=xe,this.extraQueryParams=We,this.extraTokenParams=qe,this.extraHeaders=Oe}},QE=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new ne("UserInfoService"),this._getClaimsFromJwt=async n=>{const r=this._logger.create("_getClaimsFromJwt");try{const i=od.decode(n);return r.debug("JWT decoding successful"),i}catch(i){throw r.error("Error parsing JWT response"),i}},this._jsonService=new xf(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const r=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",r),r}},Zy=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new ne("TokenClient"),this._jsonService=new xf(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,...i}){const s=this._logger.create("exchangeCode");n||s.throw(new Error("A client_id is required")),t||s.throw(new Error("A redirect_uri is required")),i.code||s.throw(new Error("A code is required"));const o=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[d,c]of Object.entries(i))c!=null&&o.set(d,c);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw s.throw(new Error("A client_secret is required")),null;a=In.generateBasicAuth(n,r);break;case"client_secret_post":o.append("client_id",n),r&&o.append("client_secret",r);break}const l=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const u=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),u}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,scope:r=this._settings.scope,...i}){const s=this._logger.create("exchangeCredentials");t||s.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e,scope:r});for(const[d,c]of Object.entries(i))c!=null&&o.set(d,c);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw s.throw(new Error("A client_secret is required")),null;a=In.generateBasicAuth(t,n);break;case"client_secret_post":o.append("client_id",t),n&&o.append("client_secret",n);break}const l=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const u=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),u}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,timeoutInSeconds:r,...i}){const s=this._logger.create("exchangeRefreshToken");t||s.throw(new Error("A client_id is required")),i.refresh_token||s.throw(new Error("A refresh_token is required"));const o=new URLSearchParams({grant_type:e});for(const[d,c]of Object.entries(i))Array.isArray(c)?c.forEach(p=>o.append(d,p)):c!=null&&o.set(d,c);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw s.throw(new Error("A client_secret is required")),null;a=In.generateBasicAuth(t,n);break;case"client_secret_post":o.append("client_id",t),n&&o.append("client_secret",n);break}const l=await this._metadataService.getTokenEndpoint(!1);s.debug("got token endpoint");const u=await this._jsonService.postForm(l,{body:o,basicAuth:a,timeoutInSeconds:r,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),u}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const i=new URLSearchParams;for(const[s,o]of Object.entries(e))o!=null&&i.set(s,o);i.set("client_id",this._settings.client_id),this._settings.client_secret&&i.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:i}),n.debug("got response")}},KE=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new ne("ResponseValidator"),this._userInfoService=new QE(this._settings,this._metadataService),this._tokenClient=new Zy(this._settings,this._metadataService)}async validateSigninResponse(e,t){const n=this._logger.create("validateSigninResponse");this._processSigninState(e,t),n.debug("state processed"),await this._processCode(e,t),n.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),n.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),n.debug("claims processed")}async validateRefreshResponse(e,t){var n,r;const i=this._logger.create("validateRefreshResponse");e.userState=t.data,(n=e.session_state)!=null||(e.session_state=t.session_state),(r=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),i.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const s=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,s),i.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new Ri(e)}_processSigninState(e,t){var n;const r=this._logger.create("_processSigninState");if(t.id!==e.state&&r.throw(new Error("State does not match")),t.client_id||r.throw(new Error("No client_id on state")),t.authority||r.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&r.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&r.throw(new Error("client_id mismatch on settings vs. signin state")),r.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(n=e.scope)!=null||(e.scope=t.scope),e.error)throw r.warn("Response was error",e.error),new Ri(e);t.code_verifier&&!e.code&&r.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,n=!0){const r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){r.debug("not loading user info");return}r.debug("loading user info");const i=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),n&&i.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(i)),r.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const n=this._logger.create("_processCode");if(e.code){n.debug("Validating code");const r=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,r)}else n.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const i=od.decode((n=e.id_token)!=null?n:"");if(i.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const s=od.decode(t);i.sub!==s.sub&&r.throw(new Error("sub in id_token does not match current sub")),i.auth_time&&i.auth_time!==s.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),i.azp&&i.azp!==s.azp&&r.throw(new Error("azp in id_token does not match original azp")),!i.azp&&s.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=i}},bs=class{constructor(e){this.id=e.id||In.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=Yt.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new ne("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(e){return ne.createStatic("State","fromStorageString"),new bs(JSON.parse(e))}static async clearStaleState(e,t){const n=ne.createStatic("State","clearStaleState"),r=Yt.getEpochTime()-t,i=await e.getAllKeys();n.debug("got keys",i);for(let s=0;s<i.length;s++){const o=i[s],a=await e.get(o);let l=!1;if(a)try{const u=bs.fromStorageString(a);n.debug("got item from key:",o,u.created),u.created<=r&&(l=!0)}catch(u){n.error("Error parsing state for key:",o,u),l=!0}else n.debug("no item in storage for key:",o),l=!0;l&&(n.debug("removed item for key:",o),e.remove(o))}}},bf=class extends bs{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=In.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=In.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new ne("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){ne.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new bf(t)}},JE=class{constructor({url:e,authority:t,client_id:n,redirect_uri:r,response_type:i,scope:s,state_data:o,response_mode:a,request_type:l,client_secret:u,nonce:d,url_state:c,resource:p,skipUserInfo:h,extraQueryParams:w,extraTokenParams:y,disablePKCE:v,...m}){if(this._logger=new ne("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!n)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!r)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!i)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!s)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new bf({data:o,request_type:l,url_state:c,code_verifier:!v,client_id:n,authority:t,redirect_uri:r,response_mode:a,client_secret:u,scope:s,extraTokenParams:y,skipUserInfo:h});const f=new URL(e);f.searchParams.append("client_id",n),f.searchParams.append("redirect_uri",r),f.searchParams.append("response_type",i),f.searchParams.append("scope",s),d&&f.searchParams.append("nonce",d);let g=this.state.id;c&&(g=`${g}${ld}${c}`),f.searchParams.append("state",g),this.state.code_challenge&&(f.searchParams.append("code_challenge",this.state.code_challenge),f.searchParams.append("code_challenge_method","S256")),p&&(Array.isArray(p)?p:[p]).forEach(C=>f.searchParams.append("resource",C));for(const[k,C]of Object.entries({response_mode:a,...m,...w}))C!=null&&f.searchParams.append(k,C.toString());this.url=f.href}},YE="openid",qu=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(ld);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(ld))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Yt.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+Yt.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(YE))||!!this.id_token}},XE=class{constructor({url:e,state_data:t,id_token_hint:n,post_logout_redirect_uri:r,extraQueryParams:i,request_type:s,client_id:o}){if(this._logger=new ne("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);n&&a.searchParams.append("id_token_hint",n),o&&a.searchParams.append("client_id",o),r&&(a.searchParams.append("post_logout_redirect_uri",r),t&&(this.state=new bs({data:t,request_type:s}),a.searchParams.append("state",this.state.id)));for(const[l,u]of Object.entries({...i}))u!=null&&a.searchParams.append(l,u.toString());this.url=a.href}},GE=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},ZE=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],e1=["sub","iss","aud","exp","iat"],t1=class{constructor(e){this._settings=e,this._logger=new ne("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let n;Array.isArray(this._settings.filterProtocolClaims)?n=this._settings.filterProtocolClaims:n=ZE;for(const r of n)e1.includes(r)||delete t[r]}return t}mergeClaims(e,t){const n={...e};for(const[r,i]of Object.entries(t))for(const s of Array.isArray(i)?i:[i]){const o=n[r];o===void 0?n[r]=s:Array.isArray(o)?o.includes(s)||o.push(s):n[r]!==s&&(typeof s=="object"&&this._settings.mergeClaims?n[r]=this.mergeClaims(o,s):n[r]=[o,s])}return n}},n1=class{constructor(e,t){this._logger=new ne("OidcClient"),this.settings=e instanceof ud?e:new ud(e),this.metadataService=t??new zE(this.settings),this._claimsService=new t1(this.settings),this._validator=new KE(this.settings,this.metadataService,this._claimsService),this._tokenClient=new Zy(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:n,request_type:r,id_token_hint:i,login_hint:s,skipUserInfo:o,nonce:a,url_state:l,response_type:u=this.settings.response_type,scope:d=this.settings.scope,redirect_uri:c=this.settings.redirect_uri,prompt:p=this.settings.prompt,display:h=this.settings.display,max_age:w=this.settings.max_age,ui_locales:y=this.settings.ui_locales,acr_values:v=this.settings.acr_values,resource:m=this.settings.resource,response_mode:f=this.settings.response_mode,extraQueryParams:g=this.settings.extraQueryParams,extraTokenParams:k=this.settings.extraTokenParams}){const C=this._logger.create("createSigninRequest");if(u!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const T=await this.metadataService.getAuthorizationEndpoint();C.debug("Received authorization endpoint",T);const _=new JE({url:T,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:c,response_type:u,scope:d,state_data:e,url_state:l,prompt:p,display:h,max_age:w,ui_locales:y,id_token_hint:i,login_hint:s,acr_values:v,resource:m,request:t,request_uri:n,extraQueryParams:g,extraTokenParams:k,request_type:r,response_mode:f,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const b=_.state;return await this.settings.stateStore.set(b.id,b.toStorageString()),_}async readSigninResponseState(e,t=!1){const n=this._logger.create("readSigninResponseState"),r=new qu(ad.readParams(e,this.settings.response_mode));if(!r.state)throw n.throw(new Error("No state in response")),null;const i=await this.settings.stateStore[t?"remove":"get"](r.state);if(!i)throw n.throw(new Error("No matching state found in storage")),null;return{state:bf.fromStorageString(i),response:r}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:n,response:r}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(r,n),r}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n=!1,extraTokenParams:r={}}){const i=await this._tokenClient.exchangeCredentials({username:e,password:t,...r}),s=new qu(new URLSearchParams);return Object.assign(s,i),await this._validator.validateCredentialsResponse(s,n),s}async useRefreshToken({state:e,timeoutInSeconds:t}){var n;const r=this._logger.create("useRefreshToken");let i;if(this.settings.refreshTokenAllowedScope===void 0)i=e.scope;else{const a=this.settings.refreshTokenAllowedScope.split(" ");i=(((n=e.scope)==null?void 0:n.split(" "))||[]).filter(u=>a.includes(u)).join(" ")}const s=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,resource:e.resource,scope:i,timeoutInSeconds:t}),o=new qu(new URLSearchParams);return Object.assign(o,s),r.debug("validating response",o),await this._validator.validateRefreshResponse(o,{...e,scope:i}),o}async createSignoutRequest({state:e,id_token_hint:t,client_id:n,request_type:r,post_logout_redirect_uri:i=this.settings.post_logout_redirect_uri,extraQueryParams:s=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a),!n&&i&&!t&&(n=this.settings.client_id);const l=new XE({url:a,id_token_hint:t,client_id:n,post_logout_redirect_uri:i,state_data:e,extraQueryParams:s,request_type:r});await this.clearStaleState();const u=l.state;return u&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(u.id,u.toStorageString())),l}async readSignoutResponseState(e,t=!1){const n=this._logger.create("readSignoutResponseState"),r=new GE(ad.readParams(e,this.settings.response_mode));if(!r.state){if(n.debug("No state in response"),r.error)throw n.warn("Response was error:",r.error),new Ri(r);return{state:void 0,response:r}}const i=await this.settings.stateStore[t?"remove":"get"](r.state);if(!i)throw n.throw(new Error("No matching state found in storage")),null;return{state:bs.fromStorageString(i),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:r}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,n)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),bs.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},r1=class{constructor(e){this._userManager=e,this._logger=new ne("SessionMonitor"),this._start=async t=>{const n=t.session_state;if(!n)return;const r=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,r.debug("session_state",n,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,r.debug("session_state",n,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(n);return}try{const i=await this._userManager.metadataService.getCheckSessionIframe();if(i){r.debug("initializing check session iframe");const s=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,l=new FE(this._callback,s,i,o,a);await l.load(),this._checkSessionIFrame=l,l.start(n)}else r.warn("no check session iframe found in the metadata")}catch(i){r.error("Error from getCheckSessionIframe:",i instanceof Error?i.message:i)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const n=setInterval(async()=>{clearInterval(n);try{const r=await this._userManager.querySessionStatus();if(r){const i={session_state:r.session_state,profile:r.sub&&r.sid?{sub:r.sub,sid:r.sid}:null};this._start(i)}}catch(r){t.error("error from querySessionStatus",r instanceof Error?r.message:r)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const n=await this._userManager.querySessionStatus();let r=!0;n&&this._checkSessionIFrame?n.sub===this._sub?(r=!1,this._checkSessionIFrame.start(n.session_state),n.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",n.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",n.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",n.sub):t.debug("subject no longer signed into OP"),r?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(n){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",n),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const n={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(n)}}}},Ja=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=(t=e.session_state)!=null?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Yt.getEpochTime()}set expires_in(e){e!==void 0&&(this.expires_at=Math.floor(e)+Yt.getEpochTime())}get expired(){const e=this.expires_in;if(e!==void 0)return e<=0}get scopes(){var e,t;return(t=(e=this.scope)==null?void 0:e.split(" "))!=null?t:[]}toStorageString(){return new ne("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return ne.createStatic("User","fromStorageString"),new Ja(JSON.parse(e))}},bp="oidc-client",ev=class{constructor(){this._abort=new lr("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:r}=await new Promise((i,s)=>{const o=a=>{var l;const u=a.data,d=(l=e.scriptOrigin)!=null?l:window.location.origin;if(!(a.origin!==d||(u==null?void 0:u.source)!==bp)){try{const c=ad.readParams(u.url,e.response_mode).get("state");if(c||t.warn("no state found in response url"),a.source!==this._window&&c!==e.state)return}catch{this._dispose(),s(new Error("Invalid response from window"))}i(u)}};window.addEventListener("message",o,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",o,!1)),this._disposeHandlers.add(this._abort.addHandler(a=>{this._dispose(),s(a)}))});return t.debug("got response from window"),this._dispose(),r||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,n=!1,r=window.location.origin){e.postMessage({source:bp,url:t,keepOpen:n},r)}},tv={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},nv="_blank",i1=60,s1=2,rv=10,o1=class extends ud{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:r=tv,popupWindowTarget:i=nv,redirectMethod:s="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,silent_redirect_uri:u=e.redirect_uri,silentRequestTimeoutInSeconds:d=rv,automaticSilentRenew:c=!0,validateSubOnSilentRenew:p=!0,includeIdTokenInSilentRenew:h=!1,monitorSession:w=!1,monitorAnonymousSession:y=!1,checkSessionIntervalInSeconds:v=s1,query_status_response_type:m="code",stopCheckSessionOnError:f=!0,revokeTokenTypes:g=["access_token","refresh_token"],revokeTokensOnSignout:k=!1,includeIdTokenInSilentSignout:C=!1,accessTokenExpiringNotificationTimeInSeconds:T=i1,userStore:_}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=r,this.popupWindowTarget=i,this.redirectMethod=s,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=l,this.silent_redirect_uri=u,this.silentRequestTimeoutInSeconds=d,this.automaticSilentRenew=c,this.validateSubOnSilentRenew=p,this.includeIdTokenInSilentRenew=h,this.monitorSession=w,this.monitorAnonymousSession=y,this.checkSessionIntervalInSeconds=v,this.stopCheckSessionOnError=f,this.query_status_response_type=m,this.revokeTokenTypes=g,this.revokeTokensOnSignout=k,this.includeIdTokenInSilentSignout=C,this.accessTokenExpiringNotificationTimeInSeconds=T,_)this.userStore=_;else{const b=typeof window<"u"?window.sessionStorage:new Gy;this.userStore=new Cf({store:b})}}},cd=class extends ev{constructor({silentRequestTimeoutInSeconds:e=rv}){super(),this._logger=new ne("IFrameWindow"),this._timeoutInSeconds=e,this._frame=cd.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new kf("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var n;const r=t.target;(n=r.parentNode)==null||n.removeChild(r),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},a1=class{constructor(e){this._settings=e,this._logger=new ne("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new cd({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),cd.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},l1=500,u1=1e3,Rp=class extends ev{constructor({popupWindowTarget:e=nv,popupWindowFeatures:t={}}){super(),this._logger=new ne("PopupWindow");const n=Cp.center({...tv,...t});this._window=window.open(void 0,e,Cp.serialize(n)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*u1)}async navigate(e){var t;(t=this._window)==null||t.focus();const n=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},l1);return this._disposeHandlers.add(()=>clearInterval(n)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},c1=class{constructor(e){this._settings=e,this._logger=new ne("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new Rp({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),Rp.notifyOpener(e,t)}},d1=class{constructor(e){this._settings=e,this._logger=new ne("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var n;this._logger.create("prepare");let r=window.self;t==="top"&&(r=(n=window.top)!=null?n:window.self);const i=r.location[e].bind(r.location);let s;return{navigate:async o=>{this._logger.create("navigate");const a=new Promise((l,u)=>{s=u});return i(o.url),await a},close:()=>{this._logger.create("close"),s==null||s(new Error("Redirect aborted")),r.stop()}}}async callback(){}},f1=class extends jE{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new ne("UserManagerEvents"),this._userLoaded=new lr("User loaded"),this._userUnloaded=new lr("User unloaded"),this._silentRenewError=new lr("Silent renew error"),this._userSignedIn=new lr("User signed in"),this._userSignedOut=new lr("User signed out"),this._userSessionChanged=new lr("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},h1=class{constructor(e){this._userManager=e,this._logger=new ne("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Yt("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(n){if(n instanceof kf){t.warn("ErrorTimeout from signinSilent:",n,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",n),this._userManager.events._raiseSilentRenewError(n)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},p1=class{constructor(e,t){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.resource=t,this.data=e.state}},g1=class{constructor(e,t,n,r){this._logger=new ne("UserManager"),this.settings=new o1(e),this._client=new n1(e),this._redirectNavigator=t??new d1(this.settings),this._popupNavigator=n??new c1(this.settings),this._iframeNavigator=r??new a1(this.settings),this._events=new f1(this.settings),this._silentRenewService=new h1(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new r1(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...n}=e,r=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...n},r)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:n=!1}){const r=this._logger.create("signinResourceOwnerCredential"),i=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});r.debug("got signin response");const s=await this._buildUser(i);return s.profile&&s.profile.sub?r.info("success, signed in subject",s.profile.sub):r.info("no subject"),s}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:n,popupWindowTarget:r,...i}=e,s=this.settings.popup_redirect_uri;s||t.throw(new Error("No popup_redirect_uri configured"));const o=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r}),a=await this._signin({request_type:"si:p",redirect_uri:s,display:"popup",...i},o);return a&&(a.profile&&a.profile.sub?t.info("success, signed in subject",a.profile.sub):t.info("no subject")),a}async signinPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(e={}){var t;const n=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:r,resource:i,...s}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){n.debug("using refresh token");const d=new p1(o,i);return await this._useRefreshToken(d)}const a=this.settings.silent_redirect_uri;a||n.throw(new Error("No silent_redirect_uri configured"));let l;o&&this.settings.validateSubOnSilentRenew&&(n.debug("subject prior to silent renew:",o.profile.sub),l=o.profile.sub);const u=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});return o=await this._signin({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,...s},u,l),o&&((t=o.profile)!=null&&t.sub?n.info("success, signed in subject",o.profile.sub):n.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),n=new Ja({...e,...t});return await this.storeUser(n),this._events.load(n),n}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":return await this.signoutRedirectCallback(e);case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...r}=e,i=this.settings.silent_redirect_uri;i||t.throw(new Error("No silent_redirect_uri configured"));const s=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),a=await this._signinStart({request_type:"si:s",redirect_uri:i,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?s==null?void 0:s.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},o);try{const l=await this._client.processSigninResponse(a.url);return t.debug("got signin response"),l.session_state&&l.profile.sub?(t.info("success for subject",l.profile.sub),{session_state:l.session_state,sub:l.profile.sub,sid:l.profile.sid}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof Ri)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,n){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e);return n.debug("got signin response"),await this._buildUser(r,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),r=new Ja(e);if(t){if(t!==r.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new Ri({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(r),n.debug("user stored"),this._events.load(r),r}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...r}=e,i=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},i),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:r,...i}=e,s=this.settings.popup_post_logout_redirect_uri,o=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r});await this._signout({request_type:"so:p",post_logout_redirect_uri:s,state:s==null?void 0:{},...i},o),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(e={},t){var n;const r=this._logger.create("_signoutStart");try{const i=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(i);const s=e.id_token_hint||i&&i.id_token;s&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=s),await this.removeUser(),r.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:o.url,state:(n=o.state)==null?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(i){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),i}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(e={}){var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:r,...i}=e,s=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:s,...i},a),n.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const n=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter(i=>typeof e[i]=="string");if(!r.length){n.debug("no need to revoke due to no token(s)");return}for(const i of r)await this._client.revokeToken(e[i],i),n.info(`${i} revoked successfully`),i!=="access_token"&&(e[i]=null);await this.storeUser(e),n.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),Ja.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}};const Gr=new g1({authority:void 0,client_id:"cosmic-web",redirect_uri:`${window.location.origin}/callback`,post_logout_redirect_uri:window.location.origin,scope:"openid profile player-api tournament-api battle-api notification-api",response_type:"code",userStore:new Cf({store:window.localStorage}),automaticSilentRenew:!1,monitorSession:!1}),iv=I.createContext(null),m1=({children:e})=>{const[t,n]=I.useState(null);return I.useEffect(()=>{Gr.events.addUserLoaded(n),Gr.events.addUserUnloaded(()=>n(null)),Gr.getUser().then(r=>n(r))},[]),A.jsx(iv.Provider,{value:{user:t,login:()=>Gr.signinRedirect(),logout:()=>Gr.signoutRedirect()},children:e})},Oi=()=>I.useContext(iv);function y1(){var n;const{user:e,logout:t}=Oi();return A.jsxs("nav",{className:"w-full bg-gray-800 text-white p-2 flex justify-between",children:[A.jsxs("div",{children:[A.jsx(Bu,{to:"/",className:"mr-4",children:"🏠 Dashboard"}),A.jsx(Bu,{to:"/game",className:"ml-4",children:"Игра"}),A.jsx(Bu,{to:"/tournaments",children:"Турниры"})]}),e&&A.jsxs("div",{children:[A.jsx("span",{className:"mr-4",children:(n=e.profile)==null?void 0:n.preferred_username}),A.jsx("button",{onClick:t,children:"Выйти"})]})]})}function v1(){const{login:e}=Oi();return A.jsx("div",{className:"h-screen flex items-center justify-center",children:A.jsx("button",{className:"btn",onClick:e,children:"Войти через IdentityServer"})})}function w1(){const e=Gl();return I.useEffect(()=>{Gr.signinRedirectCallback().then(()=>e("/"))},[e]),A.jsx("p",{children:"Completing sign‑in…"})}function sv(e,t){return function(){return e.apply(t,arguments)}}const{toString:_1}=Object.prototype,{getPrototypeOf:Rf}=Object,{iterator:tu,toStringTag:ov}=Symbol,nu=(e=>t=>{const n=_1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hn=e=>(e=e.toLowerCase(),t=>nu(t)===e),ru=e=>t=>typeof t===e,{isArray:As}=Array,Fo=ru("undefined");function Go(e){return e!==null&&!Fo(e)&&e.constructor!==null&&!Fo(e.constructor)&&Ot(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const av=hn("ArrayBuffer");function S1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&av(e.buffer),t}const E1=ru("string"),Ot=ru("function"),lv=ru("number"),Zo=e=>e!==null&&typeof e=="object",k1=e=>e===!0||e===!1,Ya=e=>{if(nu(e)!=="object")return!1;const t=Rf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ov in e)&&!(tu in e)},x1=e=>{if(!Zo(e)||Go(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},C1=hn("Date"),b1=hn("File"),R1=hn("Blob"),T1=hn("FileList"),P1=e=>Zo(e)&&Ot(e.pipe),I1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ot(e.append)&&((t=nu(e))==="formdata"||t==="object"&&Ot(e.toString)&&e.toString()==="[object FormData]"))},N1=hn("URLSearchParams"),[O1,D1,M1,A1]=["ReadableStream","Request","Response","Headers"].map(hn),L1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ea(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),As(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Go(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function uv(e,t){if(Go(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cv=e=>!Fo(e)&&e!==ii;function dd(){const{caseless:e}=cv(this)&&this||{},t={},n=(r,i)=>{const s=e&&uv(t,i)||i;Ya(t[s])&&Ya(r)?t[s]=dd(t[s],r):Ya(r)?t[s]=dd({},r):As(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ea(arguments[r],n);return t}const U1=(e,t,n,{allOwnKeys:r}={})=>(ea(t,(i,s)=>{n&&Ot(i)?e[s]=sv(i,n):e[s]=i},{allOwnKeys:r}),e),j1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),F1=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},z1=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Rf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},$1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},B1=e=>{if(!e)return null;if(As(e))return e;let t=e.length;if(!lv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},H1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Rf(Uint8Array)),W1=(e,t)=>{const r=(e&&e[tu]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},q1=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},V1=hn("HTMLFormElement"),Q1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Tp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),K1=hn("RegExp"),dv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ea(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},J1=e=>{dv(e,(t,n)=>{if(Ot(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ot(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Y1=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return As(e)?r(e):r(String(e).split(t)),n},X1=()=>{},G1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Z1(e){return!!(e&&Ot(e.append)&&e[ov]==="FormData"&&e[tu])}const ek=e=>{const t=new Array(10),n=(r,i)=>{if(Zo(r)){if(t.indexOf(r)>=0)return;if(Go(r))return r;if(!("toJSON"in r)){t[i]=r;const s=As(r)?[]:{};return ea(r,(o,a)=>{const l=n(o,i+1);!Fo(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},tk=hn("AsyncFunction"),nk=e=>e&&(Zo(e)||Ot(e))&&Ot(e.then)&&Ot(e.catch),fv=((e,t)=>e?setImmediate:t?((n,r)=>(ii.addEventListener("message",({source:i,data:s})=>{i===ii&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ii.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ot(ii.postMessage)),rk=typeof queueMicrotask<"u"?queueMicrotask.bind(ii):typeof process<"u"&&process.nextTick||fv,ik=e=>e!=null&&Ot(e[tu]),P={isArray:As,isArrayBuffer:av,isBuffer:Go,isFormData:I1,isArrayBufferView:S1,isString:E1,isNumber:lv,isBoolean:k1,isObject:Zo,isPlainObject:Ya,isEmptyObject:x1,isReadableStream:O1,isRequest:D1,isResponse:M1,isHeaders:A1,isUndefined:Fo,isDate:C1,isFile:b1,isBlob:R1,isRegExp:K1,isFunction:Ot,isStream:P1,isURLSearchParams:N1,isTypedArray:H1,isFileList:T1,forEach:ea,merge:dd,extend:U1,trim:L1,stripBOM:j1,inherits:F1,toFlatObject:z1,kindOf:nu,kindOfTest:hn,endsWith:$1,toArray:B1,forEachEntry:W1,matchAll:q1,isHTMLForm:V1,hasOwnProperty:Tp,hasOwnProp:Tp,reduceDescriptors:dv,freezeMethods:J1,toObjectSet:Y1,toCamelCase:Q1,noop:X1,toFiniteNumber:G1,findKey:uv,global:ii,isContextDefined:cv,isSpecCompliantForm:Z1,toJSONObject:ek,isAsyncFn:tk,isThenable:nk,setImmediate:fv,asap:rk,isIterable:ik};function re(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const hv=re.prototype,pv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pv[e]={value:e}});Object.defineProperties(re,pv);Object.defineProperty(hv,"isAxiosError",{value:!0});re.from=(e,t,n,r,i,s)=>{const o=Object.create(hv);return P.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),re.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const sk=null;function fd(e){return P.isPlainObject(e)||P.isArray(e)}function gv(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Pp(e,t,n){return e?e.concat(t).map(function(i,s){return i=gv(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function ok(e){return P.isArray(e)&&!e.some(fd)}const ak=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function iu(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!P.isUndefined(v[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(P.isDate(w))return w.toISOString();if(P.isBoolean(w))return w.toString();if(!l&&P.isBlob(w))throw new re("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(w)||P.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,y,v){let m=w;if(w&&!v&&typeof w=="object"){if(P.endsWith(y,"{}"))y=r?y:y.slice(0,-2),w=JSON.stringify(w);else if(P.isArray(w)&&ok(w)||(P.isFileList(w)||P.endsWith(y,"[]"))&&(m=P.toArray(w)))return y=gv(y),m.forEach(function(g,k){!(P.isUndefined(g)||g===null)&&t.append(o===!0?Pp([y],k,s):o===null?y:y+"[]",u(g))}),!1}return fd(w)?!0:(t.append(Pp(v,y,s),u(w)),!1)}const c=[],p=Object.assign(ak,{defaultVisitor:d,convertValue:u,isVisitable:fd});function h(w,y){if(!P.isUndefined(w)){if(c.indexOf(w)!==-1)throw Error("Circular reference detected in "+y.join("."));c.push(w),P.forEach(w,function(m,f){(!(P.isUndefined(m)||m===null)&&i.call(t,m,P.isString(f)?f.trim():f,y,p))===!0&&h(m,y?y.concat(f):[f])}),c.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Ip(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Tf(e,t){this._pairs=[],e&&iu(e,this,t)}const mv=Tf.prototype;mv.append=function(t,n){this._pairs.push([t,n])};mv.toString=function(t){const n=t?function(r){return t.call(this,r,Ip)}:Ip;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function lk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yv(e,t,n){if(!t)return e;const r=n&&n.encode||lk;P.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=P.isURLSearchParams(t)?t.toString():new Tf(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Np{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const vv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uk=typeof URLSearchParams<"u"?URLSearchParams:Tf,ck=typeof FormData<"u"?FormData:null,dk=typeof Blob<"u"?Blob:null,fk={isBrowser:!0,classes:{URLSearchParams:uk,FormData:ck,Blob:dk},protocols:["http","https","file","blob","url","data"]},Pf=typeof window<"u"&&typeof document<"u",hd=typeof navigator=="object"&&navigator||void 0,hk=Pf&&(!hd||["ReactNative","NativeScript","NS"].indexOf(hd.product)<0),pk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gk=Pf&&window.location.href||"http://localhost",mk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pf,hasStandardBrowserEnv:hk,hasStandardBrowserWebWorkerEnv:pk,navigator:hd,origin:gk},Symbol.toStringTag,{value:"Module"})),ht={...mk,...fk};function yk(e,t){return iu(e,new ht.classes.URLSearchParams,{visitor:function(n,r,i,s){return ht.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function vk(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wk(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function wv(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&P.isArray(i)?i.length:o,l?(P.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!P.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&P.isArray(i[o])&&(i[o]=wk(i[o])),!a)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,i)=>{t(vk(r),i,n,0)}),n}return null}function _k(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ta={transitional:vv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=P.isObject(t);if(s&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(wv(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yk(t,this.formSerializer).toString();if((a=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return iu(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),_k(t)):t}],transformResponse:[function(t){const n=this.transitional||ta.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?re.from(a,re.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{ta.headers[e]={}});const Sk=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ek=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Sk[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Op=Symbol("internals");function to(e){return e&&String(e).trim().toLowerCase()}function Xa(e){return e===!1||e==null?e:P.isArray(e)?e.map(Xa):String(e)}function kk(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const xk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vu(e,t,n,r,i){if(P.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function Ck(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function bk(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let Dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const d=to(l);if(!d)throw new Error("header name must be a non-empty string");const c=P.findKey(i,d);(!c||i[c]===void 0||u===!0||u===void 0&&i[c]!==!1)&&(i[c||l]=Xa(a))}const o=(a,l)=>P.forEach(a,(u,d)=>s(u,d,l));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(P.isString(t)&&(t=t.trim())&&!xk(t))o(Ek(t),n);else if(P.isObject(t)&&P.isIterable(t)){let a={},l,u;for(const d of t){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?P.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=to(t),t){const r=P.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return kk(i);if(P.isFunction(n))return n.call(this,i,r);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=to(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Vu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=to(o),o){const a=P.findKey(r,o);a&&(!n||Vu(r,r[a],a,n))&&(delete r[a],i=!0)}}return P.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Vu(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return P.forEach(this,(i,s)=>{const o=P.findKey(r,s);if(o){n[o]=Xa(i),delete n[s];return}const a=t?Ck(s):String(s).trim();a!==s&&delete n[s],n[a]=Xa(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Op]=this[Op]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=to(o);r[a]||(bk(i,o),r[a]=!0)}return P.isArray(t)?t.forEach(s):s(t),this}};Dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(Dt);function Qu(e,t){const n=this||ta,r=t||n,i=Dt.from(r.headers);let s=r.data;return P.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function _v(e){return!!(e&&e.__CANCEL__)}function Ls(e,t,n){re.call(this,e??"canceled",re.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(Ls,re,{__CANCEL__:!0});function Sv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Rk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Tk(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let c=s,p=0;for(;c!==i;)p+=n[c++],c=c%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(p*1e3/h):void 0}}function Pk(e,t){let n=0,r=1e3/t,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),c=d-n;c>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-c)))},()=>i&&o(i)]}const Il=(e,t,n=3)=>{let r=0;const i=Tk(50,250);return Pk(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(c)},n)},Dp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Mp=e=>(...t)=>P.asap(()=>e(...t)),Ik=ht.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ht.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,Nk=ht.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),P.isString(r)&&o.push("path="+r),P.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ok(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Dk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ev(e,t,n){let r=!Ok(t);return e&&(r||n==!1)?Dk(e,t):t}const Ap=e=>e instanceof Dt?{...e}:e;function Ti(e,t){t=t||{};const n={};function r(u,d,c,p){return P.isPlainObject(u)&&P.isPlainObject(d)?P.merge.call({caseless:p},u,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function i(u,d,c,p){if(P.isUndefined(d)){if(!P.isUndefined(u))return r(void 0,u,c,p)}else return r(u,d,c,p)}function s(u,d){if(!P.isUndefined(d))return r(void 0,d)}function o(u,d){if(P.isUndefined(d)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,c){if(c in t)return r(u,d);if(c in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,c)=>i(Ap(u),Ap(d),c,!0)};return P.forEach(Object.keys({...e,...t}),function(d){const c=l[d]||i,p=c(e[d],t[d],d);P.isUndefined(p)&&c!==a||(n[d]=p)}),n}const kv=e=>{const t=Ti({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Dt.from(o),t.url=yv(Ev(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(n)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ht.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&Ik(t.url))){const u=i&&s&&Nk.read(s);u&&o.set(i,u)}return t},Mk=typeof XMLHttpRequest<"u",Ak=Mk&&function(e){return new Promise(function(n,r){const i=kv(e);let s=i.data;const o=Dt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,c,p,h,w;function y(){h&&h(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function m(){if(!v)return;const g=Dt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:g,config:e,request:v};Sv(function(_){n(_),y()},function(_){r(_),y()},C),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(r(new re("Request aborted",re.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new re("Network Error",re.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||vv;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new re(k,C.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&P.forEach(o.toJSON(),function(k,C){v.setRequestHeader(C,k)}),P.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),u&&([p,w]=Il(u,!0),v.addEventListener("progress",p)),l&&v.upload&&([c,h]=Il(l),v.upload.addEventListener("progress",c),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(d=g=>{v&&(r(!g||g.type?new Ls(null,e,v):g),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const f=Rk(i.url);if(f&&ht.protocols.indexOf(f)===-1){r(new re("Unsupported protocol "+f+":",re.ERR_BAD_REQUEST,e));return}v.send(s||null)})},Lk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof re?d:new Ls(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>P.asap(a),l}},Uk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},jk=async function*(e,t){for await(const n of Fk(e))yield*Uk(n,t)},Fk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Lp=(e,t,n,r)=>{const i=jk(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let c=d.byteLength;if(n){let p=s+=c;n(p)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},su=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xv=su&&typeof ReadableStream=="function",zk=su&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Cv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$k=xv&&Cv(()=>{let e=!1;const t=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Up=64*1024,pd=xv&&Cv(()=>P.isReadableStream(new Response("").body)),Nl={stream:pd&&(e=>e.body)};su&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Nl[t]&&(Nl[t]=P.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new re(`Response type '${t}' is not supported`,re.ERR_NOT_SUPPORT,r)})})})(new Response);const Bk=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(ht.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await zk(e)).byteLength},Hk=async(e,t)=>{const n=P.toFiniteNumber(e.getContentLength());return n??Bk(t)},Wk=su&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:c="same-origin",fetchOptions:p}=kv(e);u=u?(u+"").toLowerCase():"text";let h=Lk([i,s&&s.toAbortSignal()],o),w;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&$k&&n!=="get"&&n!=="head"&&(v=await Hk(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(P.isFormData(r)&&(T=C.headers.get("content-type"))&&d.setContentType(T),C.body){const[_,b]=Dp(v,Il(Mp(l)));r=Lp(C.body,Up,_,b)}}P.isString(c)||(c=c?"include":"omit");const m="credentials"in Request.prototype;w=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:m?c:void 0});let f=await fetch(w,p);const g=pd&&(u==="stream"||u==="response");if(pd&&(a||g&&y)){const C={};["status","statusText","headers"].forEach(D=>{C[D]=f[D]});const T=P.toFiniteNumber(f.headers.get("content-length")),[_,b]=a&&Dp(T,Il(Mp(a),!0))||[];f=new Response(Lp(f.body,Up,_,()=>{b&&b(),y&&y()}),C)}u=u||"text";let k=await Nl[P.findKey(Nl,u)||"text"](f,e);return!g&&y&&y(),await new Promise((C,T)=>{Sv(C,T,{data:k,headers:Dt.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:w})})}catch(m){throw y&&y(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,e,w),{cause:m.cause||m}):re.from(m,m&&m.code,e,w)}}),gd={http:sk,xhr:Ak,fetch:Wk};P.forEach(gd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jp=e=>`- ${e}`,qk=e=>P.isFunction(e)||e===null||e===!1,bv={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!qk(n)&&(r=gd[(o=String(n)).toLowerCase()],r===void 0))throw new re(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(jp).join(`
`):" "+jp(s[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:gd};function Ku(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ls(null,e)}function Fp(e){return Ku(e),e.headers=Dt.from(e.headers),e.data=Qu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bv.getAdapter(e.adapter||ta.adapter)(e).then(function(r){return Ku(e),r.data=Qu.call(e,e.transformResponse,r),r.headers=Dt.from(r.headers),r},function(r){return _v(r)||(Ku(e),r&&r.response&&(r.response.data=Qu.call(e,e.transformResponse,r.response),r.response.headers=Dt.from(r.response.headers))),Promise.reject(r)})}const Rv="1.11.0",ou={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ou[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const zp={};ou.transitional=function(t,n,r){function i(s,o){return"[Axios v"+Rv+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new re(i(o," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!zp[o]&&(zp[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};ou.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Vk(e,t,n){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new re("option "+s+" must be "+l,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+s,re.ERR_BAD_OPTION)}}const Ga={assertOptions:Vk,validators:ou},Sn=Ga.validators;let mi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Np,response:new Np}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ti(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ga.assertOptions(r,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),i!=null&&(P.isFunction(i)?n.paramsSerializer={serialize:i}:Ga.assertOptions(i,{encode:Sn.function,serialize:Sn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ga.assertOptions(n,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&P.merge(s.common,s[n.method]);s&&P.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=Dt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,c=0,p;if(!l){const w=[Fp.bind(this),void 0];for(w.unshift(...a),w.push(...u),p=w.length,d=Promise.resolve(n);c<p;)d=d.then(w[c++],w[c++]);return d}p=a.length;let h=n;for(c=0;c<p;){const w=a[c++],y=a[c++];try{h=w(h)}catch(v){y.call(this,v);break}}try{d=Fp.call(this,h)}catch(w){return Promise.reject(w)}for(c=0,p=u.length;c<p;)d=d.then(u[c++],u[c++]);return d}getUri(t){t=Ti(this.defaults,t);const n=Ev(t.baseURL,t.url,t.allowAbsoluteUrls);return yv(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){mi.prototype[t]=function(n,r){return this.request(Ti(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Ti(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}mi.prototype[t]=n(),mi.prototype[t+"Form"]=n(!0)});let Qk=class Tv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Ls(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Tv(function(i){t=i}),cancel:t}}};function Kk(e){return function(n){return e.apply(null,n)}}function Jk(e){return P.isObject(e)&&e.isAxiosError===!0}const md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(md).forEach(([e,t])=>{md[t]=e});function Pv(e){const t=new mi(e),n=sv(mi.prototype.request,t);return P.extend(n,mi.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Pv(Ti(e,i))},n}const He=Pv(ta);He.Axios=mi;He.CanceledError=Ls;He.CancelToken=Qk;He.isCancel=_v;He.VERSION=Rv;He.toFormData=iu;He.AxiosError=re;He.Cancel=He.CanceledError;He.all=function(t){return Promise.all(t)};He.spread=Kk;He.isAxiosError=Jk;He.mergeConfig=Ti;He.AxiosHeaders=Dt;He.formToJSON=e=>wv(P.isHTMLForm(e)?new FormData(e):e);He.getAdapter=bv.getAdapter;He.HttpStatusCode=md;He.default=He;const{Axios:DC,AxiosError:MC,CanceledError:AC,isCancel:LC,CancelToken:UC,VERSION:jC,all:FC,Cancel:zC,isAxiosError:$C,spread:BC,toFormData:HC,AxiosHeaders:WC,HttpStatusCode:qC,formToJSON:VC,getAdapter:QC,mergeConfig:KC}=He,na=He.create();na.interceptors.request.use(async e=>{const t=await Gr.getUser();return t!=null&&t.access_token&&(e.headers.Authorization=`Bearer ${t.access_token}`),e});const Yk=void 0,Xk=()=>na.get(`${Yk}/players/me`).then(e=>e.data);function Gk(){var i,s,o;const{user:e}=Oi(),t=(i=e==null?void 0:e.profile)==null?void 0:i.sub,n=((s=e==null?void 0:e.profile)==null?void 0:s.preferred_username)||((o=e==null?void 0:e.profile)==null?void 0:o.name)||"—",{data:r}=Ky({queryKey:["me"],queryFn:Xk,enabled:!!e});return A.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-4",children:[A.jsxs("h1",{className:"text-2xl font-semibold",children:["Добро пожаловать, ",n]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[A.jsxs("div",{className:"border p-3 rounded",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"ID"}),A.jsx("div",{className:"font-mono text-sm break-all",children:t})]}),A.jsxs("div",{className:"border p-3 rounded",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"Рейтинг"}),A.jsx("div",{className:"text-xl",children:(r==null?void 0:r.rating)??"—"})]}),A.jsxs("div",{className:"border p-3 rounded",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"Уведомления"}),A.jsx("div",{className:"text-xl",children:"в разработке"})]})]})]})}const If=void 0,Zk=()=>na.get(`${If}/tournaments/upcoming`).then(e=>e.data),ex=e=>na.post(`${If}/tournaments`,e),tx=(e,t)=>na.post(`${If}/tournaments/${e}/register`,{playerId:t});function nx(){var s;const e=Zl(),{user:t}=Oi(),n=(s=t==null?void 0:t.profile)==null?void 0:s.sub,{data:r,isLoading:i}=Ky({queryKey:["upcoming"],queryFn:Zk});return i?A.jsx("div",{className:"p-6",children:"Загрузка…"}):A.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-3",children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ближайшие турниры"}),r==null?void 0:r.map(o=>A.jsxs("div",{className:"border rounded p-3 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-medium",children:o.name}),A.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(o.startsAt).toLocaleString()," • Мест: ",o.maxPlayers]})]}),A.jsx("button",{className:"px-3 py-1 border rounded",onClick:async()=>{await tx(o.id,n),e.invalidateQueries({queryKey:["upcoming"]})},children:"Записаться"})]},o.id))]})}function rx(){const[e,t]=I.useState(""),[n,r]=I.useState(8),[i,s]=I.useState(""),o=Zl(),a=Gl(),l=EE({mutationFn:ex,onSuccess:()=>{o.invalidateQueries({queryKey:["upcoming"]}),a("/tournaments")}}),u=d=>{d.preventDefault(),l.mutate({name:e,maxPlayers:n,startsAt:new Date(i).toISOString()})};return A.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Создать турнир"}),A.jsxs("form",{onSubmit:u,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Название"}),A.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Макс. игроков"}),A.jsx("input",{type:"number",value:n,onChange:d=>r(Number(d.target.value)),className:"w-full border rounded px-3 py-2",min:"2",max:"32"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Начало"}),A.jsx("input",{type:"datetime-local",value:i,onChange:d=>s(d.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),A.jsx("button",{type:"submit",disabled:l.isPending,className:"w-full bg-blue-500 text-white py-2 rounded disabled:opacity-50",children:l.isPending?"Создание...":"Создать"})]})]})}function ix(){return A.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Детали турнира"}),A.jsx("p",{children:"Здесь будет информация о конкретном турнире."})]})}function sx(){return A.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Наблюдение за битвой"}),A.jsx("p",{children:"Здесь будет интерфейс для просмотра боев в реальном времени."})]})}const Cn={w:1200,h:800},ox=()=>typeof window<"u"&&window.devicePixelRatio||1,zi=18;function ax(e,t){e.save(),e.fillStyle="#0b1020",e.fillRect(0,0,Cn.w,Cn.h),e.fillStyle="rgba(255,255,255,0.85)";for(const n of t)e.fillRect(n.x,n.y,1,1);e.restore()}function lx(e,t){e.save(),e.translate(t.x,t.y),e.rotate(t.a),e.beginPath(),e.moveTo(zi+6,0),e.lineTo(-zi,-zi*.75),e.lineTo(-zi*.6,0),e.lineTo(-zi,zi*.75),e.closePath(),e.lineWidth=2,e.strokeStyle=t.me?"#34d399":"#e5e7eb",e.stroke(),e.restore()}function ux(e,t){e.beginPath(),e.arc(t.x,t.y,3,0,Math.PI*2),e.fillStyle="#93c5fd",e.fill()}const yd=new Set,Fn=e=>yd.has(e),Oa=e=>Array.isArray(e)?e:e&&typeof e=="object"?Object.values(e):[],$p=e=>Number(e)*Math.PI/180;function cx(e,t){const n=((e==null?void 0:e.kind)??(e==null?void 0:e.Kind)??"").toString().toLowerCase();if(n==="snapshot"){const i=e.you??e.You??t??"",s=Oa(e.ships??e.Ships??[]),o=Oa(e.bullets??e.Bullets??[]),a=s.map(u=>{const d=u.position??u.Position??{},c=u.velocity??u.Velocity??{},p=u.id??u.Id??u.playerId??u.PlayerId??u.ownerId??u.OwnerId??"",h=Number(u.x??u.X??d.x??d.X??0),w=Number(u.y??u.Y??d.y??d.Y??0),y=u.a??u.A??u.angle??u.Angle??u.angleRad??u.AngleRad??$p(u.rotationDeg??u.RotationDeg??u.headingDeg??u.HeadingDeg??0),v=Number(u.vx??u.Vx??c.x??c.X??0),m=Number(u.vy??u.Vy??c.y??c.Y??0),f=u.hp??u.Hp;return{id:p,x:h,y:w,a:Number(y),vx:v,vy:m,hp:f,me:p&&i?p===i:!1}}),l=o.map(u=>{const d=u.position??u.Position??{},c=Number(u.x??u.X??d.x??d.X??0),p=Number(u.y??u.Y??d.y??d.Y??0);return{x:c,y:p}});return{kind:"snapshot",tick:Number(e.tick??e.Tick??Date.now()),you:i,ships:a,bullets:l}}const r=(e==null?void 0:e.state)??e;if(r&&typeof r=="object"){const i=r.you??r.You??t??"",s=r.ships??r.Ships??r.players??r.Players??r.entities??r.Entities??[],o=r.bullets??r.Bullets??r.projectiles??r.Projectiles??[],a=Oa(s),l=Oa(o),u=a.map(c=>{const p=c.position??c.Position??{},h=c.velocity??c.Velocity??{},w=c.id??c.Id??c.playerId??c.PlayerId??c.ownerId??c.OwnerId??"",y=Number(c.x??c.X??p.x??p.X??0),v=Number(c.y??c.Y??p.y??p.Y??0),m=c.a??c.A??c.angle??c.Angle??c.angleRad??c.AngleRad??$p(c.rotationDeg??c.RotationDeg??c.headingDeg??c.HeadingDeg??0),f=Number(c.vx??c.Vx??h.x??h.X??0),g=Number(c.vy??c.Vy??h.y??h.Y??0),k=c.hp??c.Hp;return{id:w,x:y,y:v,a:Number(m),vx:f,vy:g,hp:k,me:w&&i?w===i:!1}}),d=l.map(c=>{const p=c.position??c.Position??{},h=Number(c.x??c.X??p.x??p.X??0),w=Number(c.y??c.Y??p.y??p.Y??0);return{x:h,y:w}});return{kind:"snapshot",tick:Number(e.tick??r.tick??Date.now()),you:i,ships:u,bullets:d}}return n==="ack"?{kind:"ack",tick:Number(e.tick??e.Tick??0)}:null}function dx(){const{user:e}=Oi(),t=I.useRef(null),[n,r]=I.useState(!1),[i,s]=I.useState(!0),[o,a]=I.useState(null),l=I.useRef(null),u=I.useRef(null),[d,c]=I.useState(0),p=I.useRef(!1),h=I.useMemo(()=>Array.from({length:180},()=>({x:Math.random()*Cn.w,y:Math.random()*Cn.h})),[]);I.useEffect(()=>{const v=t.current,m=ox();v.width=Math.floor(Cn.w*m),v.height=Math.floor(Cn.h*m),v.style.width=Cn.w+"px",v.style.height=Cn.h+"px",v.getContext("2d").setTransform(m,0,0,m,0,0)},[]),I.useEffect(()=>{const v=f=>yd.add(f.code),m=f=>yd.delete(f.code);return window.addEventListener("keydown",v),window.addEventListener("keyup",m),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keyup",m)}},[]),I.useEffect(()=>{if(!i)return;let v=0;const m=()=>{var g;const f=(g=t.current)==null?void 0:g.getContext("2d");if(f){ax(f,h);const k=u.current;if(k&&k.kind==="snapshot"){for(const T of k.bullets)ux(f,T);for(const T of k.ships)lx(f,T);const C=k.ships.find(T=>T.id===k.you);if(f.fillStyle="#e5e7eb",f.font="12px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace",f.fillText(`Packets: ${d}`,12,18),C){const T=Math.hypot(C.vx,C.vy)|0;f.fillText(`Speed: ${T}`,12,34),f.fillText(`Angle: ${(C.a*180/Math.PI).toFixed(0)}°`,12,50)}}else f.fillStyle="#94a3b8",f.font="14px system-ui, -apple-system, Segoe UI, Roboto, sans-serif",f.fillText("Нет данных сервера. Подключитесь к матчу.",12,20)}v=requestAnimationFrame(m)};return v=requestAnimationFrame(m),()=>cancelAnimationFrame(v)},[i,h,d]),I.useEffect(()=>{if(!n||!o)return;const v=setInterval(()=>{const m=l.current;if(!m||m.readyState!==WebSocket.OPEN)return;const f=Fn("KeyW")||Fn("ArrowUp"),g=Fn("KeyS")||Fn("ArrowDown"),k=Fn("KeyA")||Fn("ArrowLeft"),C=Fn("KeyD")||Fn("ArrowRight"),T=Fn("Space"),_=[],b=k?-1:C?1:0;_.push({type:"TURN",value:b}),_.push({type:"MOVE",thrust:f,brake:g}),T&&!p.current&&_.push({type:"SHOOT"}),p.current=T;const D={kind:"cmd",battleId:o,tick:Date.now(),commands:_},O=new TextEncoder().encode(JSON.stringify(D));m.send(O)},50);return()=>clearInterval(v)},[n,o]);const w=async()=>{if(!(e!=null&&e.access_token)){alert("Сначала войдите");return}try{const v=await fetch("undefined/api/matchmaking/casual",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error(`Matchmaking failed: ${v.status}`);const m=await v.json();a(m.battleId);const f=`undefined/ws/game?battleId=${m.battleId}&access_token=${encodeURIComponent(e.access_token)}`,g=new WebSocket(f);g.binaryType="arraybuffer",g.onopen=()=>r(!0),g.onclose=()=>r(!1),g.onerror=()=>r(!1);const k=C=>{var b;const T=JSON.parse(C),_=cx(T,(b=e==null?void 0:e.profile)==null?void 0:b.sub);(_==null?void 0:_.kind)==="snapshot"&&(_.ships=_.ships.map(D=>({...D,me:D.id===_.you})),u.current=_,c(D=>D+1))};g.onmessage=C=>{var T;try{if(typeof C.data=="string"){k(C.data);return}if(C.data instanceof ArrayBuffer){const _=new TextDecoder().decode(new Uint8Array(C.data));k(_);return}(T=C.data)!=null&&T.arrayBuffer&&C.data.arrayBuffer().then(_=>{const b=new TextDecoder().decode(new Uint8Array(_));k(b)})}catch(_){console.error("WS parse/adapt error",_)}},l.current=g}catch(v){console.error(v),alert(v.message||"Не удалось подключиться")}},y=()=>{var v;(v=l.current)==null||v.close(),l.current=null,r(!1)};return A.jsxs("div",{className:"p-4 flex flex-col items-center gap-3",children:[A.jsxs("div",{className:"w-full max-w-5xl flex flex-wrap items-center gap-2",children:[n?A.jsx("button",{className:"px-3 py-1 border rounded",onClick:y,children:"Отключиться"}):A.jsx("button",{className:"px-3 py-1 border rounded",onClick:w,disabled:!e,children:"Подключиться к матчу"}),A.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>s(v=>!v),children:i?"⏸ Пауза":"▶️ Продолжить"}),A.jsxs("div",{className:"text-sm text-gray-500 ml-auto",children:[n?A.jsx("span",{className:"text-green-400",children:"● Online"}):A.jsx("span",{className:"text-gray-400",children:"● Offline"}),o&&A.jsxs("span",{className:"ml-2",children:["Battle: ",A.jsx("span",{className:"font-mono",children:o})]}),A.jsxs("span",{className:"ml-4",children:["Packets: ",d]})]})]}),A.jsxs("div",{className:"text-sm text-gray-500 -mt-1",children:["Управление: ",A.jsx("kbd",{children:"W/S"})," — тяга/тормоз, ",A.jsx("kbd",{children:"A/D"})," — поворот, ",A.jsx("kbd",{children:"Space"})," — огонь"]}),A.jsx("canvas",{ref:t,className:"rounded-lg shadow-lg border border-slate-700 bg-black",width:Cn.w,height:Cn.h})]})}function $i({element:e}){const{user:t}=Oi();return t?e:A.jsx(_S,{to:"/login",replace:!0})}function fx(){return A.jsxs(A.Fragment,{children:[A.jsx(y1,{}),A.jsx(SS,{})]})}const hx=PS([{path:"/",element:A.jsx(fx,{}),children:[{index:!0,element:A.jsx($i,{element:A.jsx(Gk,{})})},{path:"tournaments",element:A.jsx($i,{element:A.jsx(nx,{})})},{path:"tournaments/new",element:A.jsx($i,{element:A.jsx(rx,{})})},{path:"tournaments/:id",element:A.jsx($i,{element:A.jsx(ix,{})})},{path:"battles/:id",element:A.jsx($i,{element:A.jsx(sx,{})})},{path:"game",element:A.jsx($i,{element:A.jsx(dx,{})})}]},{path:"/login",element:A.jsx(v1,{})},{path:"/callback",element:A.jsx(w1,{})}]);var px=e=>{switch(e){case"success":return yx;case"info":return wx;case"warning":return vx;case"error":return _x;default:return null}},gx=Array(12).fill(0),mx=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},gx.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yx=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vx=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wx=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_x=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Sx=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ex=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},vd=1,kx=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:vd++,s=this.toasts.find(a=>a.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...e,id:i,title:n}),{...a,...e,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,s,o=r.then(async l=>{if(s=["resolve",l],F.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(Cx(l)&&!l.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(s=["reject",l],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,u)=>o.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||vd++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bt=new kx,xx=(e,t)=>{let n=(t==null?void 0:t.id)||vd++;return bt.addToast({title:e,...t,id:n}),n},Cx=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bx=xx,Rx=()=>bt.toasts,Tx=()=>bt.getActiveToasts(),Px=Object.assign(bx,{success:bt.success,info:bt.info,warning:bt.warning,error:bt.error,custom:bt.custom,message:bt.message,promise:bt.promise,dismiss:bt.dismiss,loading:bt.loading},{getHistory:Rx,getToasts:Tx});function Ix(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Ix(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Da(e){return e.label!==void 0}var Nx=3,Ox="32px",Dx="16px",Bp=4e3,Mx=356,Ax=14,Lx=20,Ux=200;function tn(...e){return e.filter(Boolean).join(" ")}function jx(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Fx=e=>{var t,n,r,i,s,o,a,l,u,d,c;let{invert:p,toast:h,unstyled:w,interacting:y,setHeights:v,visibleToasts:m,heights:f,index:g,toasts:k,expanded:C,removeToast:T,defaultRichColors:_,closeButton:b,style:D,cancelButtonStyle:O,actionButtonStyle:J,className:G="",descriptionClassName:ce="",duration:xe,position:We,gap:qe,loadingIcon:Oe,expandByDefault:U,classNames:j,icons:V,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:K}=e,[oe,ae]=F.useState(null),[we,Ue]=F.useState(null),[de,nr]=F.useState(!1),[zr,Di]=F.useState(!1),[$r,Ye]=F.useState(!1),[Dn,ra]=F.useState(!1),[lu,pn]=F.useState(!1),[uu,Us]=F.useState(0),[ia,sa]=F.useState(0),Br=F.useRef(h.duration||xe||Bp),oa=F.useRef(null),Mn=F.useRef(null),An=g===0,Hr=g+1<=m,gt=h.type,gn=h.dismissible!==!1,mn=h.className||"",Zt=h.descriptionClassName||"",Wr=F.useMemo(()=>f.findIndex(ee=>ee.toastId===h.id)||0,[f,h.id]),Mi=F.useMemo(()=>{var ee;return(ee=h.closeButton)!=null?ee:b},[h.closeButton,b]),aa=F.useMemo(()=>h.duration||xe||Bp,[h.duration,xe]),Ht=F.useRef(0),Ln=F.useRef(0),js=F.useRef(0),Un=F.useRef(null),[cu,la]=We.split("-"),qr=F.useMemo(()=>f.reduce((ee,ye,Se)=>Se>=Wr?ee:ee+ye.height,0),[f,Wr]),Fs=Ex(),zs=h.invert||p,Vr=gt==="loading";Ln.current=F.useMemo(()=>Wr*qe+qr,[Wr,qr]),F.useEffect(()=>{Br.current=aa},[aa]),F.useEffect(()=>{nr(!0)},[]),F.useEffect(()=>{let ee=Mn.current;if(ee){let ye=ee.getBoundingClientRect().height;return sa(ye),v(Se=>[{toastId:h.id,height:ye,position:h.position},...Se]),()=>v(Se=>Se.filter(at=>at.toastId!==h.id))}},[v,h.id]),F.useLayoutEffect(()=>{if(!de)return;let ee=Mn.current,ye=ee.style.height;ee.style.height="auto";let Se=ee.getBoundingClientRect().height;ee.style.height=ye,sa(Se),v(at=>at.find(Mt=>Mt.toastId===h.id)?at.map(Mt=>Mt.toastId===h.id?{...Mt,height:Se}:Mt):[{toastId:h.id,height:Se,position:h.position},...at])},[de,h.title,h.description,v,h.id]);let yn=F.useCallback(()=>{Di(!0),Us(Ln.current),v(ee=>ee.filter(ye=>ye.toastId!==h.id)),setTimeout(()=>{T(h)},Ux)},[h,T,v,Ln]);F.useEffect(()=>{if(h.promise&&gt==="loading"||h.duration===1/0||h.type==="loading")return;let ee;return C||y||K&&Fs?(()=>{if(js.current<Ht.current){let ye=new Date().getTime()-Ht.current;Br.current=Br.current-ye}js.current=new Date().getTime()})():Br.current!==1/0&&(Ht.current=new Date().getTime(),ee=setTimeout(()=>{var ye;(ye=h.onAutoClose)==null||ye.call(h,h),yn()},Br.current)),()=>clearTimeout(ee)},[C,y,h,gt,K,Fs,yn]),F.useEffect(()=>{h.delete&&yn()},[yn,h.delete]);function ua(){var ee,ye,Se;return V!=null&&V.loading?F.createElement("div",{className:tn(j==null?void 0:j.loader,(ee=h==null?void 0:h.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":gt==="loading"},V.loading):Oe?F.createElement("div",{className:tn(j==null?void 0:j.loader,(ye=h==null?void 0:h.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":gt==="loading"},Oe):F.createElement(mx,{className:tn(j==null?void 0:j.loader,(Se=h==null?void 0:h.classNames)==null?void 0:Se.loader),visible:gt==="loading"})}return F.createElement("li",{tabIndex:0,ref:Mn,className:tn(G,mn,j==null?void 0:j.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,j==null?void 0:j.default,j==null?void 0:j[gt],(n=h==null?void 0:h.classNames)==null?void 0:n[gt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:_,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":de,"data-promise":!!h.promise,"data-swiped":lu,"data-removed":zr,"data-visible":Hr,"data-y-position":cu,"data-x-position":la,"data-index":g,"data-front":An,"data-swiping":$r,"data-dismissible":gn,"data-type":gt,"data-invert":zs,"data-swipe-out":Dn,"data-swipe-direction":we,"data-expanded":!!(C||U&&de),style:{"--index":g,"--toasts-before":g,"--z-index":k.length-g,"--offset":`${zr?uu:Ln.current}px`,"--initial-height":U?"auto":`${ia}px`,...D,...h.style},onDragEnd:()=>{Ye(!1),ae(null),Un.current=null},onPointerDown:ee=>{Vr||!gn||(oa.current=new Date,Us(Ln.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(Ye(!0),Un.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,ye,Se,at;if(Dn||!gn)return;Un.current=null;let Mt=Number(((ee=Mn.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vn=Number(((ye=Mn.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),S=new Date().getTime()-((Se=oa.current)==null?void 0:Se.getTime()),x=oe==="x"?Mt:vn,R=Math.abs(x)/S;if(Math.abs(x)>=Lx||R>.11){Us(Ln.current),(at=h.onDismiss)==null||at.call(h,h),Ue(oe==="x"?Mt>0?"right":"left":vn>0?"down":"up"),yn(),ra(!0),pn(!1);return}Ye(!1),ae(null)},onPointerMove:ee=>{var ye,Se,at,Mt;if(!Un.current||!gn||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let vn=ee.clientY-Un.current.y,S=ee.clientX-Un.current.x,x=(Se=e.swipeDirections)!=null?Se:jx(We);!oe&&(Math.abs(S)>1||Math.abs(vn)>1)&&ae(Math.abs(S)>Math.abs(vn)?"x":"y");let R={x:0,y:0};oe==="y"?(x.includes("top")||x.includes("bottom"))&&(x.includes("top")&&vn<0||x.includes("bottom")&&vn>0)&&(R.y=vn):oe==="x"&&(x.includes("left")||x.includes("right"))&&(x.includes("left")&&S<0||x.includes("right")&&S>0)&&(R.x=S),(Math.abs(R.x)>0||Math.abs(R.y)>0)&&pn(!0),(at=Mn.current)==null||at.style.setProperty("--swipe-amount-x",`${R.x}px`),(Mt=Mn.current)==null||Mt.style.setProperty("--swipe-amount-y",`${R.y}px`)}},Mi&&!h.jsx?F.createElement("button",{"aria-label":ge,"data-disabled":Vr,"data-close-button":!0,onClick:Vr||!gn?()=>{}:()=>{var ee;yn(),(ee=h.onDismiss)==null||ee.call(h,h)},className:tn(j==null?void 0:j.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=V==null?void 0:V.close)!=null?s:Sx):null,h.jsx||I.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:F.createElement(F.Fragment,null,gt||h.icon||h.promise?F.createElement("div",{"data-icon":"",className:tn(j==null?void 0:j.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ua():null,h.type!=="loading"?h.icon||(V==null?void 0:V[gt])||px(gt):null):null,F.createElement("div",{"data-content":"",className:tn(j==null?void 0:j.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:tn(j==null?void 0:j.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?F.createElement("div",{"data-description":"",className:tn(ce,Zt,j==null?void 0:j.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),I.isValidElement(h.cancel)?h.cancel:h.cancel&&Da(h.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ee=>{var ye,Se;Da(h.cancel)&&gn&&((Se=(ye=h.cancel).onClick)==null||Se.call(ye,ee),yn())},className:tn(j==null?void 0:j.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,I.isValidElement(h.action)?h.action:h.action&&Da(h.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||J,onClick:ee=>{var ye,Se;Da(h.action)&&((Se=(ye=h.action).onClick)==null||Se.call(ye,ee),!ee.defaultPrevented&&yn())},className:tn(j==null?void 0:j.actionButton,(c=h==null?void 0:h.classNames)==null?void 0:c.actionButton)},h.action.label):null))};function Hp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zx(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?Dx:Ox;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var $x=I.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:c,duration:p,style:h,visibleToasts:w=Nx,toastOptions:y,dir:v=Hp(),gap:m=Ax,loadingIcon:f,icons:g,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:C}=e,[T,_]=F.useState([]),b=F.useMemo(()=>Array.from(new Set([r].concat(T.filter(K=>K.position).map(K=>K.position)))),[T,r]),[D,O]=F.useState([]),[J,G]=F.useState(!1),[ce,xe]=F.useState(!1),[We,qe]=F.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Oe=F.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=F.useRef(null),V=F.useRef(!1),ge=F.useCallback(K=>{_(oe=>{var ae;return(ae=oe.find(we=>we.id===K.id))!=null&&ae.delete||bt.dismiss(K.id),oe.filter(({id:we})=>we!==K.id)})},[]);return F.useEffect(()=>bt.subscribe(K=>{if(K.dismiss){_(oe=>oe.map(ae=>ae.id===K.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{vy.flushSync(()=>{_(oe=>{let ae=oe.findIndex(we=>we.id===K.id);return ae!==-1?[...oe.slice(0,ae),{...oe[ae],...K},...oe.slice(ae+1)]:[K,...oe]})})})}),[]),F.useEffect(()=>{if(d!=="system"){qe(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?qe("dark"):qe("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:oe})=>{qe(oe?"dark":"light")})}catch{K.addListener(({matches:ae})=>{try{qe(ae?"dark":"light")}catch(we){console.error(we)}})}},[d]),F.useEffect(()=>{T.length<=1&&G(!1)},[T]),F.useEffect(()=>{let K=oe=>{var ae,we;i.every(Ue=>oe[Ue]||oe.code===Ue)&&(G(!0),(ae=Oe.current)==null||ae.focus()),oe.code==="Escape"&&(document.activeElement===Oe.current||(we=Oe.current)!=null&&we.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),F.useEffect(()=>{if(Oe.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,V.current=!1)}},[Oe.current]),F.createElement("section",{ref:t,"aria-label":`${k} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((K,oe)=>{var ae;let[we,Ue]=K.split("-");return T.length?F.createElement("ol",{key:K,dir:v==="auto"?Hp():v,tabIndex:-1,ref:Oe,className:a,"data-sonner-toaster":!0,"data-theme":We,"data-y-position":we,"data-lifted":J&&T.length>1&&!s,"data-x-position":Ue,style:{"--front-toast-height":`${((ae=D[0])==null?void 0:ae.height)||0}px`,"--width":`${Mx}px`,"--gap":`${m}px`,...h,...zx(l,u)},onBlur:de=>{V.current&&!de.currentTarget.contains(de.relatedTarget)&&(V.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||V.current||(V.current=!0,j.current=de.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{ce||G(!1)},onDragEnd:()=>G(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||xe(!0)},onPointerUp:()=>xe(!1)},T.filter(de=>!de.position&&oe===0||de.position===K).map((de,nr)=>{var zr,Di;return F.createElement(Fx,{key:de.id,icons:g,index:nr,toast:de,defaultRichColors:c,duration:(zr=y==null?void 0:y.duration)!=null?zr:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Di=y==null?void 0:y.closeButton)!=null?Di:o,interacting:ce,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ge,toasts:T.filter($r=>$r.position==de.position),heights:D.filter($r=>$r.position==de.position),setHeights:O,expandByDefault:s,gap:m,loadingIcon:f,expanded:J,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});class yi extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class Nf extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class un extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Bx extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class Hx extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class Wx extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class Wp extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class qx extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class Iv{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class au{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var N;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(N||(N={}));class zo{constructor(){}log(t,n){}}zo.instance=new zo;const Vx="8.0.7";class Ke{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class Me{static get isBrowser(){return!Me.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Me.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Me.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function $o(e,t){let n="";return Pi(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${Qx(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function Qx(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function Pi(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function Nv(e,t,n,r,i,s){const o={},[a,l]=Rs();o[a]=l,e.log(N.Trace,`(${t} transport) sending data. ${$o(i,s.logMessageContent)}.`);const u=Pi(i)?"arraybuffer":"text",d=await n.post(r,{content:i,headers:{...o,...s.headers},responseType:u,timeout:s.timeout,withCredentials:s.withCredentials});e.log(N.Trace,`(${t} transport) request complete. Response status: ${d.statusCode}.`)}function Kx(e){return e===void 0?new Ol(N.Information):e===null?zo.instance:e.log!==void 0?e:new Ol(e)}class Jx{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Ol{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${N[t]}: ${n}`;switch(t){case N.Critical:case N.Error:this.out.error(r);break;case N.Warning:this.out.warn(r);break;case N.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Rs(){let e="X-SignalR-User-Agent";return Me.isNode&&(e="User-Agent"),[e,Yx(Vx,Xx(),Zx(),Gx())]}function Yx(e,t,n,r){let i="Microsoft SignalR/";const s=e.split(".");return i+=`${s[0]}.${s[1]}`,i+=` (${e}; `,t&&t!==""?i+=`${t}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function Xx(){if(Me.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Gx(){if(Me.isNode)return process.versions.node}function Zx(){return Me.isNode?"NodeJS":"Browser"}function Ju(e){return e.stack?e.stack:e.message?e.message:`${e}`}function eC(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class tC extends au{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||Me.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(eC());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new un;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new un});let i=null;if(t.timeout){const l=t.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(N.Warning,"Timeout from HTTP request."),r=new Nf},l)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Pi(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let s;try{s=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(l){throw r||(this._logger.log(N.Warning,`Error from HTTP request. ${l}.`),l)}finally{i&&clearTimeout(i),t.abortSignal&&(t.abortSignal.onabort=null)}if(!s.ok){const l=await qp(s,"text");throw new yi(l||s.statusText,s.status)}const a=await qp(s,t.responseType);return new Iv(s.status,s.statusText,a)}getCookieString(t){let n="";return Me.isNode&&this._jar&&this._jar.getCookies(t,(r,i)=>n=i.join("; ")),n}}function qp(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class nC extends au{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new un):t.method?t.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Pi(t.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=t.headers;s&&Object.keys(s).forEach(o=>{i.setRequestHeader(o,s[o])}),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{i.abort(),r(new un)}),t.timeout&&(i.timeout=t.timeout),i.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new Iv(i.status,i.statusText,i.response||i.responseText)):r(new yi(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(N.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new yi(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(N.Warning,"Timeout from HTTP request."),r(new Nf)},i.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class rC extends au{constructor(t){if(super(),typeof fetch<"u"||Me.isNode)this._httpClient=new tC(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new nC(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new un):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class jt{static write(t){return`${t}${jt.RecordSeparator}`}static parse(t){if(t[t.length-1]!==jt.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(jt.RecordSeparator);return n.pop(),n}}jt.RecordSeparatorCode=30;jt.RecordSeparator=String.fromCharCode(jt.RecordSeparatorCode);class iC{writeHandshakeRequest(t){return jt.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(Pi(t)){const a=new Uint8Array(t),l=a.indexOf(jt.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");const u=l+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,u))),r=a.byteLength>u?a.slice(u).buffer:null}else{const a=t,l=a.indexOf(jt.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");const u=l+1;n=a.substring(0,u),r=a.length>u?a.substring(u):null}const i=jt.parse(n),s=JSON.parse(i[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[r,s]}}var te;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(te||(te={}));class sC{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new Jx(this,t)}}class oC{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let i=()=>{},s=()=>{};Pi(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((o,a)=>{i=o,s=a})),this._messages.push(new aC(n,this._totalMessageCount,i,s))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=t.sequenceId)n=r,Pi(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==te.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:te.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case te.Invocation:case te.StreamItem:case te.Completion:case te.StreamInvocation:case te.CancelInvocation:return!0;case te.Close:case te.Sequence:case te.Ping:case te.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:te.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class aC{constructor(t,n,r,i){this._message=t,this._id=n,this._resolver=r,this._rejector=i}}const lC=30*1e3,uC=15*1e3,cC=1e5;var Pe;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(Pe||(Pe={}));class Of{static create(t,n,r,i,s,o,a){return new Of(t,n,r,i,s,o,a)}constructor(t,n,r,i,s,o,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(N.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ke.isRequired(t,"connection"),Ke.isRequired(n,"logger"),Ke.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=s??lC,this.keepAliveIntervalInMilliseconds=o??uC,this._statefulReconnectBufferSize=a??cC,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=i,this._handshakeProtocol=new iC,this.connection.onreceive=l=>this._processIncomingData(l),this.connection.onclose=l=>this._connectionClosed(l),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Pe.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:te.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==Pe.Disconnected&&this._connectionState!==Pe.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Pe.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Pe.Connecting,this._logger.log(N.Debug,"Starting HubConnection.");try{await this._startInternal(),Me.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Pe.Connected,this._connectionStarted=!0,this._logger.log(N.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=Pe.Disconnected,this._logger.log(N.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(N.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(N.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new oC(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(N.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===Pe.Disconnected)return this._logger.log(N.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Pe.Disconnecting)return this._logger.log(N.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Pe.Disconnecting,this._logger.log(N.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(N.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Pe.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new un("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,i]=this._replaceStreamingParams(n),s=this._createStreamInvocation(t,n,i);let o;const a=new sC;return a.cancelCallback=()=>{const l=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],o.then(()=>this._sendWithProtocol(l))},this._callbacks[s.invocationId]=(l,u)=>{if(u){a.error(u);return}else l&&(l.type===te.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},o=this._sendWithProtocol(s).catch(l=>{a.error(l),delete this._callbacks[s.invocationId]}),this._launchStreams(r,o),a}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,i]=this._replaceStreamingParams(n),s=this._sendWithProtocol(this._createInvocation(t,n,!0,i));return this._launchStreams(r,s),s}invoke(t,...n){const[r,i]=this._replaceStreamingParams(n),s=this._createInvocation(t,n,!1,i);return new Promise((a,l)=>{this._callbacks[s.invocationId]=(d,c)=>{if(c){l(c);return}else d&&(d.type===te.Completion?d.error?l(new Error(d.error)):a(d.result):l(new Error(`Unexpected message type: ${d.type}`)))};const u=this._sendWithProtocol(s).catch(d=>{l(d),delete this._callbacks[s.invocationId]});this._launchStreams(r,u)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case te.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(N.Error,`Invoke client method threw error: ${Ju(i)}`)});break;case te.StreamItem:case te.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===te.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(s){this._logger.log(N.Error,`Stream callback threw error: ${Ju(s)}`)}}break}case te.Ping:break;case te.Close:{this._logger.log(N.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case te.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case te.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(N.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(i){const s="Error parsing handshake response: "+i;this._logger.log(N.Error,s);const o=new Error(s);throw this._handshakeRejecter(o),o}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(N.Error,i);const s=new Error(i);throw this._handshakeRejecter(s),s}else this._logger.log(N.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Pe.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(N.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(N.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),s=!!t.invocationId;let o,a,l;for(const u of i)try{const d=o;o=await u.apply(this,t.arguments),s&&o&&d&&(this._logger.log(N.Error,`Multiple results provided for '${n}'. Sending error to server.`),l=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),a=void 0}catch(d){a=d,this._logger.log(N.Error,`A callback for the method '${n}' threw error '${d}'.`)}l?await this._sendWithProtocol(l):s?(a?l=this._createCompletionMessage(t.invocationId,`${a}`,null):o!==void 0?l=this._createCompletionMessage(t.invocationId,null,o):(this._logger.log(N.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),l=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(l)):o&&this._logger.log(N.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(N.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new un("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Pe.Disconnecting?this._completeClose(t):this._connectionState===Pe.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===Pe.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=Pe.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),Me.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(N.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,i=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),s=this._getNextRetryDelay(r++,0,i);if(s===null){this._logger.log(N.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=Pe.Reconnecting,t?this._logger.log(N.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(N.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(o=>o.apply(this,[t]))}catch(o){this._logger.log(N.Error,`An onreconnecting callback called with error '${t}' threw error '${o}'.`)}if(this._connectionState!==Pe.Reconnecting){this._logger.log(N.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;s!==null;){if(this._logger.log(N.Information,`Reconnect attempt number ${r} will start in ${s} ms.`),await new Promise(o=>{this._reconnectDelayHandle=setTimeout(o,s)}),this._reconnectDelayHandle=void 0,this._connectionState!==Pe.Reconnecting){this._logger.log(N.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Pe.Connected,this._logger.log(N.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(o=>o.apply(this,[this.connection.connectionId]))}catch(o){this._logger.log(N.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${o}'.`)}return}catch(o){if(this._logger.log(N.Information,`Reconnect attempt failed because of error '${o}'.`),this._connectionState!==Pe.Reconnecting){this._logger.log(N.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Pe.Disconnecting&&this._completeClose();return}i=o instanceof Error?o:new Error(o.toString()),s=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(N.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(i){return this._logger.log(N.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,t)}catch(s){this._logger.log(N.Error,`Stream 'error' callback called with '${t}' threw error: ${Ju(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:t,type:te.Invocation}:{arguments:n,target:t,type:te.Invocation};{const s=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:s.toString(),streamIds:i,target:t,type:te.Invocation}:{arguments:n,invocationId:s.toString(),target:t,type:te.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let s;i instanceof Error?s=i.message:i&&i.toString?s=i.toString():s="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,s)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let i=0;i<t.length;i++){const s=t[i];if(this._isObservable(s)){const o=this._invocationId;this._invocationId++,n[o]=s,r.push(o.toString()),t.splice(i,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:t,type:te.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:t,type:te.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:te.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:te.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:te.Completion}:{invocationId:t,result:r,type:te.Completion}}_createCloseMessage(){return{type:te.Close}}}const dC=[0,2e3,1e4,3e4,null];class Vp{constructor(t){this._retryDelays=t!==void 0?[...t,null]:dC}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class vi{}vi.Authorization="Authorization";vi.Cookie="Cookie";class fC extends au{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[vi.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[vi.Authorization]&&delete t.headers[vi.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var Xe;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(Xe||(Xe={}));var ft;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(ft||(ft={}));let hC=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Qp{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new hC,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(Ke.isRequired(t,"url"),Ke.isRequired(n,"transferFormat"),Ke.isIn(n,ft,"transferFormat"),this._url=t,this._logger.log(N.Trace,"(LongPolling transport) Connecting."),n===ft.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=Rs(),s={[r]:i,...this._options.headers},o={abortSignal:this._pollAbort.signal,headers:s,timeout:1e5,withCredentials:this._options.withCredentials};n===ft.Binary&&(o.responseType="arraybuffer");const a=`${t}&_=${Date.now()}`;this._logger.log(N.Trace,`(LongPolling transport) polling: ${a}.`);const l=await this._httpClient.get(a,o);l.statusCode!==200?(this._logger.log(N.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new yi(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,o)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(N.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(N.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(N.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new yi(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(N.Trace,`(LongPolling transport) data received. ${$o(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(N.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof Nf?this._logger.log(N.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(N.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(N.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?Nv(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(N.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(N.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=Rs();t[n]=r;const i={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let s;try{await this._httpClient.delete(this._url,i)}catch(o){s=o}s?s instanceof yi&&(s.statusCode===404?this._logger.log(N.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(N.Trace,`(LongPolling transport) Error sending a DELETE request: ${s}`)):this._logger.log(N.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(N.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(N.Trace,t),this.onclose(this._closeError)}}}class pC{constructor(t,n,r,i){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(t,n){return Ke.isRequired(t,"url"),Ke.isRequired(n,"transferFormat"),Ke.isIn(n,ft,"transferFormat"),this._logger.log(N.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let s=!1;if(n!==ft.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let o;if(Me.isBrowser||Me.isWebWorker)o=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const a=this._httpClient.getCookieString(t),l={};l.Cookie=a;const[u,d]=Rs();l[u]=d,o=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...l,...this._options.headers}})}try{o.onmessage=a=>{if(this.onreceive)try{this._logger.log(N.Trace,`(SSE transport) data received. ${$o(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},o.onerror=a=>{s?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(N.Information,`SSE connected to ${this._url}`),this._eventSource=o,s=!0,r()}}catch(a){i(a);return}})}async send(t){return this._eventSource?Nv(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class gC{constructor(t,n,r,i,s,o){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=s,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=o}async connect(t,n){Ke.isRequired(t,"url"),Ke.isRequired(n,"transferFormat"),Ke.isIn(n,ft,"transferFormat"),this._logger.log(N.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,s)=>{t=t.replace(/^http/,"ws");let o;const a=this._httpClient.getCookieString(t);let l=!1;if(Me.isNode||Me.isReactNative){const u={},[d,c]=Rs();u[d]=c,r&&(u[vi.Authorization]=`Bearer ${r}`),a&&(u[vi.Cookie]=a),o=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);o||(o=new this._webSocketConstructor(t)),n===ft.Binary&&(o.binaryType="arraybuffer"),o.onopen=u=>{this._logger.log(N.Information,`WebSocket connected to ${t}.`),this._webSocket=o,l=!0,i()},o.onerror=u=>{let d=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?d=u.error:d="There was an error with the transport",this._logger.log(N.Information,`(WebSockets transport) ${d}.`)},o.onmessage=u=>{if(this._logger.log(N.Trace,`(WebSockets transport) data received. ${$o(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(d){this._close(d);return}},o.onclose=u=>{if(l)this._close(u);else{let d=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?d=u.error:d="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(d))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(N.Trace,`(WebSockets transport) sending data. ${$o(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(N.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const Kp=100;class mC{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ke.isRequired(t,"url"),this._logger=Kx(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if(Me.isNode&&typeof require<"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=s("ws"),i=s("eventsource")}!Me.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Me.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!Me.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Me.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new fC(n.httpClient||new rC(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||ft.Binary,Ke.isIn(t,ft,"transferFormat"),this._logger.log(N.Debug,`Starting connection with transfer format '${ft[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(N.Error,n),await this._stopPromise,Promise.reject(new un(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(N.Error,n),Promise.reject(new un(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Df(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(N.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(N.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(N.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(N.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Xe.WebSockets)this.transport=this._constructTransport(Xe.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new un("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const s=r.accessToken;this._accessTokenFactory=()=>s,this._httpClient._accessToken=s,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<Kp);if(i===Kp&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof Qp&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(N.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(N.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,i]=Rs();n[r]=i;const s=this._resolveNegotiateUrl(t);this._logger.log(N.Debug,`Sending negotiation request: ${s}.`);try{const o=await this._httpClient.post(s,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(o.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${o.statusCode}'`));const a=JSON.parse(o.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Wp("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(o){let a="Failed to complete negotiation with the server: "+o;return o instanceof yi&&o.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(N.Error,a),Promise.reject(new Wp(a))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,i){let s=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(N.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(s,i),this.connectionId=r.connectionId;return}const o=[],a=r.availableTransports||[];let l=r;for(const u of a){const d=this._resolveTransportOrError(u,n,i,(l==null?void 0:l.useStatefulReconnect)===!0);if(d instanceof Error)o.push(`${u.transport} failed:`),o.push(d);else if(this._isITransport(d)){if(this.transport=d,!l){try{l=await this._getNegotiationResponse(t)}catch(c){return Promise.reject(c)}s=this._createConnectUrl(t,l.connectionToken)}try{await this._startTransport(s,i),this.connectionId=l.connectionId;return}catch(c){if(this._logger.log(N.Error,`Failed to start the transport '${u.transport}': ${c}`),l=void 0,o.push(new Wx(`${u.transport} failed: ${c}`,Xe[u.transport])),this._connectionState!=="Connecting"){const p="Failed to select transport before stop() was called.";return this._logger.log(N.Debug,p),Promise.reject(new un(p))}}}}return o.length>0?Promise.reject(new qx(`Unable to connect to the server with any of the available transports. ${o.join(" ")}`,o)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case Xe.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new gC(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Xe.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new pC(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Xe.LongPolling:return new Qp(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,i){const s=Xe[t.transport];if(s==null)return this._logger.log(N.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(yC(n,s))if(t.transferFormats.map(a=>ft[a]).indexOf(r)>=0){if(s===Xe.WebSockets&&!this._options.WebSocket||s===Xe.ServerSentEvents&&!this._options.EventSource)return this._logger.log(N.Debug,`Skipping transport '${Xe[s]}' because it is not supported in your environment.'`),new Bx(`'${Xe[s]}' is not supported in your environment.`,s);this._logger.log(N.Debug,`Selecting transport '${Xe[s]}'.`);try{return this.features.reconnect=s===Xe.WebSockets?i:void 0,this._constructTransport(s)}catch(a){return a}}else return this._logger.log(N.Debug,`Skipping transport '${Xe[s]}' because it does not support the requested transfer format '${ft[r]}'.`),new Error(`'${Xe[s]}' does not support ${ft[r]}.`);else return this._logger.log(N.Debug,`Skipping transport '${Xe[s]}' because it was disabled by the client.`),new Hx(`'${Xe[s]}' is disabled by the client.`,s)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(N.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(N.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(N.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(N.Error,`Connection disconnected with error '${t}'.`):this._logger.log(N.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(N.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(N.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!Me.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(N.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function yC(e,t){return!e||(t&e)!==0}class Df{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Ma,this._transportResult=new Ma,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Ma),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Ma;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):Df._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(s=>s.byteLength).reduce((s,o)=>s+o),r=new Uint8Array(n);let i=0;for(const s of t)r.set(new Uint8Array(s),i),i+=s.byteLength;return r.buffer}}class Ma{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const vC="json";class wC{constructor(){this.name=vC,this.version=2,this.transferFormat=ft.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=zo.instance);const r=jt.parse(t),i=[];for(const s of r){const o=JSON.parse(s);if(typeof o.type!="number")throw new Error("Invalid payload.");switch(o.type){case te.Invocation:this._isInvocationMessage(o);break;case te.StreamItem:this._isStreamItemMessage(o);break;case te.Completion:this._isCompletionMessage(o);break;case te.Ping:break;case te.Close:break;case te.Ack:this._isAckMessage(o);break;case te.Sequence:this._isSequenceMessage(o);break;default:n.log(N.Information,"Unknown message type '"+o.type+"' ignored.");continue}i.push(o)}return i}writeMessage(t){return jt.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const _C={trace:N.Trace,debug:N.Debug,info:N.Information,information:N.Information,warn:N.Warning,warning:N.Warning,error:N.Error,critical:N.Critical,none:N.None};function SC(e){const t=_C[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class EC{configureLogging(t){if(Ke.isRequired(t,"logging"),kC(t))this.logger=t;else if(typeof t=="string"){const n=SC(t);this.logger=new Ol(n)}else this.logger=new Ol(t);return this}withUrl(t,n){return Ke.isRequired(t,"url"),Ke.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return Ke.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new Vp(t):this.reconnectPolicy=t:this.reconnectPolicy=new Vp,this}withServerTimeout(t){return Ke.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Ke.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new mC(this.url,t);return Of.create(n,this.logger||zo.instance,this.protocol||new wC,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function kC(e){return e.log!==void 0}function xC(e){const t=`${location.origin}/ws/notifications`;if(!t)throw new Error("SignalR hub URL is not set. Define VITE_NOTIFICATION_HUB in your .env");return new EC().withUrl(t,{accessTokenFactory:()=>e}).withAutomaticReconnect().configureLogging(N.Information).build()}const CC=()=>({push:e=>Px(e)}),bC=e=>{const{push:t}=CC();I.useEffect(()=>{if(!e)return;const n=xC(e);return n.on("notify",(r,i)=>t(i.text??"🔔 Notification")),n.start(),()=>{n.stop()}},[e,t])};function RC(){const{user:e}=Oi();return bC(e==null?void 0:e.access_token),null}const TC=new sE;Yu.createRoot(document.getElementById("root")).render(A.jsx(cE,{client:TC,children:A.jsxs(m1,{children:[A.jsx(jS,{router:hx}),A.jsx(RC,{}),A.jsx($x,{richColors:!0,position:"top-right"})]})}));
